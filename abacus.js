/*! For license information please see abacus.js.LICENSE.txt */
(()=>{var e={1843:e=>{var t={};try{t.EventTarget=(new EventTarget).constructor}catch(e){!function(e,s){var i=e.create,a=e.defineProperty,n=r.prototype;function r(){"use strict";s.set(this,i(null))}function l(e,t,s){a(e,t,{configurable:!0,writable:!0,value:s})}function o(e){var t=e.options;t&&t.once&&e.target.removeEventListener(this.type,e.listener),"function"==typeof e.listener?e.listener.call(e.target,this):e.listener.handleEvent(this)}l(n,"addEventListener",(function(e,t,i){for(var a=s.get(this),n=a[e]||(a[e]=[]),r=0,l=n.length;r<l;r++)if(n[r].listener===t)return;n.push({target:this,listener:t,options:i})})),l(n,"dispatchEvent",(function(e){var t=s.get(this)[e.type];return t&&(l(e,"target",this),l(e,"currentTarget",this),t.slice(0).forEach(o,e),delete e.currentTarget,delete e.target),!0})),l(n,"removeEventListener",(function(e,t){for(var i=s.get(this),a=i[e]||(i[e]=[]),n=0,r=a.length;n<r;n++)if(a[n].listener===t)return void a.splice(n,1)})),t.EventTarget=r}(Object,new WeakMap)}e.exports=t.EventTarget},5160:(e,t,s)=>{"use strict";s.r(t)},4596:function(e,t,s){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(s(4081));s(5160),$.fn.abacus=function(e,t,s){var i=this;return this.each((function(){var n,r=this;if(r.jqueryAbacusInstance instanceof a.default)n=r.jqueryAbacusInstance;else if("object"==typeof e)n=new a.default(r,e);else{if(e)return;n=new a.default(r)}if("string"==typeof e){var l=void 0;switch(e){case"destroy":n.destroy(),r.jqueryAbacusInstance=null;break;case"disable":n.option("disabled",!0);break;case"enable":n.option("disabled",!1);break;case"instance":i=n;break;case"option":void 0!==typeof(l="object"==typeof t?n.option(void 0,t):"string"==typeof t?n.option(t,s):n.option())&&(i=l);break;case"value":case"values":void 0!==typeof(l=n.option(e,t))&&(i=l);break;case"widget":i=$(n.getHtmlWidget())}}})),i}},6507:function(e,t,s){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(s(1843)),n=i(s(2716)),r=function(){function e(e){this._abacusProperties={animate:!1,classes:{abacus:"abacus",vertical:"abacus_vertical",disabled:"abacus_disabled",handle:"abacus__handle",range:"abacus__range",mark:"abacus__mark",markSelected:"abacus__mark_selected",markInrange:"abacus__mark_in-range",tooltip:"abacus__tooltip"},disabled:!1,interval:!1,max:100,min:0,orientation:n.default.HORIZONTAL,range:!1,scale:!1,step:1,tooltip:!1,value:0,values:[0]},e&&this.setAbacusProperties(e),this._eventTarget=new a.default,this._eventUpdateModel=new CustomEvent("update-model")}return Object.defineProperty(e.prototype,"abacusProperties",{get:function(){return this._abacusProperties},enumerable:!1,configurable:!0}),e.prototype.setAbacusProperties=function(e){var t,s,i=e;if(void 0!==i.animate){var a="fast"===i.animate||"slow"===i.animate,r="boolean"==typeof i.animate;a||r?this._abacusProperties.animate=i.animate:parseInt(i.animate,10)?this._abacusProperties.animate=Math.round(parseInt(i.animate,10)):this._abacusProperties.animate=!1}if("object"==typeof i.classes&&(this._abacusProperties.classes||(this._abacusProperties.classes={}),"string"==typeof i.classes.abacus&&i.classes.abacus&&(this._abacusProperties.classes.abacus=i.classes.abacus),"string"==typeof i.classes.disabled&&i.classes.disabled&&(this._abacusProperties.classes.disabled=i.classes.disabled),"string"==typeof i.classes.range&&i.classes.range&&(this._abacusProperties.classes.range=i.classes.range),"string"==typeof i.classes.handle&&i.classes.handle&&(this._abacusProperties.classes.handle=i.classes.handle),"string"==typeof i.classes.mark&&i.classes.mark&&(this._abacusProperties.classes.mark=i.classes.mark),"string"==typeof i.classes.markSelected&&i.classes.markSelected&&(this._abacusProperties.classes.markSelected=i.classes.markSelected),"string"==typeof i.classes.markInrange&&i.classes.markInrange&&(this._abacusProperties.classes.markInrange=i.classes.markInrange),"string"==typeof i.classes.tooltip&&i.classes.tooltip&&(this._abacusProperties.classes.tooltip=i.classes.tooltip)),void 0!==i.disabled&&(this._abacusProperties.disabled=!!i.disabled),void 0!==i.max&&null!==i.max&&"number"==typeof i.max&&(this._abacusProperties.max=i.max),void 0!==i.scale&&(this._abacusProperties.scale=!!i.scale),void 0!==i.min&&null!==i.min&&"number"==typeof i.min&&(this._abacusProperties.min=i.min),this._abacusProperties.max<this._abacusProperties.min){var l=this._abacusProperties.max;this._abacusProperties.max=this._abacusProperties.min,this._abacusProperties.min=l}if(void 0!==i.step&&null!==i.step&&"number"==typeof i.step&&(this._abacusProperties.step=i.step),void 0!==i.tooltip&&(this._abacusProperties.tooltip=!!i.tooltip),void 0!==i.value&&null!==i.value&&(Number.isNaN(i.value)||("string"==typeof i.value&&(i.value=parseFloat(i.value)),i.value=this.roundValuePerStep(i.value),this._abacusProperties.value=i.value,(null===(t=this._abacusProperties.values)||void 0===t?void 0:t.length)||(this._abacusProperties.values=[]),this._abacusProperties.values[0]=i.value)),null===(s=i.values)||void 0===s?void 0:s.length){this._abacusProperties.values=[];for(var o=0;o<i.values.length&&("string"==typeof i.values[o]&&(i.values[o]=parseFloat(i.values[o].toString())),i.values[o]=this.roundValuePerStep(i.values[o]),this._abacusProperties.values[o]=i.values[o],0===o&&(this._abacusProperties.value=i.values[o]),!(o>1));o+=1);this._abacusProperties.values.sort((function(e,t){return e>t?1:e===t?0:-1})),this._abacusProperties.values.length<2?this._abacusProperties.interval=!1:this._abacusProperties.interval=!0}for(o=0;o<this._abacusProperties.values.length;o+=1)0===o&&this._abacusProperties.values[0]<this._abacusProperties.min&&(this._abacusProperties.values[0]=this._abacusProperties.min),1===o&&this._abacusProperties.values[1]>this._abacusProperties.max&&(this._abacusProperties.values[1]=this._abacusProperties.max);void 0!==i.range&&(!1===i.range||!0===i.range?this._abacusProperties.range=i.range:"max"===i.range?this._abacusProperties.range="max":"min"===i.range&&(this._abacusProperties.range="min")),void 0!==i.orientation&&("vertical"===i.orientation||i.orientation===n.default.VERTICAL?this._abacusProperties.orientation=n.default.VERTICAL:this._abacusProperties.orientation=n.default.HORIZONTAL),void 0!==i.change&&(this._abacusProperties.change=i.change),void 0!==i.create&&(this._abacusProperties.create=i.create),void 0!==i.slide&&(this._abacusProperties.slide=i.slide),void 0!==i.start&&(this._abacusProperties.start=i.start),void 0!==i.stop&&(this._abacusProperties.stop=i.stop),this._eventTarget&&this._eventTarget.dispatchEvent(this._eventUpdateModel)},Object.defineProperty(e.prototype,"eventTarget",{get:function(){return this._eventTarget},enumerable:!1,configurable:!0}),e.prototype.roundValuePerStep=function(t){var s=t,i=this._abacusProperties.min,a=this._abacusProperties.max,n=this._abacusProperties.step;if(t>=a)return a;if(t<=i)return i;for(var r=i;r<a;r+=n)if(t>r&&t<r+n){if(r+n>a){s=a;break}var l=r+n;s=t-r<l-t?r:l;break}return e.round(s,n)},e.countNumAfterPoint=function(e){var t=e.toString();return(""+t).indexOf(".")>=0?(""+t).split(".")[1].length:0},e.round=function(t,s){var i=e.countNumAfterPoint(s);return i>0?parseFloat(t.toFixed(i)):Math.round(t)},e}();t.default=r},6714:function(e,t,s){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(s(1843)),n=i(s(6507)),r=function(){function e(e){this._model=new n.default(e),this._eventTarget=new a.default,this._eventUpdateModel=new CustomEvent("update-model"),this._bindEventListeners()}return e.prototype.getModelAbacusProperties=function(){return this._model.abacusProperties},e.prototype.setModelAbacusProperties=function(e){this._model.setAbacusProperties(e)},e.prototype._bindEventListeners=function(){this._model.eventTarget.addEventListener("update-model",this._handleModelUpdate.bind(this))},e.prototype._handleModelUpdate=function(){this._eventTarget.dispatchEvent(this._eventUpdateModel)},Object.defineProperty(e.prototype,"eventTarget",{get:function(){return this._eventTarget},enumerable:!1,configurable:!0}),e}();t.default=r},4081:function(e,t,s){"use strict";var i=this&&this.__read||function(e,t){var s="function"==typeof Symbol&&e[Symbol.iterator];if(!s)return e;var i,a,n=s.call(e),r=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)r.push(i.value)}catch(e){a={error:e}}finally{try{i&&!i.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return r},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=a(s(2716)),r=a(s(6714)),l=a(s(5046)),o=a(s(8134)),c=a(s(3289)),h=a(s(2796)),u=a(s(5558)),d=function(){function e(e,t){this._handles=[],this._tooltips=[],this._isDisabled=!1,this._isDragHandle=!1,this._shiftClickOnHandle=0,this._handleMovingTimer=null,this._collectionMarks=new Set,this._isVertical=!1,this._presenter=new r.default(t);var s=this._presenter.getModelAbacusProperties();this._widgetContainer=new l.default(s.classes),this._widgetContainer.htmlElement.jqueryAbacusInstance=this,e.append(this._widgetContainer.htmlElement),this._range=new c.default(s.classes),this._customEventChange=new CustomEvent("abacus-change",{bubbles:!0,cancelable:!0}),this._customEventCreate=new CustomEvent("abacus-create",{bubbles:!0,cancelable:!0}),this._customEventSlide=new CustomEvent("abacus-slide",{bubbles:!0,cancelable:!0}),this._customEventStart=new CustomEvent("abacus-start",{bubbles:!0,cancelable:!0}),this._customEventStop=new CustomEvent("abacus-stop",{bubbles:!0,cancelable:!0}),this.updateView(),this._bindEventListeners(),this._eventCreateWrapper()}return e.prototype.getPosPercent=function(e){var t=0;return(t=this._isVertical?100-(t=(e-this._widgetContainer.htmlElement.getBoundingClientRect().top)/this._widgetContainer.htmlElement.getBoundingClientRect().height*100):(e-this._widgetContainer.htmlElement.getBoundingClientRect().left)/this._widgetContainer.htmlElement.getBoundingClientRect().width*100)<0&&(t=0),t>100&&(t=100),t},e.prototype.getPosFromValue=function(e){var t,s=this._presenter.getModelAbacusProperties(),i=s.min,a=s.max,n=e;return i<0?(a+=-1*i,n+=-1*i):i>0&&(a-=i,n-=i),(t=n/a*100)<0?0:t>100?100:t},e.prototype.getValFromPosPercent=function(e){var t=0,s=this._presenter.getModelAbacusProperties(),i=s.min,a=s.max;return i<0?a+=-1*i:i>0&&(a-=i),t=a*e/100,i<0?t-=-1*i:i>0&&(t+=i),t},e.prototype.option=function(e,t){if("string"==typeof e)switch(e){case"animate":case"classes":case"disabled":case"max":case"scale":case"min":case"orientation":case"range":case"step":case"tooltip":case"value":case"values":if(void 0===t)return this._presenter.getModelAbacusProperties()[e];var s={};s[e]=t,this._presenter.setModelAbacusProperties(s)}else{if("object"!=typeof t)return this._presenter.getModelAbacusProperties();this._presenter.setModelAbacusProperties(t)}},e.prototype.updateView=function(){var t,s,i,a,r,l,o,c,h,u,d,m=this._presenter.getModelAbacusProperties(),p=(null===(t=this._cachedAbacusProperties)||void 0===t?void 0:t.range)!==m.range,_=(null===(s=this._cachedAbacusProperties)||void 0===s?void 0:s.orientation)!==m.orientation,v=(null===(i=this._cachedAbacusProperties)||void 0===i?void 0:i.tooltip)!==m.tooltip,f=(null===(a=this._cachedAbacusProperties)||void 0===a?void 0:a.animate)!==m.animate,g=(null===(r=this._cachedAbacusProperties)||void 0===r?void 0:r.max)!==m.max,b=(null===(l=this._cachedAbacusProperties)||void 0===l?void 0:l.min)!==m.min,E=!e.arrayCompare(null===(o=this._cachedAbacusProperties)||void 0===o?void 0:o.values,m.values),y=(null===(c=this._cachedAbacusProperties)||void 0===c?void 0:c.disabled)!==m.disabled,P=(null===(h=this._cachedAbacusProperties)||void 0===h?void 0:h.scale)!==m.scale,w=(null===(u=this._cachedAbacusProperties)||void 0===u?void 0:u.step)!==m.step,M=(null===(d=this._cachedAbacusProperties)||void 0===d?void 0:d.interval)!==m.interval;p&&this._createViewRange(m),M&&(this._createViewRange(m),this._createViewHandles(m)),_&&(m.orientation===n.default.VERTICAL?(this._isVertical=!0,this._widgetContainer.isVertical(!0)):(this._isVertical=!1,this._widgetContainer.isVertical(!1))),(v||M)&&(this._createViewTooltips(m),this._updateViewTooltips(m),this._setTransition()),f&&this._setTransition(),(p||g||b||_||E||M)&&(this._updateViewHandles(m),this._updateViewTooltips(m),this._updateViewRange(m),this._highlightMarks()),E&&(this._findMovedHandle(),this._eventSlideWrapper()),m.classes&&this._updateClassNames(m.classes),y&&this.toggleDisable(m.disabled),(P||w||g||b||_)&&(m.scale?(this._createScale(),this._setTransition()):this._removeScale(),this._highlightMarks()),this._cachedAbacusProperties=e.getCloneAbacusProperties(m)},e.prototype._createViewHandles=function(e){var t,s=this,a=[];if(!(null===(t=s._handles)||void 0===t?void 0:t.length)){s._handles=[],s._handles[0]=new o.default(e.classes,0);var n=i(s._handles,1)[0];s._widgetContainer.htmlElement.append(n.htmlElement),s._currentHandle=n,a.push(0)}var r=i(s._handles,1)[0];switch(e.interval){case!0:s._handles[1]=new o.default(e.classes,1),s._widgetContainer.htmlElement.append(s._handles[1].htmlElement),a.push(1);break;default:s._handles[1]&&(s._handles[1].htmlElement.remove(),s._handles=s._handles.slice(0,1)),s._currentHandle=r}s._handleHandleItemPointerdown=s._handleHandleItemPointerdown.bind(s);for(var l=0;l<a.length;l+=1){var c=a[l];s._handles[c].htmlElement.addEventListener("pointerdown",s._handleHandleItemPointerdown)}},e.prototype._updateViewHandles=function(e){if(e.values)for(var t=0;t<e.values.length;t+=1){var s=e.values[t],i=this.getPosFromValue(s);this._handles[t]&&(this._isVertical?(this._handles[t].posLeft=null,this._handles[t].posBottom=i):(this._handles[t].posBottom=null,this._handles[t].posLeft=i))}},e.prototype._createViewTooltips=function(e){for(var t=0;t<this._tooltips.length;t+=1)this._tooltips[t].htmlElement.remove();if(this._tooltips=[],e.tooltip){var s=!0===e.interval?2:1;for(t=0;t<s;t+=1)this._tooltips[t]=new u.default(e.classes,t),this._widgetContainer.htmlElement.append(this._tooltips[t].htmlElement)}},e.prototype._updateViewTooltips=function(e){if(e.values&&e.tooltip)for(var t=0;t<e.values.length;t+=1){var s=e.values[t],i=this.getPosFromValue(s);this._tooltips[t]&&(this._isVertical?(this._tooltips[t].posLeft=null,this._tooltips[t].posBottom=i):(this._tooltips[t].posBottom=null,this._tooltips[t].posLeft=i),this._tooltips[t].htmlElement.innerText=e.values[t].toString())}},e.prototype._createViewRange=function(e){switch(e.range){case"max":!0===e.interval?this._range.rangeType="between":this._range.rangeType="max",this._widgetContainer.htmlElement.prepend(this._range.htmlElement);break;case!0:!1===e.interval?this._range.rangeType="min":this._range.rangeType="between",this._widgetContainer.htmlElement.prepend(this._range.htmlElement);break;case"min":!0===e.interval?this._range.rangeType="between":this._range.rangeType="min",this._widgetContainer.htmlElement.prepend(this._range.htmlElement);break;default:this._range.rangeType="hidden",this._range.htmlElement.remove()}},e.prototype._updateViewRange=function(e){var t;if(null===(t=e.values)||void 0===t?void 0:t.length){var s=this.getPosFromValue(e.values[0]),i=this.getPosFromValue(e.values[1]);if(this._isVertical)switch(this._range.htmlElement.style.left="",this._range.htmlElement.style.right="",this._range.width=null,this._range.rangeType){case"min":this._range.htmlElement.style.top="auto",this._range.htmlElement.style.bottom="0",this._range.height=s;break;case"max":this._range.htmlElement.style.top="0",this._range.htmlElement.style.bottom="auto",this._range.height=100-s;break;case"between":this._range.htmlElement.style.bottom=s.toString()+"%",this._range.htmlElement.style.top="",this._range.height=i-s}else switch(this._range.htmlElement.style.top="",this._range.htmlElement.style.bottom="",this._range.height=null,this._range.rangeType){case"min":this._range.htmlElement.style.left="0",this._range.htmlElement.style.right="auto",this._range.width=s;break;case"max":this._range.htmlElement.style.left="auto",this._range.htmlElement.style.right="0",this._range.width=100-s;break;case"between":this._range.htmlElement.style.left=s.toString()+"%",this._range.htmlElement.style.right="",this._range.width=i-s}}},e.prototype._updateClassNames=function(e){var t,s,i,a,n,r,l,o,c,h,u=this;if((null===(s=null===(t=this._cachedAbacusProperties)||void 0===t?void 0:t.classes)||void 0===s?void 0:s.abacus)!==(null==e?void 0:e.abacus)&&(this._widgetContainer.className=null==e?void 0:e.abacus),(null===(a=null===(i=this._cachedAbacusProperties)||void 0===i?void 0:i.classes)||void 0===a?void 0:a.vertical)!==(null==e?void 0:e.vertical)&&(this._widgetContainer.classNameVertical=null==e?void 0:e.vertical),(null===(r=null===(n=this._cachedAbacusProperties)||void 0===n?void 0:n.classes)||void 0===r?void 0:r.disabled)!==(null==e?void 0:e.disabled)&&(this._widgetContainer.classNameDisabled=null==e?void 0:e.disabled),(null===(o=null===(l=this._cachedAbacusProperties)||void 0===l?void 0:l.classes)||void 0===o?void 0:o.handle)!==(null==e?void 0:e.handle))for(var d=0;d<this._handles.length;d+=1)this._handles[d].className=null==e?void 0:e.handle;(null===(h=null===(c=this._cachedAbacusProperties)||void 0===c?void 0:c.classes)||void 0===h?void 0:h.range)!==(null==e?void 0:e.range)&&(this._range.className=null==e?void 0:e.range),this._collectionMarks.forEach((function(t){var s,i,a,n,r,l,o=t;(null===(i=null===(s=u._cachedAbacusProperties)||void 0===s?void 0:s.classes)||void 0===i?void 0:i.mark)!==(null==e?void 0:e.mark)&&(null==e?void 0:e.mark)&&(o.className=e.mark),(null===(n=null===(a=u._cachedAbacusProperties)||void 0===a?void 0:a.classes)||void 0===n?void 0:n.markSelected)!==(null==e?void 0:e.markSelected)&&(null==e?void 0:e.markInrange)&&(o.classNameSelected=e.markSelected),(null===(l=null===(r=u._cachedAbacusProperties)||void 0===r?void 0:r.classes)||void 0===l?void 0:l.markInrange)!==(null==e?void 0:e.markInrange)&&(null==e?void 0:e.markInrange)&&(o.classNameInrange=e.markInrange)}))},e.prototype.toggleDisable=function(e){this._isDisabled=null==e?!this._isDisabled:!!e,this._widgetContainer.isDisabled(this._isDisabled)},e.prototype._getEventUIData=function(){var t={};this._currentHandle&&(t.handle=this._currentHandle.htmlElement,t.handleIndex=this._currentHandle.handleIndex);var s=this._presenter.getModelAbacusProperties();return t.abacusProperties=e.getCloneAbacusProperties(s),t},e.prototype._eventChangeWrapper=function(e){void 0===e&&(e=this._customEventChange);var t=this._widgetContainer.htmlElement.dispatchEvent(this._customEventChange),s=this._presenter.getModelAbacusProperties();return"function"==typeof(null==s?void 0:s.change)&&s.change(e,this._getEventUIData()),t},e.prototype._eventCreateWrapper=function(e){void 0===e&&(e=this._customEventCreate);var t=this._widgetContainer.htmlElement.dispatchEvent(this._customEventCreate),s=this._presenter.getModelAbacusProperties();return"function"==typeof(null==s?void 0:s.create)&&s.create(e,this._getEventUIData()),t},e.prototype._eventSlideWrapper=function(e){void 0===e&&(e=this._customEventSlide);var t=this._widgetContainer.htmlElement.dispatchEvent(this._customEventSlide),s=this._presenter.getModelAbacusProperties();return"function"==typeof(null==s?void 0:s.slide)&&s.slide(e,this._getEventUIData()),t},e.prototype._eventStartWrapper=function(e){void 0===e&&(e=this._customEventStart);var t=this._widgetContainer.htmlElement.dispatchEvent(this._customEventStart),s=this._presenter.getModelAbacusProperties();return"function"==typeof(null==s?void 0:s.start)&&s.start(e,this._getEventUIData()),t},e.prototype._eventStopWrapper=function(e){void 0===e&&(e=this._customEventStop);var t=this._widgetContainer.htmlElement.dispatchEvent(this._customEventStop),s=this._presenter.getModelAbacusProperties();return"function"==typeof(null==s?void 0:s.stop)&&s.stop(e,this._getEventUIData()),t},e.prototype._mousePositionHandler=function(e){var t,s,a=this,n=a._presenter.getModelAbacusProperties();if((null===(t=n.values)||void 0===t?void 0:t.length)&&a._currentHandle){var r=this._isVertical?e.clientY:e.clientX,l=this.getPosPercent(r-this._shiftClickOnHandle),o=this.getValFromPosPercent(l),c=null===(s=n.values)||void 0===s?void 0:s.slice(0),h=i(a._handles,2),u=h[0],d=h[1],m=i(n.values,2),p=m[0],_=m[1];0===a._currentHandle.handleIndex&&(o>=_?(c[0]=_,a._currentHandle=d):c[0]=o),1===a._currentHandle.handleIndex&&(o<=p?(c[1]=p,a._currentHandle=u):c[1]=o),a._presenter.setModelAbacusProperties({values:c})}},e.prototype._calcHandleValues=function(e){var t,s=this._presenter.getModelAbacusProperties(),i=null===(t=s.values)||void 0===t?void 0:t.slice(0);if(!0===s.interval&&s.step){var a=s.values[0]-e;a=a<0?a*=-1:a;var n=s.values[1]-e;(n=n<0?n*=-1:n)<a?i[1]=e:i[0]=e}else i[0]=e;this._presenter.setModelAbacusProperties({values:i})},e.prototype._bindEventListeners=function(){var e=this;e._presenter.eventTarget.addEventListener("update-model",this._handleModelUpdate.bind(this)),e._handleWidgetContainerPointerdown=e._handleWidgetContainerPointerdown.bind(e),e._widgetContainer.htmlElement.addEventListener("pointerdown",e._handleWidgetContainerPointerdown),e._handleHandleItemPointermove=e._handleHandleItemPointermove.bind(e),document.addEventListener("pointermove",e._handleHandleItemPointermove,{passive:!0}),e._handleHandleItemPointerup=e._handleHandleItemPointerup.bind(e),document.addEventListener("pointerup",e._handleHandleItemPointerup),document.addEventListener("pointercancel",e._handleHandleItemPointerup)},e.prototype._handleModelUpdate=function(){this.updateView()},e.prototype._handleWidgetContainerPointerdown=function(t){var s,i,a,n,r,l,o;t.preventDefault();var c=this,h=c._presenter.getModelAbacusProperties(),u=t.target,d=(null===(s=h.classes)||void 0===s?void 0:s.handle)?null===(i=h.classes)||void 0===i?void 0:i.handle:"",m=(null===(a=h.classes)||void 0===a?void 0:a.mark)?null===(n=h.classes)||void 0===n?void 0:n.mark:"",p=(null===(r=h.classes)||void 0===r?void 0:r.tooltip)?null===(l=h.classes)||void 0===l?void 0:l.tooltip:"";if(!(c._isDisabled||u.classList.contains(d)||u.classList.contains(m)||u.classList.contains(p))){var _=this._isVertical?t.clientY:t.clientX,v=null===(o=c._cachedAbacusProperties)||void 0===o?void 0:o.values,f=this.getPosPercent(_),g=this.getValFromPosPercent(f);c._calcHandleValues(g),!e.arrayCompare(v,h.values)&&this._eventChangeWrapper(t)}},e.prototype._handleHandleItemPointerdown=function(e){e.preventDefault();var t=this;if(!t._isDisabled){var s=e.currentTarget,i=s.getAttribute("data-handle-index");if(i){var a=t._isVertical?e.pageY:e.clientX,n=$(s).offset();n?t._isVertical?t._shiftClickOnHandle=a-n.top-s.clientHeight/2:t._shiftClickOnHandle=a-n.left-s.clientWidth/2:t._shiftClickOnHandle=0;var r=parseInt(i,10);t._isDragHandle=!0,t._currentHandle=t._handles[r],t._eventStartWrapper(e)}}},e.prototype._handleHandleItemPointermove=function(e){var t=this;t._isDisabled||(null!==t._handleMovingTimer&&clearTimeout(t._handleMovingTimer),t._handleMovingTimer=setTimeout((function(){t._isDragHandle&&t._mousePositionHandler(e)}),5))},e.prototype._handleHandleItemPointerup=function(e){var t=this;t._isDragHandle&&(t._eventChangeWrapper(e),t._eventStopWrapper(e)),t._isDragHandle=!1},e.prototype._createScale=function(){var t=this;this._collectionMarks.size&&this._removeScale();var s=this._presenter.getModelAbacusProperties(),i=new h.default(s.min,s.classes);this._widgetContainer.htmlElement.append(i.htmlElement);var a=new h.default(s.max,s.classes);this._widgetContainer.htmlElement.append(a.htmlElement);var n,r=0,l=0,o=0;this._isVertical?(r=i.htmlElement.offsetHeight,l=a.htmlElement.offsetHeight):(r=i.htmlElement.offsetWidth,l=a.htmlElement.offsetWidth),o=r>l?r:l,o=this._isVertical?o+2:o+10,i.htmlElement.remove(),a.htmlElement.remove(),n=this._isVertical?this._widgetContainer.htmlElement.offsetHeight:this._widgetContainer.htmlElement.offsetWidth;var c=Math.floor(n/o),u=(s.max-s.min)/s.step;u=u<0?-1*u:u,u=Math.ceil(u),s.max%s.step!=0&&(c-=1),c>u&&(c=u);var d=(s.max-s.min)/c;s.step>d&&(d=s.step);for(var m=0,p=s.min;p<=s.max;p+=s.step)if((m+=s.step)>=d||p===s.min){p=e.round(p,s.step);var _=new h.default(p,s.classes),v=this.getPosFromValue(p);this._isVertical?_.posBottom=v:_.posLeft=v,this._collectionMarks.add(_),m=0}var f=new h.default(s.max,s.classes),g=this.getPosFromValue(s.max);this._isVertical?f.posBottom=g:f.posLeft=g,this._collectionMarks.add(f),this._collectionMarks.forEach((function(e){var s=e;t._widgetContainer.htmlElement.contains(t._handles[0].htmlElement)?t._handles[0].htmlElement.before(s.htmlElement):t._widgetContainer.htmlElement.append(s.htmlElement)})),this._thinOutScale(),this._bindEventListenersOnMarks()},e.prototype._removeScale=function(){this._collectionMarks.forEach((function(e){e.htmlElement.remove()})),this._collectionMarks.clear()},e.prototype._thinOutScale=function(){var e,t=this;e=this._isVertical?this._widgetContainer.htmlElement.offsetHeight:this._widgetContainer.htmlElement.offsetWidth;var s=0;this._collectionMarks.forEach((function(e){var i=e;t._isVertical?s+=i.htmlElement.offsetHeight+2:s+=i.htmlElement.offsetWidth+10}));var i,a,n=this._presenter.getModelAbacusProperties();if(e<s){var r=!1;this._collectionMarks.forEach((function(e){var s=e;s.associatedValue===n.min||s.associatedValue===n.max||r?r=!1:(null==s||s.htmlElement.remove(),t._collectionMarks.delete(s),r=!0)}))}if(this._collectionMarks.forEach((function(e){var t=e;t.associatedValue===n.max?a=t:i=t})),i&&a){i=i,a=a;var l=this._isVertical?i.htmlElement.offsetTop:i.htmlElement.offsetLeft,o=this._isVertical?i.htmlElement.offsetHeight:i.htmlElement.offsetWidth,c=this._isVertical?a.htmlElement.offsetTop:a.htmlElement.offsetLeft,h=this._isVertical?a.htmlElement.offsetHeight:a.htmlElement.offsetWidth;Math.abs(c-l)<=(h+o)/2&&(a.htmlElement.remove(),this._collectionMarks.delete(a))}s=0,this._collectionMarks.forEach((function(e){var i=e;t._isVertical?s+=i.htmlElement.offsetHeight+2:s+=i.htmlElement.offsetWidth+10})),e<s&&this._thinOutScale()},e.prototype._highlightMarks=function(){if(this._collectionMarks.size){var e=this._presenter.getModelAbacusProperties(),t=this._range.rangeType;this._collectionMarks.forEach((function(s){var i=s,a=i.associatedValue>=e.values[0]&&i.associatedValue<=e.values[1];"min"===t&&i.associatedValue<=e.values[0]||"max"===t&&i.associatedValue>=e.values[0]||"between"===t&&a?i.isInrange(!0):i.isInrange(!1),i.associatedValue===e.values[0]||i.associatedValue===e.values[1]?i.isSelected(!0):i.isSelected(!1)}))}},e.prototype._bindEventListenersOnMarks=function(){var e=this;this._handleMarksClick=this._handleMarksClick.bind(this),this._collectionMarks.forEach((function(t){t.htmlElement.addEventListener("pointerdown",e._handleMarksClick)}))},e.prototype._handleMarksClick=function(t){var s,i;t.preventDefault();var a=this;if(!a._isDisabled){var n=t.currentTarget.getAttribute("data-associated-value");if(n){var r=parseFloat(n),l=null===(s=a._cachedAbacusProperties)||void 0===s?void 0:s.values;(null===(i=a._cachedAbacusProperties)||void 0===i?void 0:i.value)!==r&&a._calcHandleValues(r);var o=a._presenter.getModelAbacusProperties();!e.arrayCompare(l,o.values)&&this._eventChangeWrapper(t)}}},e.prototype._setTransition=function(){var e="",t=this._presenter.getModelAbacusProperties().animate;"number"==typeof t&&t>0?e=t.toString():!0===t?e="400":"slow"===t?e="600":"fast"===t&&(e="200"),e=e?e+"ms":"";for(var s=0;s<this._handles.length;s+=1)this._handles[s].htmlElement.style.transition=e,this._tooltips[s]&&(this._tooltips[s].htmlElement.style.transition=e);this._range.htmlElement.style.transition=e,this._collectionMarks.forEach((function(t){t.htmlElement.style.transition=e}))},e.getCloneAbacusProperties=function(e){var t,s={};return Object.assign(s,e),s.values=null===(t=e.values)||void 0===t?void 0:t.slice(0),Object.assign(s.classes,e.classes),s},e.prototype._findMovedHandle=function(){var e=this._presenter.getModelAbacusProperties(),t=i(this._handles,2),s=t[0],a=t[1];return this._currentHandle=s,this._cachedAbacusProperties&&this._cachedAbacusProperties.values[1]!==e.values[1]&&(this._currentHandle=a),this._currentHandle},e.prototype.getHtmlWidget=function(){return this._widgetContainer.htmlElement},e.prototype.destroy=function(){this._widgetContainer.htmlElement.remove(),this._widgetContainer.htmlElement.removeEventListener("pointerdown",this._handleWidgetContainerPointerdown),document.removeEventListener("pointermove",this._handleHandleItemPointermove),document.removeEventListener("pointerup",this._handleHandleItemPointerup),document.removeEventListener("pointercancel",this._handleHandleItemPointerup)},e.countNumAfterPoint=function(e){var t=e.toString();return(""+t).indexOf(".")>=0?(""+t).split(".")[1].length:0},e.round=function(t,s){var i=e.countNumAfterPoint(s);return i>0?parseFloat(t.toFixed(i)):Math.round(t)},e.arrayCompare=function(e,t){if(!e||!t)return!1;if((null==e?void 0:e.length)!==(null==t?void 0:t.length))return!1;for(var s=0;s<e.length;s+=1)if(e[s]!==t[s])return!1;return!0},e}();t.default=d},8134:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){this._posLeft=null,this._posBottom=null,this._handleIndex=0,this._htmlElement=document.createElement("span"),this.className=e.handle,void 0===t||Number.isNaN(t)||(this._handleIndex=t,this._htmlElement.setAttribute("data-handle-index",t.toString()))}return Object.defineProperty(e.prototype,"posLeft",{get:function(){return this._posLeft},set:function(e){if(null===e)this._posLeft=e,this._htmlElement.style.left="";else{var t=e;e<0&&(t=0),e>100&&(t=100),this._posLeft=t,this._htmlElement.style.left=t.toString()+"%"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"posBottom",{get:function(){return this._posBottom},set:function(e){if(null===e)this._posBottom=e,this._htmlElement.style.bottom="";else{var t=e;e<0&&(t=0),e>100&&(t=100),this._posBottom=t,this._htmlElement.style.bottom=t.toString()+"%"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"htmlElement",{get:function(){return this._htmlElement},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"handleIndex",{get:function(){return this._handleIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return this._className},set:function(e){this._htmlElement.classList.remove(this._className),this._htmlElement.classList.add(e),this._className=e},enumerable:!1,configurable:!0}),e}();t.default=s},2796:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){this._isInrange=!1,this._isSelected=!1,this._posLeft=null,this._posBottom=null,this._htmlElement=document.createElement("span"),this.className=t.mark,this.classNameInrange=t.markInrange,this.classNameSelected=t.markSelected,this.associatedValue=e}return Object.defineProperty(e.prototype,"htmlElement",{get:function(){return this._htmlElement},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return this._className},set:function(e){this._htmlElement.classList.remove(this._className),this._htmlElement.classList.add(e),this._className=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"classNameInrange",{get:function(){return this._classNameInrange},set:function(e){this._htmlElement.classList.contains(this._classNameInrange)&&(this._htmlElement.classList.remove(this._classNameInrange),this._htmlElement.classList.add(e)),this._classNameInrange=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"classNameSelected",{get:function(){return this._classNameSelected},set:function(e){this._htmlElement.classList.contains(this._classNameSelected)&&(this._htmlElement.classList.remove(this._classNameSelected),this._htmlElement.classList.add(e)),this._classNameSelected=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"posLeft",{get:function(){return this._posLeft},set:function(e){if(null===e)this._posLeft=e,this._htmlElement.style.left="";else{var t=e;e<0&&(t=0),e>100&&(t=100),this._posLeft=t,this._htmlElement.style.left=t.toString()+"%"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"posBottom",{get:function(){return this._posBottom},set:function(e){if(null===e)this._posBottom=e,this._htmlElement.style.bottom="";else{var t=e;e<0&&(t=0),e>100&&(t=100),this._posBottom=t,this._htmlElement.style.bottom=t.toString()+"%"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"associatedValue",{get:function(){return this._associatedValue},set:function(e){this._associatedValue=e,this._htmlElement.innerText=e.toString(),this._htmlElement.setAttribute("data-associated-value",e.toString())},enumerable:!1,configurable:!0}),e.prototype.isInrange=function(e){return void 0!==e&&this._classNameInrange&&(this._isInrange=!!e,this._isInrange?this._htmlElement.classList.add(this._classNameInrange):this._htmlElement.classList.remove(this._classNameInrange)),this._isInrange},e.prototype.isSelected=function(e){return void 0!==e&&this._classNameSelected&&(this._isSelected=!!e,this._isSelected?this._htmlElement.classList.add(this._classNameSelected):this._htmlElement.classList.remove(this._classNameSelected)),this._isSelected},e}();t.default=s},3289:function(e,t,s){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(s(7462)),n=function(){function e(e){this._width=100,this._height=100,this._rangeType=a.default.HIDDEN,this._htmlElement=document.createElement("span"),this.className=e.range}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(e){if(null===e)this._width=e,this._htmlElement.style.width="";else{var t=e;e<0&&(t=0),e>100&&(t=100),this._width=t,this._htmlElement.style.width=t.toString()+"%"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(e){if(null===e)this._height=e,this._htmlElement.style.height="";else{var t=e;e<0&&(t=0),e>100&&(t=100),this._height=t,this._htmlElement.style.height=t.toString()+"%"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"htmlElement",{get:function(){return this._htmlElement},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return this._className},set:function(e){this._htmlElement.classList.remove(this._className),this._htmlElement.classList.add(e),this._className=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rangeType",{get:function(){return this._rangeType},set:function(e){"hidden"!==e&&"min"!==e&&"max"!==e&&"between"!==e&&(this._rangeType=a.default.HIDDEN),this._rangeType=e},enumerable:!1,configurable:!0}),e}();t.default=n},7462:(e,t)=>{"use strict";var s;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.HIDDEN="hidden",e.MIN="min",e.MAX="max",e.BETWEEN="between"}(s||(s={})),t.default=s},5558:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){this._tooltipIndex=0,this._isVisible=!1,this._posLeft=null,this._posBottom=null,this._htmlElement=document.createElement("span"),this.className=e.tooltip,void 0!==t&&(this._tooltipIndex=t,this._htmlElement.setAttribute("data-handle-index",t.toString()))}return Object.defineProperty(e.prototype,"htmlElement",{get:function(){return this._htmlElement},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return this._className},set:function(e){this._htmlElement.classList.remove(this._className),this._htmlElement.classList.add(e),this._className=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"posLeft",{get:function(){return this._posLeft},set:function(e){if(null===e)this._posLeft=e,this._htmlElement.style.left="";else{var t=e;e<0&&(t=0),e>100&&(t=100),this._posLeft=t,this._htmlElement.style.left=t.toString()+"%"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"posBottom",{get:function(){return this._posBottom},set:function(e){if(null===e)this._posBottom=e,this._htmlElement.style.bottom="";else{var t=e;e<0&&(t=0),e>100&&(t=100),this._posBottom=t,this._htmlElement.style.bottom=t.toString()+"%"}},enumerable:!1,configurable:!0}),e}();t.default=s},5046:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e){this._width=100,this._htmlElement=document.createElement("div"),this.className=e.abacus,this.classNameDisabled=e.disabled,this.classNameVertical=e.vertical}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"htmlElement",{get:function(){return this._htmlElement},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return this._className},set:function(e){this._htmlElement.classList.remove(this._className),this._htmlElement.classList.remove("js-"+this._className),this._htmlElement.classList.add(e),this._htmlElement.classList.add("js-"+e),this._className=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"classNameDisabled",{get:function(){return this._classNameDisabled},set:function(e){this._htmlElement.classList.contains(this._classNameDisabled)&&(this._htmlElement.classList.remove(this._classNameDisabled),this._htmlElement.classList.add(e)),this._classNameDisabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"classNameVertical",{get:function(){return this._classNameVertical},set:function(e){this._htmlElement.classList.contains(this._classNameVertical)&&(this._htmlElement.classList.remove(this._classNameVertical),this._htmlElement.classList.add(e)),this._classNameVertical=e},enumerable:!1,configurable:!0}),e.prototype.isDisabled=function(e){void 0!==e&&this._classNameDisabled&&(e?this._htmlElement.classList.add(this._classNameDisabled):this._htmlElement.classList.remove(this._classNameDisabled))},e.prototype.isVertical=function(e){void 0!==e&&this._classNameVertical&&(e?this._htmlElement.classList.add(this._classNameVertical):this._htmlElement.classList.remove(this._classNameVertical))},e}();t.default=s},2716:(e,t)=>{"use strict";var s;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"}(s||(s={})),t.default=s}},t={};function s(i){if(t[i])return t[i].exports;var a=t[i]={exports:{}};return e[i].call(a.exports,a,a.exports,s),a.exports}s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s(4596)})();
//# sourceMappingURL=abacus.js.map?v=d211d411d495e9796f52