/*! For license information please see abacus.js.LICENSE.txt */
(()=>{var e={843:e=>{var t={};try{t.EventTarget=(new EventTarget).constructor}catch(e){!function(e,s){var a=e.create,i=e.defineProperty,n=l.prototype;function l(){"use strict";s.set(this,a(null))}function r(e,t,s){i(e,t,{configurable:!0,writable:!0,value:s})}function o(e){var t=e.options;t&&t.once&&e.target.removeEventListener(this.type,e.listener),"function"==typeof e.listener?e.listener.call(e.target,this):e.listener.handleEvent(this)}r(n,"addEventListener",(function(e,t,a){for(var i=s.get(this),n=i[e]||(i[e]=[]),l=0,r=n.length;l<r;l++)if(n[l].listener===t)return;n.push({target:this,listener:t,options:a})})),r(n,"dispatchEvent",(function(e){var t=s.get(this)[e.type];return t&&(r(e,"target",this),r(e,"currentTarget",this),t.slice(0).forEach(o,e),delete e.currentTarget,delete e.target),!0})),r(n,"removeEventListener",(function(e,t){for(var a=s.get(this),i=a[e]||(a[e]=[]),n=0,l=i.length;n<l;n++)if(i[n].listener===t)return void i.splice(n,1)})),t.EventTarget=l}(Object,new WeakMap)}e.exports=t.EventTarget},160:()=>{},528:(e,t)=>{"use strict";var s;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"}(s||(s={})),t.default=s},515:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){this._posLeft=null,this._posBottom=null,this._handleIndex=0,this._htmlElement=document.createElement("span"),this._className=(null==e?void 0:e.handle)?e.handle:"abacus__handle",this._htmlElement.classList.add(this._className),void 0===t||Number.isNaN(t)||(this._handleIndex=t,this._htmlElement.setAttribute("data-handle-index",t.toString()))}return Object.defineProperty(e.prototype,"posLeft",{get:function(){return this._posLeft},set:function(e){if(null===e)this._posLeft=e,this._htmlElement.style.left="";else{var t=e;e<0&&(t=0),e>100&&(t=100),this._posLeft=t,this._htmlElement.style.left=t.toString()+"%"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"posBottom",{get:function(){return this._posBottom},set:function(e){if(null===e)this._posBottom=e,this._htmlElement.style.bottom="";else{var t=e;e<0&&(t=0),e>100&&(t=100),this._posBottom=t,this._htmlElement.style.bottom=t.toString()+"%"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"htmlElement",{get:function(){return this._htmlElement},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"handleIndex",{get:function(){return this._handleIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return this._className},set:function(e){this._htmlElement.classList.remove(this._className),this._htmlElement.classList.add(e),this._className=e},enumerable:!1,configurable:!0}),e}();t.default=s},339:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){this._isInrange=!1,this._classNameSelected="",this._isSelected=!1,this._posLeft=null,this._posBottom=null,this._htmlElement=document.createElement("span"),this._className=(null==t?void 0:t.mark)?t.mark:"abacus__mark",this._classNameInrange=(null==t?void 0:t.markInrange)?t.markInrange:"abacus__mark_inrange",this._classNameSelected=(null==t?void 0:t.markSelected)?t.markSelected:"abacus__mark_selected",this._htmlElement.classList.add(this._className),this._associatedValue=e,this.associatedValue=e}return Object.defineProperty(e.prototype,"htmlElement",{get:function(){return this._htmlElement},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return this._className},set:function(e){this._className&&this._htmlElement.classList.remove(this._className),e&&this._htmlElement.classList.add(e),this._className=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"classNameInrange",{get:function(){return this._classNameInrange},set:function(e){e&&"string"==typeof e&&(this._htmlElement.classList.contains(this._classNameInrange)&&this._htmlElement.classList.add(e),this._classNameInrange&&this._htmlElement.classList.remove(this._classNameInrange),this._classNameInrange=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"classNameSelected",{get:function(){return this._classNameSelected},set:function(e){e&&"string"==typeof e&&(this._htmlElement.classList.contains(this._classNameSelected)&&this._htmlElement.classList.add(e),this._classNameSelected&&this._htmlElement.classList.remove(this._classNameSelected),this._classNameSelected=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"posLeft",{get:function(){return this._posLeft},set:function(e){if(null===e)this._posLeft=e,this._htmlElement.style.left="";else{var t=e;e<0&&(t=0),e>100&&(t=100),this._posLeft=t,this._htmlElement.style.left=t.toString()+"%"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"posBottom",{get:function(){return this._posBottom},set:function(e){if(null===e)this._posBottom=e,this._htmlElement.style.bottom="";else{var t=e;e<0&&(t=0),e>100&&(t=100),this._posBottom=t,this._htmlElement.style.bottom=t.toString()+"%"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"associatedValue",{get:function(){return this._associatedValue},set:function(e){this._associatedValue=e,this._htmlElement.innerText=e.toString(),this._htmlElement.setAttribute("data-associated-value",e.toString())},enumerable:!1,configurable:!0}),e.prototype.isInrange=function(e){return void 0!==e&&this._classNameInrange&&(this._isInrange=!!e,this._isInrange?this._htmlElement.classList.add(this._classNameInrange):this._htmlElement.classList.remove(this._classNameInrange)),this._isInrange},e.prototype.isSelected=function(e){return void 0!==e&&this._classNameSelected&&(this._isSelected=!!e,this._isSelected?this._htmlElement.classList.add(this._classNameSelected):this._htmlElement.classList.remove(this._classNameSelected)),this._isSelected},e}();t.default=s},0:function(e,t,s){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(s(843)),n=a(s(528)),l=function(){function e(e){this._abacusProperty={animate:!1,classes:{abacus:"abacus",vertical:"abacus_vertical",disabled:"abacus_disabled",handle:"abacus__handle",range:"abacus__range",mark:"abacus__mark",markSelected:"abacus__mark_selected",markInrange:"abacus__mark_inrange",tooltip:"abacus__tooltip",tooltipVisible:"abacus__tooltip_visible"},disabled:!1,max:100,min:0,orientation:n.default.HORIZONTAL,range:!1,scale:!1,step:1,tooltip:!1,value:0,values:[0]},e&&this.setAbacusProperty(e),this._eventTarget=new i.default,this._eventUpdateModel=new CustomEvent("update-model")}return Object.defineProperty(e.prototype,"abacusProperty",{get:function(){return this._abacusProperty},enumerable:!1,configurable:!0}),e.prototype.setAbacusProperty=function(e){var t,s,a,i,l,r=e;if(void 0!==r.animate){var o="fast"===r.animate||"slow"===r.animate,c="boolean"==typeof r.animate;o||c?this._abacusProperty.animate=r.animate:"number"==typeof r.animate?this._abacusProperty.animate=Math.round(r.animate):this._abacusProperty.animate=!1}if("object"==typeof r.classes&&(this._abacusProperty.classes||(this._abacusProperty.classes={}),"string"==typeof r.classes.abacus&&r.classes.abacus&&(this._abacusProperty.classes.abacus=r.classes.abacus),"string"==typeof r.classes.disabled&&r.classes.disabled&&(this._abacusProperty.classes.disabled=r.classes.disabled),"string"==typeof r.classes.range&&r.classes.range&&(this._abacusProperty.classes.range=r.classes.range),"string"==typeof r.classes.handle&&r.classes.handle&&(this._abacusProperty.classes.handle=r.classes.handle),"string"==typeof r.classes.mark&&r.classes.mark&&(this._abacusProperty.classes.mark=r.classes.mark),"string"==typeof r.classes.markSelected&&r.classes.markSelected&&(this._abacusProperty.classes.markSelected=r.classes.markSelected),"string"==typeof r.classes.markInrange&&r.classes.markInrange&&(this._abacusProperty.classes.markInrange=r.classes.markInrange),"string"==typeof r.classes.tooltip&&r.classes.tooltip&&(this._abacusProperty.classes.tooltip=r.classes.tooltip),"string"==typeof r.classes.tooltipVisible&&r.classes.tooltipVisible&&(this._abacusProperty.classes.tooltipVisible=r.classes.tooltipVisible)),void 0!==r.disabled&&(this._abacusProperty.disabled=!!r.disabled),void 0!==r.max&&null!==r.max&&"number"==typeof r.max&&(this._abacusProperty.max=r.max),void 0!==r.scale&&(this._abacusProperty.scale=!!r.scale),void 0!==r.min&&null!==r.min&&"number"==typeof r.min&&(this._abacusProperty.min=r.min),this._abacusProperty.max<this._abacusProperty.min){var h=this._abacusProperty.max;this._abacusProperty.max=this._abacusProperty.min,this._abacusProperty.min=h}if(void 0!==r.step&&null!==r.step&&"number"==typeof r.step&&(this._abacusProperty.step=r.step),void 0!==r.tooltip&&(this._abacusProperty.tooltip=!!r.tooltip),void 0!==r.range&&(!1===r.range||!0===r.range?this._abacusProperty.range=r.range:"max"===r.range?this._abacusProperty.range="max":"min"===r.range&&(this._abacusProperty.range="min")),void 0!==r.value&&null!==r.value&&(Number.isNaN(r.value)||("string"==typeof r.value&&(r.value=parseFloat(r.value)),r.value=this.roundValuePerStep(r.value),this._abacusProperty.value=r.value,(null===(t=this._abacusProperty.values)||void 0===t?void 0:t.length)||(this._abacusProperty.values=[]),this._abacusProperty.values[0]=r.value)),null===(s=r.values)||void 0===s?void 0:s.length){this._abacusProperty.values=[];for(var u=0;u<r.values.length&&("string"==typeof r.values[u]&&(r.values[u]=parseFloat(r.values[u].toString())),r.values[u]=this.roundValuePerStep(r.values[u]),this._abacusProperty.values[u]=r.values[u],0===u&&(this._abacusProperty.value=r.values[u]),!(u>1));u+=1);this._abacusProperty.values.sort((function(e,t){return e>t?1:e===t?0:-1}))}!0===this._abacusProperty.range?(null===(a=this._abacusProperty.values)||void 0===a?void 0:a.length)?1===(null===(i=this._abacusProperty.values)||void 0===i?void 0:i.length)&&(this._abacusProperty.values[1]=this._abacusProperty.max?this._abacusProperty.max:100):(this._abacusProperty.values=[],this._abacusProperty.values[0]=this._abacusProperty.min?this._abacusProperty.min:0,this._abacusProperty.values[1]=this._abacusProperty.max?this._abacusProperty.max:100):this._abacusProperty.values=null===(l=this._abacusProperty.values)||void 0===l?void 0:l.slice(0,1),void 0!==r.orientation&&("vertical"===r.orientation||r.orientation===n.default.VERTICAL?this._abacusProperty.orientation=n.default.VERTICAL:this._abacusProperty.orientation=n.default.HORIZONTAL),void 0!==r.change&&(this._abacusProperty.change=r.change),void 0!==r.create&&(this._abacusProperty.create=r.create),void 0!==r.slide&&(this._abacusProperty.slide=r.slide),void 0!==r.start&&(this._abacusProperty.start=r.start),void 0!==r.stop&&(this._abacusProperty.stop=r.stop),this._eventTarget&&this._eventTarget.dispatchEvent(this._eventUpdateModel)},Object.defineProperty(e.prototype,"value",{set:function(e){var t;this._abacusProperty.value=this.roundValuePerStep(e),(null===(t=this._abacusProperty.values)||void 0===t?void 0:t.length)||(this._abacusProperty.values=[]),this._abacusProperty.values[0]=this._abacusProperty.value,this._eventTarget&&this._eventTarget.dispatchEvent(this._eventUpdateModel)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"eventTarget",{get:function(){return this._eventTarget},enumerable:!1,configurable:!0}),e.prototype.roundValuePerStep=function(t){var s=t,a=this._abacusProperty.min,i=this._abacusProperty.max,n=this._abacusProperty.step;if(t>=i)return i;if(t<=a)return a;for(var l=a;l<i;l+=n)if(t>l&&t<l+n){if(l+n>i){s=i;break}var r=l<0?-1*l:l,o=l+n,c=o<0?-1*o:o,h=t<0?-1*t:t,u=void 0,d=void 0;t<0?(u=r-h,d=h-c):(u=h-r,d=c-h),s=u<d?l:o;break}return e.round(s,n)},e.countNumAfterPoint=function(e){var t=e.toString();return(""+t).indexOf(".")>=0?(""+t).split(".")[1].length:0},e.round=function(t,s){var a=e.countNumAfterPoint(s);return a>0?parseFloat(t.toFixed(a)):Math.round(t)},e}();t.default=l},386:function(e,t,s){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(s(843)),n=a(s(0)),l=function(){function e(e){this._model=new n.default(e),this._eventTarget=new i.default,this._eventUpdateModel=new CustomEvent("update-model"),this._bindEventListeners()}return e.prototype.getModelAbacusProperty=function(){return this._model.abacusProperty},e.prototype.setModelAbacusProperty=function(e){this._model.setAbacusProperty(e)},e.prototype._bindEventListeners=function(){this._model.eventTarget.addEventListener("update-model",this._updateModelHandler.bind(this))},e.prototype._updateModelHandler=function(){this._eventTarget.dispatchEvent(this._eventUpdateModel)},Object.defineProperty(e.prototype,"eventTarget",{get:function(){return this._eventTarget},enumerable:!1,configurable:!0}),e}();t.default=l},740:(e,t)=>{"use strict";var s;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.HIDDEN="hidden",e.MIN="min",e.MAX="max",e.BETWEEN="between"}(s||(s={}));var a=function(){function e(e){this._width=100,this._height=100,this._rangeType=s.HIDDEN,this._htmlElement=document.createElement("span"),this._className=(null==e?void 0:e.range)?e.range:"abacus__range",this._htmlElement.classList.add(this._className)}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(e){if(null===e)this._width=e,this._htmlElement.style.width="";else{var t=e;e<0&&(t=0),e>100&&(t=100),this._width=t,this._htmlElement.style.width=t.toString()+"%"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(e){if(null===e)this._height=e,this._htmlElement.style.height="";else{var t=e;e<0&&(t=0),e>100&&(t=100),this._height=t,this._htmlElement.style.height=t.toString()+"%"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"htmlElement",{get:function(){return this._htmlElement},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return this._className},set:function(e){this._htmlElement.classList.remove(this._className),this._htmlElement.classList.add(e),this._className=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rangeType",{get:function(){return this._rangeType},set:function(e){"hidden"!==e&&"min"!==e&&"max"!==e&&"between"!==e&&(this._rangeType=s.HIDDEN),this._rangeType=e},enumerable:!1,configurable:!0}),e}();t.default=a},532:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){this._tooltipIndex=0,this._isVisible=!1,this._posLeft=null,this._posBottom=null,this._htmlElement=document.createElement("span"),this._className=(null==e?void 0:e.tooltip)?e.tooltip:"abacus__tooltip",this._classNameVisible=(null==e?void 0:e.tooltipVisible)?e.tooltipVisible:"abacus__tooltip_visible",this._htmlElement.classList.add(this._className),void 0===t||Number.isNaN(t)||(this._tooltipIndex=t)}return Object.defineProperty(e.prototype,"htmlElement",{get:function(){return this._htmlElement},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return this._className},set:function(e){this._className&&this._htmlElement.classList.remove(this._className),e&&this._htmlElement.classList.add(e),this._className=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"classNameVisible",{get:function(){return this._classNameVisible},set:function(e){e&&"string"==typeof e&&(this._htmlElement.classList.contains(this._classNameVisible)&&this._htmlElement.classList.add(e),this._classNameVisible&&this._htmlElement.classList.remove(this._classNameVisible),this._classNameVisible=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"posLeft",{get:function(){return this._posLeft},set:function(e){if(null===e)this._posLeft=e,this._htmlElement.style.left="";else{var t=e;e<0&&(t=0),e>100&&(t=100),this._posLeft=t,this._htmlElement.style.left=t.toString()+"%"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"posBottom",{get:function(){return this._posBottom},set:function(e){if(null===e)this._posBottom=e,this._htmlElement.style.bottom="";else{var t=e;e<0&&(t=0),e>100&&(t=100),this._posBottom=t,this._htmlElement.style.bottom=t.toString()+"%"}},enumerable:!1,configurable:!0}),e.prototype.isVisible=function(e){return void 0!==e&&this._classNameVisible&&(this._isVisible=!!e,this._isVisible?this._htmlElement.classList.add(this._classNameVisible):this._htmlElement.classList.remove(this._classNameVisible)),this._isVisible},e}();t.default=s},348:function(e,t,s){"use strict";var a=this&&this.__read||function(e,t){var s="function"==typeof Symbol&&e[Symbol.iterator];if(!s)return e;var a,i,n=s.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)l.push(a.value)}catch(e){i={error:e}}finally{try{a&&!a.done&&(s=n.return)&&s.call(n)}finally{if(i)throw i.error}}return l},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=i(s(386)),l=i(s(861)),r=i(s(515)),o=i(s(740)),c=i(s(339)),h=i(s(532)),u=i(s(528)),d=function(){function e(e,t){this._handles=[],this._tooltips=[],this._isDisabled=!1,this._isDragHandle=!1,this._handleMovingTimer=null,this._collectionMarks=new Set,this._isVertical=!1,this._presenter=new n.default(t);var s=this._presenter.getModelAbacusProperty();this._widgetContainer=new l.default(e,s.classes),this._widgetContainer.htmlElement.innerHTML="",this._range=new o.default(s.classes),this._tooltips[0]=new h.default(s.classes,0),this._customEventChange=new CustomEvent("abacus-change",{bubbles:!0,cancelable:!0}),this._customEventCreate=new CustomEvent("abacus-create",{bubbles:!0,cancelable:!0}),this._customEventSlide=new CustomEvent("abacus-slide",{bubbles:!0,cancelable:!0}),this._customEventStart=new CustomEvent("abacus-start",{bubbles:!0,cancelable:!0}),this._customEventStop=new CustomEvent("abacus-stop",{bubbles:!0,cancelable:!0}),this.updateView(),this._bindEventListeners(),this._eventCreateWrapper()}return e.prototype.getPosPercent=function(e){var t=0;return(t=this._isVertical?100-(t=(e-this._widgetContainer.htmlElement.getBoundingClientRect().top)/this._widgetContainer.htmlElement.getBoundingClientRect().height*100):(e-this._widgetContainer.htmlElement.getBoundingClientRect().left)/this._widgetContainer.htmlElement.getBoundingClientRect().width*100)<0&&(t=0),t>100&&(t=100),t},e.prototype.getPosPerStep=function(e){var t=0,s=this._presenter.getModelAbacusProperty(),a=s.min,i=s.max,n=s.step/(i-a)*100;return t=e/n,(t=Math.round(t))*n},e.prototype.getPosFromValue=function(e){var t,s=this._presenter.getModelAbacusProperty(),a=s.min,i=s.max,n=e;return a<0&&(i+=-1*a,n+=-1*a),(t=n/i*100)<0?0:t>100?100:t},e.prototype.getValFromPosPercent=function(e){var t=this._presenter.getModelAbacusProperty(),s=t.min,a=t.max;return s<0&&(a+=-1*s),a*e/100- -1*s},e.prototype.option=function(e,t){if("string"==typeof e)switch(e){case"animate":case"classes":case"disabled":case"max":case"scale":case"min":case"orientation":case"range":case"step":case"tooltip":case"value":case"values":if(void 0===t)return this._presenter.getModelAbacusProperty()[e];var s={};s[e]=t,this._presenter.setModelAbacusProperty(s)}else{if("object"!=typeof t)return this._presenter.getModelAbacusProperty();this._presenter.setModelAbacusProperty(t)}},e.prototype.updateView=function(){var t,s,a,i,n,l,r,o,c,h,d=this._presenter.getModelAbacusProperty(),m=(null===(t=this._cachedAbacusProperty)||void 0===t?void 0:t.range)!==d.range,_=(null===(s=this._cachedAbacusProperty)||void 0===s?void 0:s.orientation)!==d.orientation,p=(null===(a=this._cachedAbacusProperty)||void 0===a?void 0:a.tooltip)!==d.tooltip,v=(null===(i=this._cachedAbacusProperty)||void 0===i?void 0:i.animate)!==d.animate,f=(null===(n=this._cachedAbacusProperty)||void 0===n?void 0:n.max)!==d.max,b=(null===(l=this._cachedAbacusProperty)||void 0===l?void 0:l.min)!==d.min,g=!e.arrayCompare(null===(r=this._cachedAbacusProperty)||void 0===r?void 0:r.values,d.values),y=(null===(o=this._cachedAbacusProperty)||void 0===o?void 0:o.disabled)!==d.disabled,E=(null===(c=this._cachedAbacusProperty)||void 0===c?void 0:c.scale)!==d.scale,P=(null===(h=this._cachedAbacusProperty)||void 0===h?void 0:h.step)!==d.step;m&&(this._createViewHandles(d),this._createViewRange(d)),_&&(d.orientation===u.default.VERTICAL?(this._isVertical=!0,this._widgetContainer.isVertical(!0)):(this._isVertical=!1,this._widgetContainer.isVertical(!1))),(p||m)&&(this._createViewTooltips(d),this._updateViewTooltips(d),this._setTransition()),v&&this._setTransition(),(m||f||b||_||g)&&(this._updateViewHandles(d),this._updateViewTooltips(d),this._updateViewRange(d),this._highlightMarks()),g&&(this._findMovedHandle(),this._eventChangeWrapper()),d.classes&&this._updateClassNames(d.classes),y&&this.toggleDisable(d.disabled),(E||P||f||b||_)&&(d.scale?(this._createScale(),this._setTransition()):this._removeScale(),this._highlightMarks()),this._cachedAbacusProperty=e.getCloneAbacusProperty(d)},e.prototype._createViewHandles=function(e){var t,s=this,i=[];if(!(null===(t=s._handles)||void 0===t?void 0:t.length)){s._handles=[],s._handles[0]=new r.default(e.classes,0);var n=a(s._handles,1)[0];s._widgetContainer.htmlElement.append(n.htmlElement),s._currentHandle=n,i.push(0)}var l=a(s._handles,1)[0];switch(e.range){case!0:s._handles[1]=new r.default(e.classes,1),s._widgetContainer.htmlElement.append(s._handles[1].htmlElement),i.push(1);break;case"max":case"min":default:s._handles[1]&&(s._handles[1].htmlElement.remove(),s._handles=s._handles.slice(0,1)),s._currentHandle=l}s._handlerHandleItemClickStart=s._handlerHandleItemClickStart.bind(s);for(var o=0;o<i.length;o+=1){var c=i[o];s._handles[c].htmlElement.addEventListener("mousedown",s._handlerHandleItemClickStart),s._handles[c].htmlElement.addEventListener("touchstart",s._handlerHandleItemClickStart,{passive:!0})}},e.prototype._updateViewHandles=function(e){if(e.values)for(var t=0;t<e.values.length;t+=1){var s=e.values[t],a=this.getPosFromValue(s);this._handles[t]&&(this._isVertical?(this._handles[t].posLeft=null,this._handles[t].posBottom=a):(this._handles[t].posBottom=null,this._handles[t].posLeft=a))}},e.prototype._createViewTooltips=function(e){for(var t=0;t<this._tooltips.length;t+=1)this._tooltips[t].htmlElement.remove();if(this._tooltips=[],e.tooltip){var s=!0===e.range?2:1;for(t=0;t<s;t+=1)this._tooltips[t]=new h.default(e.classes,t),this._widgetContainer.htmlElement.append(this._tooltips[t].htmlElement),this._tooltips[t].isVisible(!0)}},e.prototype._updateViewTooltips=function(e){if(e.values&&e.tooltip)for(var t=0;t<e.values.length;t+=1){var s=e.values[t],a=this.getPosFromValue(s);this._tooltips[t]&&(this._isVertical?(this._tooltips[t].posLeft=null,this._tooltips[t].posBottom=a):(this._tooltips[t].posBottom=null,this._tooltips[t].posLeft=a),this._tooltips[t].htmlElement.innerText=e.values[t].toString())}},e.prototype._createViewRange=function(e){switch(e.range){case"max":this._range.rangeType="max",this._widgetContainer.htmlElement.prepend(this._range.htmlElement);break;case!0:this._range.rangeType="between",this._widgetContainer.htmlElement.prepend(this._range.htmlElement);break;case"min":this._range.rangeType="min",this._widgetContainer.htmlElement.prepend(this._range.htmlElement);break;default:this._range.rangeType="hidden",this._range.htmlElement.remove()}},e.prototype._updateViewRange=function(e){var t;if(null===(t=e.values)||void 0===t?void 0:t.length){var s=this.getPosFromValue(e.values[0]),a=this.getPosFromValue(e.values[1]);if(this._isVertical)switch(this._range.htmlElement.style.left="",this._range.htmlElement.style.right="",this._range.width=null,this._range.rangeType){case"min":this._range.htmlElement.style.top="auto",this._range.htmlElement.style.bottom="0",this._range.height=s;break;case"max":this._range.htmlElement.style.top="0",this._range.htmlElement.style.bottom="auto",this._range.height=100-s;break;case"between":this._range.htmlElement.style.bottom=s.toString()+"%",this._range.htmlElement.style.top="",this._range.height=a-s}else switch(this._range.htmlElement.style.top="",this._range.htmlElement.style.bottom="",this._range.height=null,this._range.rangeType){case"min":this._range.htmlElement.style.left="0",this._range.htmlElement.style.right="auto",this._range.width=s;break;case"max":this._range.htmlElement.style.left="auto",this._range.htmlElement.style.right="0",this._range.width=100-s;break;case"between":this._range.htmlElement.style.left=s.toString()+"%",this._range.htmlElement.style.right="",this._range.width=a-s}}},e.prototype._updateClassNames=function(e){var t,s,a,i,n,l,r,o,c,h,u=this;if((null===(s=null===(t=this._cachedAbacusProperty)||void 0===t?void 0:t.classes)||void 0===s?void 0:s.abacus)!==(null==e?void 0:e.abacus)&&(this._widgetContainer.className=null==e?void 0:e.abacus),(null===(i=null===(a=this._cachedAbacusProperty)||void 0===a?void 0:a.classes)||void 0===i?void 0:i.vertical)!==(null==e?void 0:e.vertical)&&(this._widgetContainer.classNameVertical=null==e?void 0:e.vertical),(null===(l=null===(n=this._cachedAbacusProperty)||void 0===n?void 0:n.classes)||void 0===l?void 0:l.disabled)!==(null==e?void 0:e.disabled)&&(this._widgetContainer.classNameDisabled=null==e?void 0:e.disabled),(null===(o=null===(r=this._cachedAbacusProperty)||void 0===r?void 0:r.classes)||void 0===o?void 0:o.handle)!==(null==e?void 0:e.handle))for(var d=0;d<this._handles.length;d+=1)this._handles[d].className=null==e?void 0:e.handle;(null===(h=null===(c=this._cachedAbacusProperty)||void 0===c?void 0:c.classes)||void 0===h?void 0:h.range)!==(null==e?void 0:e.range)&&(this._range.className=null==e?void 0:e.range),this._collectionMarks.forEach((function(t){var s,a,i,n,l,r,o=t;(null===(a=null===(s=u._cachedAbacusProperty)||void 0===s?void 0:s.classes)||void 0===a?void 0:a.mark)!==(null==e?void 0:e.mark)&&(null==e?void 0:e.mark)&&(o.className=e.mark),(null===(n=null===(i=u._cachedAbacusProperty)||void 0===i?void 0:i.classes)||void 0===n?void 0:n.markSelected)!==(null==e?void 0:e.markSelected)&&(null==e?void 0:e.markInrange)&&(o.classNameSelected=e.markSelected),(null===(r=null===(l=u._cachedAbacusProperty)||void 0===l?void 0:l.classes)||void 0===r?void 0:r.markInrange)!==(null==e?void 0:e.markInrange)&&(null==e?void 0:e.markInrange)&&(o.classNameInrange=e.markInrange)}))},e.prototype.toggleDisable=function(e){this._isDisabled=null==e?!this._isDisabled:!!e,this._widgetContainer.isDisabled(this._isDisabled)},e.prototype._getEventUIData=function(){var t={};this._currentHandle&&(t.handle=this._currentHandle.htmlElement,t.handleIndex=this._currentHandle.handleIndex);var s=this._presenter.getModelAbacusProperty();return t.abacusProperty=e.getCloneAbacusProperty(s),t},e.prototype._eventChangeWrapper=function(e){void 0===e&&(e=this._customEventChange);var t=this._widgetContainer.htmlElement.dispatchEvent(this._customEventChange),s=this._presenter.getModelAbacusProperty();return"function"==typeof(null==s?void 0:s.change)&&s.change(e,this._getEventUIData()),t},e.prototype._eventCreateWrapper=function(e){void 0===e&&(e=this._customEventCreate);var t=this._widgetContainer.htmlElement.dispatchEvent(this._customEventCreate),s=this._presenter.getModelAbacusProperty();return"function"==typeof(null==s?void 0:s.create)&&s.create(e,this._getEventUIData()),t},e.prototype._eventSlideWrapper=function(e){void 0===e&&(e=this._customEventSlide);var t=this._widgetContainer.htmlElement.dispatchEvent(this._customEventSlide),s=this._presenter.getModelAbacusProperty();return"function"==typeof(null==s?void 0:s.slide)&&s.slide(e,this._getEventUIData()),t},e.prototype._eventStartWrapper=function(e){void 0===e&&(e=this._customEventStart);var t=this._widgetContainer.htmlElement.dispatchEvent(this._customEventStart),s=this._presenter.getModelAbacusProperty();return"function"==typeof(null==s?void 0:s.start)&&s.start(e,this._getEventUIData()),t},e.prototype._eventStopWrapper=function(e){void 0===e&&(e=this._customEventStop);var t=this._widgetContainer.htmlElement.dispatchEvent(this._customEventStop),s=this._presenter.getModelAbacusProperty();return"function"==typeof(null==s?void 0:s.stop)&&s.stop(e,this._getEventUIData()),t},e.prototype._mouseHandler=function(e){var t,s,i=this,n=i._presenter.getModelAbacusProperty();if((null===(t=n.values)||void 0===t?void 0:t.length)&&i._currentHandle){var l=0;e instanceof MouseEvent?l=this._isVertical?e.clientY:e.clientX:e instanceof TouchEvent&&(l=this._isVertical?e.changedTouches[0].screenY:e.changedTouches[0].screenX);var r=this.getPosPercent(l),o=this.getValFromPosPercent(r),c=null===(s=n.values)||void 0===s?void 0:s.slice(0),h=a(i._handles,2),u=h[0],d=h[1],m=a(n.values,2),_=m[0],p=m[1];0===i._currentHandle.handleIndex&&(o>=p?(c[0]=p,i._currentHandle=d):c[0]=o),1===i._currentHandle.handleIndex&&(o<=_?(c[1]=_,i._currentHandle=u):c[1]=o),i._presenter.setModelAbacusProperty({values:c})}},e.prototype._calcHandleValues=function(e){var t,s,a;if(!Number.isNaN(e)){var i=this._presenter.getModelAbacusProperty();if(null===(t=i.values)||void 0===t?void 0:t.length){var n=[];if(i.values&&(n=null===(s=i.values)||void 0===s?void 0:s.slice(0)),!0===i.range&&(null===(a=i.values)||void 0===a?void 0:a.length)&&i.step){var l=i.values[0]-e;l=l<0?l*=-1:l;var r=i.values[1]-e;(r=r<0?r*=-1:r)<l?n[1]=e:n[0]=e}else n[0]=e;this._presenter.setModelAbacusProperty({values:n})}}},e.prototype._bindEventListeners=function(){var e=this;e._presenter.eventTarget.addEventListener("update-model",this._updateModelHandler.bind(this)),e._handlerWidgetContainerClick=e._handlerWidgetContainerClick.bind(e),e._widgetContainer.htmlElement.addEventListener("click",e._handlerWidgetContainerClick),e._widgetContainer.htmlElement.addEventListener("touchend",e._handlerWidgetContainerClick),e._handlerHandleItemClickMove=e._handlerHandleItemClickMove.bind(e),document.addEventListener("mousemove",e._handlerHandleItemClickMove,{passive:!0}),document.addEventListener("touchmove",e._handlerHandleItemClickMove,{passive:!0}),e._handlerHandleItemClickStop=e._handlerHandleItemClickStop.bind(e),document.addEventListener("mouseup",e._handlerHandleItemClickStop),document.addEventListener("touchend",e._handlerHandleItemClickStop),document.addEventListener("touchcancel",e._handlerHandleItemClickStop)},e.prototype._updateModelHandler=function(){this.updateView()},e.prototype._handlerWidgetContainerClick=function(e){var t,s,a,i;e.preventDefault();var n=this,l=n._presenter.getModelAbacusProperty(),r=e.target,o=(null===(t=l.classes)||void 0===t?void 0:t.handle)?null===(s=l.classes)||void 0===s?void 0:s.handle:"",c=(null===(a=l.classes)||void 0===a?void 0:a.mark)?null===(i=l.classes)||void 0===i?void 0:i.mark:"";if(!(n._isDisabled||r.classList.contains(o)||r.classList.contains(c))){var h=0;e instanceof MouseEvent?h=this._isVertical?e.clientY:e.clientX:e instanceof TouchEvent&&(h=this._isVertical?e.changedTouches[0].screenY:e.changedTouches[0].screenX);var u=this.getPosPercent(h),d=this.getValFromPosPercent(u);n._calcHandleValues(d)}},e.prototype._handlerHandleItemClickStart=function(e){e.preventDefault();var t=this;if(!t._isDisabled){var s=e.currentTarget.getAttribute("data-handle-index");if(s){var a=parseInt(s,10);t._isDragHandle=!0,t._currentHandle=t._handles[a],t._eventStartWrapper(e)}}},e.prototype._handlerHandleItemClickMove=function(e){var t=this;t._isDisabled||(null!==t._handleMovingTimer&&clearTimeout(t._handleMovingTimer),t._handleMovingTimer=setTimeout((function(){t._isDragHandle&&t._mouseHandler(e)}),5))},e.prototype._handlerHandleItemClickStop=function(e){var t=this;t._isDragHandle&&t._eventStopWrapper(e),t._isDragHandle=!1},e.prototype._createScale=function(){var t=this;this._collectionMarks.size&&this._removeScale();for(var s=this._presenter.getModelAbacusProperty(),a=s.min;a<=s.max;a+=s.step){a=e.round(a,s.step);var i=new c.default(a,s.classes),n=this.getPosFromValue(a);this._isVertical?i.posBottom=n:i.posLeft=n,this._collectionMarks.add(i)}a!==s.max&&(i=new c.default(s.max,s.classes),n=this.getPosFromValue(s.max),this._isVertical?i.posBottom=n:i.posLeft=n,this._collectionMarks.add(i)),this._collectionMarks.forEach((function(e){var s=e;t._widgetContainer.htmlElement.contains(t._handles[0].htmlElement)?t._handles[0].htmlElement.before(s.htmlElement):t._widgetContainer.htmlElement.append(s.htmlElement)})),this._thinOutScale(),this._bindEventListenersOnMarks()},e.prototype._removeScale=function(){this._collectionMarks.forEach((function(e){e.htmlElement.remove()})),this._collectionMarks.clear()},e.prototype._thinOutScale=function(){var e,t=this;e=this._isVertical?this._widgetContainer.htmlElement.offsetHeight:this._widgetContainer.htmlElement.offsetWidth;var s=0;if(this._collectionMarks.forEach((function(e){var a=e;t._isVertical?s+=a.htmlElement.offsetHeight+7:s+=a.htmlElement.offsetWidth+7})),e<s){var a=this._presenter.getModelAbacusProperty(),i=!1;this._collectionMarks.forEach((function(e){var s=e;s.associatedValue===a.min||s.associatedValue===a.max||i?i=!1:(null==s||s.htmlElement.remove(),t._collectionMarks.delete(s),i=!0)}))}s=0,this._collectionMarks.forEach((function(e){var a=e;t._isVertical?s+=a.htmlElement.offsetHeight+7:s+=a.htmlElement.offsetWidth+7})),e<s&&this._thinOutScale()},e.prototype._highlightMarks=function(){if(this._collectionMarks.size){var e=this._presenter.getModelAbacusProperty(),t=e.range;this._collectionMarks.forEach((function(s){var a=s,i=a.associatedValue>=e.values[0]&&a.associatedValue<=e.values[1];"min"===t&&a.associatedValue<=e.values[0]||"max"===t&&a.associatedValue>=e.values[0]||!0===t&&i?a.isInrange(!0):a.isInrange(!1),a.associatedValue===e.values[0]||a.associatedValue===e.values[1]?a.isSelected(!0):a.isSelected(!1)}))}},e.prototype._bindEventListenersOnMarks=function(){var e=this;this._handlerClickMarks=this._handlerClickMarks.bind(this),this._collectionMarks.forEach((function(t){var s=t;s.htmlElement.addEventListener("click",e._handlerClickMarks),s.htmlElement.addEventListener("touchend",e._handlerClickMarks)}))},e.prototype._handlerClickMarks=function(e){var t;e.preventDefault();var s=this;if(!s._isDisabled){var a=e.currentTarget.getAttribute("data-associated-value");if(a){var i=parseFloat(a);(null===(t=s._cachedAbacusProperty)||void 0===t?void 0:t.value)!==i&&s._calcHandleValues(i)}}},e.prototype._setTransition=function(){var e="",t=this._presenter.getModelAbacusProperty().animate;"number"==typeof t&&t>0?e=t.toString():!0===t?e="400":"slow"===t?e="600":"fast"===t&&(e="200"),e=e?e+"ms":"";for(var s=0;s<this._handles.length;s+=1)this._handles[s].htmlElement.style.transition=e,this._tooltips[s]&&(this._tooltips[s].htmlElement.style.transition=e);this._range.htmlElement.style.transition=e,this._collectionMarks.forEach((function(t){t.htmlElement.style.transition=e}))},e.getCloneAbacusProperty=function(e){var t,s={};return Object.assign(s,e),s.values=null===(t=e.values)||void 0===t?void 0:t.slice(0),Object.assign(s.classes,e.classes),s},e.prototype._findMovedHandle=function(){var e=this._presenter.getModelAbacusProperty(),t=a(this._handles,2),s=t[0],i=t[1];return this._currentHandle=s,this._cachedAbacusProperty&&this._cachedAbacusProperty.values[1]!==e.values[1]&&(this._currentHandle=i),this._currentHandle},e.prototype.getHtmlWidget=function(){return this._widgetContainer.htmlElement},e.prototype.destroy=function(){this._widgetContainer.htmlElement.innerHTML="",this._widgetContainer.htmlElement.removeEventListener("click",this._handlerWidgetContainerClick),this._widgetContainer.htmlElement.removeEventListener("touchend",this._handlerWidgetContainerClick),document.removeEventListener("mousemove",this._handlerHandleItemClickMove),document.removeEventListener("touchmove",this._handlerHandleItemClickMove),document.removeEventListener("mouseup",this._handlerHandleItemClickStop),document.removeEventListener("touchend",this._handlerHandleItemClickStop),document.removeEventListener("touchcancel",this._handlerHandleItemClickStop),this._widgetContainer.restoreOldClasses()},e.countNumAfterPoint=function(e){var t=e.toString();return(""+t).indexOf(".")>=0?(""+t).split(".")[1].length:0},e.round=function(t,s){var a=e.countNumAfterPoint(s);return a>0?parseFloat(t.toFixed(a)):Math.round(t)},e.arrayCompare=function(e,t){if(!e||!t)return!1;if((null==e?void 0:e.length)!==(null==t?void 0:t.length))return!1;for(var s=0;s<e.length;s+=1)if(e[s]!==t[s])return!1;return!0},e}();t.default=d},861:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){this._width=100,this._htmlElement=e,this._className=(null==t?void 0:t.abacus)?t.abacus:"abacus",this._classNameDisabled=(null==t?void 0:t.disabled)?t.disabled:"abacus_disabled",this._classNameVertical=(null==t?void 0:t.vertical)?t.vertical:"abacus_vertical",this._oldClasses=this._htmlElement.className,this._htmlElement.classList.add(this._className),this._htmlElement.classList.add("js-"+this._className)}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"htmlElement",{get:function(){return this._htmlElement},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return this._className},set:function(e){this._htmlElement.classList.remove(this._className),this._htmlElement.classList.add(e),this._className=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"classNameDisabled",{get:function(){return this._classNameDisabled},set:function(e){e&&"string"==typeof e&&(this._htmlElement.classList.contains(this._classNameDisabled)&&this._htmlElement.classList.add(e),this._classNameDisabled&&this._htmlElement.classList.remove(this._classNameDisabled),this._classNameDisabled=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"classNameVertical",{get:function(){return this._classNameVertical},set:function(e){e&&"string"==typeof e&&(this._htmlElement.classList.contains(this._classNameVertical)&&this._htmlElement.classList.add(e),this._classNameVertical&&this._htmlElement.classList.remove(this._classNameVertical),this._classNameVertical=e)},enumerable:!1,configurable:!0}),e.prototype.isDisabled=function(e){void 0!==e&&this._classNameDisabled&&(e?this._htmlElement.classList.add(this._classNameDisabled):this._htmlElement.classList.remove(this._classNameDisabled))},e.prototype.isVertical=function(e){void 0!==e&&this._classNameVertical&&(e?this._htmlElement.classList.add(this._classNameVertical):this._htmlElement.classList.remove(this._classNameVertical))},e.prototype.restoreOldClasses=function(){this._htmlElement.className=this._oldClasses},e}();t.default=s},882:function(e,t,s){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(s(609)),n=a(s(348));i.default.fn.abacus=function(e,t,s){var a=this;return this.each((function(){var l,r=this;if(r.jqueryAbacusInstance instanceof n.default)l=r.jqueryAbacusInstance;else{if("object"==typeof e)l=new n.default(r,e);else{if(e)return;l=new n.default(r)}r.jqueryAbacusInstance=l}if("string"==typeof e){var o=void 0;switch(e){case"destroy":l.destroy(),r.jqueryAbacusInstance=null;break;case"disable":l.option("disabled",!0);break;case"enable":l.option("disabled",!1);break;case"instance":a=l;break;case"option":void 0!==typeof(o="object"==typeof t?l.option(void 0,t):"string"==typeof t?l.option(t,s):l.option())&&(a=o);break;case"value":case"values":void 0!==typeof(o=l.option(e,s))&&(a=o);break;case"widget":o=i.default(l.getHtmlWidget())}}})),a}},609:e=>{"use strict";e.exports=jQuery}},t={};function s(a){if(t[a])return t[a].exports;var i=t[a]={exports:{}};return e[a].call(i.exports,i,i.exports,s),i.exports}s(882),s(160)})();
//# sourceMappingURL=abacus.js.map?v=04c28d8a8a8b67fee8ed