{"version":3,"sources":["webpack://abacus/./node_modules/@ungap/event-target/cjs/index.js","webpack://abacus/./src/styles/abacus.scss?2ebf","webpack://abacus/./src/scripts/Handle.ts","webpack://abacus/./src/scripts/Mark.ts","webpack://abacus/./src/scripts/Model.ts","webpack://abacus/./src/scripts/Presenter.ts","webpack://abacus/./src/scripts/Range.ts","webpack://abacus/./src/scripts/Tooltip.ts","webpack://abacus/./src/scripts/View.ts","webpack://abacus/./src/scripts/WidgetContainer.ts","webpack://abacus/./src/scripts/abacus.ts","webpack://abacus/external \"jQuery\"","webpack://abacus/webpack/bootstrap","webpack://abacus/webpack/runtime/make namespace object","webpack://abacus/webpack/startup"],"names":[],"mappings":"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","file":"abacus.js?v=2fca48eb04dcf4cd9bcb","sourcesContent":["/*! (c) Andrea Giammarchi - ISC */\nvar self = {};\ntry {\n  self.EventTarget = (new EventTarget).constructor;\n} catch(EventTarget) {\n  (function (Object, wm) {\n    var create = Object.create;\n    var defineProperty = Object.defineProperty;\n    var proto = EventTarget.prototype;\n    define(proto, 'addEventListener', function (type, listener, options) {\n      for (var\n        secret = wm.get(this),\n        listeners = secret[type] || (secret[type] = []),\n        i = 0, length = listeners.length; i < length; i++\n      ) {\n        if (listeners[i].listener === listener)\n          return;\n      }\n      listeners.push({target: this, listener: listener, options: options});\n    });\n    define(proto, 'dispatchEvent', function (event) {\n      var secret = wm.get(this);\n      var listeners = secret[event.type];\n      if (listeners) {\n        define(event, 'target', this);\n        define(event, 'currentTarget', this);\n        listeners.slice(0).forEach(dispatch, event);\n        delete event.currentTarget;\n        delete event.target;\n      }\n      return true;\n    });\n    define(proto, 'removeEventListener', function (type, listener) {\n      for (var\n        secret = wm.get(this),\n        /* istanbul ignore next */\n        listeners = secret[type] || (secret[type] = []),\n        i = 0, length = listeners.length; i < length; i++\n      ) {\n        if (listeners[i].listener === listener) {\n          listeners.splice(i, 1);\n          return;\n        }\n      }\n    });\n    self.EventTarget = EventTarget;\n    function EventTarget() {'use strict';\n      wm.set(this, create(null));\n    }\n    function define(target, name, value) {\n      defineProperty(\n        target,\n        name,\n        {\n          configurable: true,\n          writable: true,\n          value: value\n        }\n      );\n    }\n    function dispatch(info) {\n      var options = info.options;\n      if (options && options.once)\n        info.target.removeEventListener(this.type, info.listener);\n      if (typeof info.listener === 'function')\n        info.listener.call(info.target, this);\n      else\n        info.listener.handleEvent(this);\n    }\n  }(Object, new WeakMap));\n}\nmodule.exports = self.EventTarget;\n","// extracted by mini-css-extract-plugin\nexport {};","/**\n * Класс \"Handle\" является оберткой для HTML-элемента бегунка.\n * Также класс является \"subView\", то есть частью Вида (Представления) согласно паттерну проектирования MVP.\n */\nexport class Handle{\n  /**\n   * HTML-элемент бегунка.\n   * @type {HTMLElement}\n   * @private\n   */\n  private _htmlElement: HTMLElement;\n\n  /**\n   * Позиция бегунка в процентах от 0 до 100 по горизонтали от левого края.\n   * @type {number}\n   * @private\n   */\n  private _posLeft: number = 0;\n\n  /**\n   * Позиция бегунка в процентах от 0 до 100 по вертикали от нижнего края.\n   * @type {number}\n   * @private\n   */\n  private _posBottom: number = 0;\n\n  /**\n   * Номер (индекс) бегунка. Может принимать значение 0 или 1.\n   * @type {number}\n   * @private\n   */\n  private _handleIndex: number = 0;\n\n  /**\n   * Название класса HTML-элемента.\n   * @type {string}\n   * @private\n   */\n\tprivate _className: string;\n\n  /**\n   * @constructor\n   * @this   {Handle}\n   * @param  {AbacusClasses} classes - Объект с названиями классов.\n   * @example new Handle({\n   *  handle: 'abacus__handle'\n   * });\n   */\n  constructor(classes?: AbacusClasses, handleIndex?: number){\n    this._htmlElement = document.createElement('span');\n    this._className = classes?.handle ? classes.handle : 'abacus__handle';\n    this._htmlElement.classList.add(this._className);\n\n    if( handleIndex != null ){\n      this._handleIndex = handleIndex;\n    }\n  }\n\n  /**\n   * Геттер позиции бегунка в процентах от левого края.\n   * @returns {number} - Позиция бегунка в процентах от 0 до 100.\n   */\n  public get posLeft() : number {\n    return this._posLeft;\n  }\n\n  /**\n   * Сеттер позиции бегунка в процентах от левого края.\n   * @param {number} - Позиция бегунка в процентах от 0 до 100.\n   */\n  public set posLeft(left : number) {\n    if( left < 0 ) left = 0;\n    if( left > 100 ) left = 100;\n\n    this._posLeft = left;\n    this._htmlElement.style.left = left + '%';\n  }\n\n\n  /**\n   * Геттер ссылки на HTML-элемент.\n   */\n  public get htmlElement() : HTMLElement {\n    return this._htmlElement;\n  }\n\n\n  /**\n   * Геттер номера (индекса) бегунка.\n   */\n  public get handleIndex() : number {\n    return this._handleIndex;\n  }\n\n\n  /**\n   * Геттер названия класса HTML-элемента.\n   */\n  public get className() : string {\n    return this._className;\n  }\n\n\n  /**\n   * Сеттер названия класса HTML-элемента. Удаляет предудыщее название у HTML-элемента, а затем ставит новое название.\n   * @param {string} name - Название класса.\n   */\n  public set className(value : string) {\n    this._htmlElement.classList.remove(this._className);\n    this._htmlElement.classList.add(value);\n    this._className = value;\n  }\n}","/**\n * Класс \"Mark\" является оберткой для HTML-элемента метки шкалы значений слайдера.\n * Также класс является \"subView\", то есть частью Вида (Представления) согласно паттерну проектирования MVP.\n */\nexport class Mark{\n  /**\n   * HTML-элемент метки шкалы значений слайдера.\n   * @type {HTMLElement}\n   * @private\n   */\n  private _htmlElement: HTMLElement;\n\n  /**\n   * Название класса HTML-элемента.\n   * @type {string}\n   * @private\n   */\n  private _className: string;\n\n\n  /**\n   * Название класса HTML-элемента метки, которая находится в диапозоне.\n   * @type {string}\n   * @private\n   */\n  private _classNameInrange: string;\n\n\n  /**\n   * Если параметр равен \"true\", то это значит, что метка находится в диапозоне.\n   * @type {boolean}\n   * @private\n   */\n  private _isInrange: boolean = false;\n\n\n  /**\n   * Название класса HTML-элемента метки, которая соответствует текущему значению слайдера.\n   * @type {string}\n   * @private\n   */\n  private _classNameSelected: string = '';\n\n\n  /**\n   * Если параметр равен \"true\", то это значит, что метка соответствует текущему значению слайдера.\n   * @type {boolean}\n   * @private\n   */\n  private _isSelected: boolean = false;\n\n\n  /**\n   * Позиция метки в процентах от 0 до 100 по горизонтали от левого края.\n   * @type {number}\n   * @private\n   */\n  private _posLeft: number = 0;\n\n  /**\n    * Позиция метки в процентах от 0 до 100 по вертикали от нижнего края.\n    * @type {number}\n    * @private\n    */\n  private _posBottom: number = 0;\n\n\n  /**\n   * @constructor\n   * @this   {Mark}\n   * @param  {AbacusClasses} classes - Объект с названиями классов.\n   * @example new Mark({\n\t * \tmark: 'abacus__mark',\n\t * \tmarkInrange: 'abacus__mark_inrange',\n\t * \tmarkSelected: 'abacus__mark_selected'\n\t * });\n   */\n  constructor(classes?: AbacusClasses){\n    this._htmlElement = document.createElement('span');\n    this._className = classes?.mark ? classes.mark : 'abacus__mark';\n    this._classNameInrange = classes?.markInrange ? classes.markInrange : 'abacus__mark_inrange';\n    this._classNameSelected = classes?.markSelected ? classes.markSelected : 'abacus__mark_selected';\n    this._htmlElement.classList.add(this._className);\n  }\n\n\n  /**\n   * Геттер ссылки на HTML-элемент.\n   */\n  public get htmlElement() : HTMLElement {\n    return this._htmlElement;\n  }\n\n\n  /**\n   * Геттер названия класса HTML-элемента.\n   */\n  public get className() : string {\n    return this._className;\n  }\n\n\n  /**\n   * Сеттер названия класса HTML-элемента. Удаляет предудыщее название у HTML-элемента, а затем ставит новое название.\n   * @param {string} name - Название класса.\n   */\n  public set className(name : string) {\n    if( this._className ){\n      this._htmlElement.classList.remove(this._className);\n    }\n    if( name ){\n      this._htmlElement.classList.add(name);\n    }\n    this._className = name;\n  }\n\n\n  /**\n   * Геттер названия класса HTML-элемента метки, которая находится в диапозоне.\n   */\n  public get classNameInrange() : string {\n    return this._classNameInrange;\n  }\n\n\n  /**\n   * Сеттер названия класса HTML-элемента метки, которая находится в диапозоне.\n   * Удаляет предудыщее название у HTML-элемента, а затем ставит новое название.\n   * @param {string} name - Название класса.\n   */\n  public set classNameInrange(name : string) {\n    if( !name || typeof name !== 'string' ){\n      return;\n    }\n\n    if( this._htmlElement.classList.contains(this._classNameInrange) ){\n      this._htmlElement.classList.add(name);\n    }\n    if( this._classNameInrange ){\n      this._htmlElement.classList.remove(this._classNameInrange);\n    }\n\n    this._classNameInrange = name;\n  }\n\n\n  /**\n   * Геттер названия класса HTML-элемента метки, которая соответствует текущему значению слайдера.\n   */\n  public get classNameSelected() : string {\n    return this._classNameSelected;\n  }\n\n\n  /**\n   * Сеттер названия класса HTML-элемента метки, которая соответствует текущему значению слайдера.\n   * Удаляет предудыщее название у HTML-элемента, а затем ставит новое название.\n   * @param {string} name - Название класса.\n   */\n  public set classNameSelected(name : string) {\n    if( !name || typeof name !== 'string' ){\n      return;\n    }\n\n    if( this._htmlElement.classList.contains(this._classNameSelected) ){\n      this._htmlElement.classList.add(name);\n    }\n    if( this._classNameSelected ){\n      this._htmlElement.classList.remove(this._classNameSelected);\n    }\n\n    this._classNameSelected = name;\n  }\n\n\n  /**\n   * Геттер позиции метки в процентах от левого края.\n   * @returns {number} - Позиция метки в процентах от 0 до 100.\n   */\n  public get posLeft() : number {\n    return this._posLeft;\n  }\n  \n  /**\n   * Сеттер позиции метки в процентах от левого края.\n   * @param {number} - Позиция метки в процентах от 0 до 100.\n   */\n  public set posLeft(left : number) {\n    if( left < 0 ) left = 0;\n    if( left > 100 ) left = 100;\n\n    this._posLeft = left;\n    this._htmlElement.style.left = left + '%';\n  }\n\n\n  /**\n   * Функция получения и установки состояния \"в диапозоне\". \n   * Если функция получила параметр false, то у метки удалаяется класс,\n   * записанный в _classNameInrange.\n   * Если функция получила параметр true, то метке добавляется класс,\n   * записанный в _classNameInrange.\n   * @param {boolean} value - Если передать \"true\", то добавляется класс, иначе удалается класс. Если ничего не передать,\n   * то возвращается текущее состояние.\n   * @returns {boolean} - Текущее состояние метки, а именно, в диапозоне она находится или нет.\n   */\n  isInrange(value?: boolean): boolean{\n    if( value !== undefined && this._classNameInrange){\n      this._isInrange = !!value;\n\n      if( this._isInrange ){\n        this._htmlElement.classList.add(this._classNameInrange);\n      }\n      else{\n        this._htmlElement.classList.remove(this._classNameInrange);\n      }\n    }\n\n    return this._isInrange;\n  }\n\n\n  /**\n   * Функция получения и установки состояния \"выбранная\". \n   * Это значит, что напротив этой метки установлена одна из ручек слайдера.\n   * Если функция получила параметр false, то у метки удалаяется класс,\n   * записанный в _classNameSelected.\n   * Если функция получила параметр true, то метке добавляется класс,\n   * записанный в _classNameSelected.\n   * @param {boolean} value - Если передать \"true\", то добавляется класс, иначе удалается класс. Если ничего не передать,\n   * то возвращается текущее состояние.\n   * @returns {boolean} - Текущее состояние метки.\n   */\n  isSelected(value?: boolean): boolean{\n    if( value !== undefined && this._classNameSelected){\n      this._isSelected = !!value;\n\n      if( this._isSelected ){\n        this._htmlElement.classList.add(this._classNameSelected);\n      }\n      else{\n        this._htmlElement.classList.remove(this._classNameSelected);\n      }\n    }\n\n    return this._isSelected;\n  }\n}","import EventTarget from '@ungap/event-target';\n\n/**\n * Класс Model реализует \"Модель\" паттерна проектирования MVP.\n * В этом классе хранится данные слайдера, а также бизнес логика работы с этими данными.\n */\n\nexport class Model{\n  /**\n   * Свойства слайдера.\n   * @private\n   */\n  private _abacusProperty: AbacusOptions = {\n    animate: false,\n    classes: {\n      abacus: 'abacus',\n      disabled: 'abacus_disabled',\n      handle: 'abacus__handle',\n      range: 'abacus__range',\n      mark: 'abacus__mark',\n      markSelected: 'abacus__mark_selected',\n      markInrange: 'abacus__mark_inrange',\n      tooltip: 'abacus__tooltip',\n      tooltipVisible: 'abacus__tooltip_visible',\n    },\n    disabled: false,\n    max: 100,\n    min: 0,\n    orientation: 'horizontal',\n    range: false,\n    scale: false,\n    step: 1,\n    tooltip: false,\n    value: 0,\n    values: null,\n  }\n\n  /**\n   * Объект, который может генерировать события и может иметь подписчиков на эти события.\n   * @private\n   */\n  private _eventTarget: EventTarget;\n\n  /**\n   * Событие изменения данных в Модели.\n   * @private\n   */\n  private _eventUpdateModel: CustomEvent;\n\n  /**\n   * @this Model\n   * @param {AbacusOptions} data - Свойства слайдера.\n   */\n  constructor(data?: AbacusOptions){\n    if( data ){\n      this.abacusProperty = data;\n    }\n\n    this._eventTarget = new EventTarget();\n    this._eventUpdateModel = new CustomEvent('update-model');\n  }\n\n\n  /**\n   * Геттер свойств слайдера.\n   * @returns {AbacusOptions} - Свойства слайдера, хранящиеся в Модели.\n   */\n  public get abacusProperty() : AbacusOptions {\n    return this._abacusProperty;\n  }\n\n  /**\n   * Сеттер свойств слайдера.\n   * @param {AbacusOptions} abacusProperty - Свойства слайдера, которые нужно добавить в Модель.\n   */\n  public set abacusProperty(abacusProperty: AbacusOptions) {\n    // animate\n    if( abacusProperty.animate !== undefined ){\n      if (abacusProperty.animate === 'fast'\n      || abacusProperty.animate === 'slow'\n      || typeof abacusProperty.animate === 'boolean')\n      {\n        this._abacusProperty.animate = abacusProperty.animate;\n      }\n      else if( abacusProperty.animate == null ){\n        this._abacusProperty.animate = false;\n      }\n      else if( !isNaN(abacusProperty.animate as number) ){\n        this._abacusProperty.animate = parseInt(abacusProperty.animate as string);\n      }\n    }\n\n    // classes\n    if( typeof abacusProperty.classes === 'object' ){\n      if( ! this._abacusProperty.classes ){\n        this._abacusProperty.classes = {} as AbacusClasses;\n      }\n\n      if( typeof abacusProperty.classes.abacus === 'string' && abacusProperty.classes.abacus){\n        this._abacusProperty.classes.abacus = abacusProperty.classes.abacus;\n      }\n      if( typeof abacusProperty.classes.disabled === 'string' && abacusProperty.classes.disabled){\n        this._abacusProperty.classes.disabled = abacusProperty.classes.disabled;\n      }\n      if( typeof abacusProperty.classes.range === 'string' && abacusProperty.classes.range){\n        this._abacusProperty.classes.range = abacusProperty.classes.range;\n      }\n      if( typeof abacusProperty.classes.handle === 'string' && abacusProperty.classes.handle){\n        this._abacusProperty.classes.handle = abacusProperty.classes.handle;\n      }\n      if( typeof abacusProperty.classes.mark === 'string' && abacusProperty.classes.mark){\n        this._abacusProperty.classes.mark = abacusProperty.classes.mark;\n      }\n      if( typeof abacusProperty.classes.markSelected === 'string' && abacusProperty.classes.markSelected){\n        this._abacusProperty.classes.markSelected = abacusProperty.classes.markSelected;\n      }\n      if( typeof abacusProperty.classes.markInrange === 'string' && abacusProperty.classes.markInrange){\n        this._abacusProperty.classes.markInrange = abacusProperty.classes.markInrange;\n      }\n      if( typeof abacusProperty.classes.tooltip === 'string' && abacusProperty.classes.tooltip){\n        this._abacusProperty.classes.tooltip = abacusProperty.classes.tooltip;\n      }\n      if( typeof abacusProperty.classes.tooltipVisible === 'string' && abacusProperty.classes.tooltipVisible){\n        this._abacusProperty.classes.tooltipVisible = abacusProperty.classes.tooltipVisible;\n      }\n    }\n\n    // disabled\n    if( abacusProperty.disabled !== undefined ){\n      this._abacusProperty.disabled = !!abacusProperty.disabled;\n    }\n\n    // max\n    if( abacusProperty.max !== undefined && abacusProperty.max !== null ){\n      if( !isNaN(abacusProperty.max as number) ){\n        if( typeof abacusProperty.max === 'string' ){\n          this._abacusProperty.max = parseFloat(abacusProperty.max);\n        }\n        else{\n          this._abacusProperty.max = abacusProperty.max;\n        }\n      }\n    }\n\n    // scale\n    if( abacusProperty.scale !== undefined ){\n      this._abacusProperty.scale = !!abacusProperty.scale;\n    }\n\n    // min\n    if( abacusProperty.min !== undefined && abacusProperty.min !== null ){\n      if( !isNaN(abacusProperty.min as number) ){\n        if( typeof abacusProperty.min === 'string' ){\n          this._abacusProperty.min = parseFloat(abacusProperty.min);\n        }\n        else{\n          this._abacusProperty.min = abacusProperty.min;\n        }\n      }\n    }\n\n    if( (this._abacusProperty.max as number) < (this._abacusProperty.min as number) ){\n      const tmpMax = this._abacusProperty.max;\n      this._abacusProperty.max = this._abacusProperty.min;\n      this._abacusProperty.min = tmpMax;\n    }\n\n    // step\n    if( abacusProperty.step !== undefined && abacusProperty.step !== null ){\n      if( !isNaN(abacusProperty.step as number) ){\n        if( typeof abacusProperty.step === 'string' ){\n          this._abacusProperty.step = parseFloat(abacusProperty.step);\n        }\n        else{\n          this._abacusProperty.step = abacusProperty.step;\n        }\n      }\n    }\n\n    // tooltip\n    if( abacusProperty.tooltip !== undefined ){\n      this._abacusProperty.tooltip = !!abacusProperty.tooltip;\n    }\n\n    // value\n    if( abacusProperty.value !== undefined && abacusProperty.value !== null ){\n      if( !isNaN(abacusProperty.value as number) ){\n        if( typeof abacusProperty.value === 'string' ){\n          abacusProperty.value = parseFloat(abacusProperty.value);\n        }\n        abacusProperty.value = this.roundValuePerStep(abacusProperty.value);\n        this._abacusProperty.value = abacusProperty.value;\n      }\n    }\n\n    // orientation\n    if( abacusProperty.orientation !== undefined ){\n      if( abacusProperty.orientation === 'vertical' )\n      {\n        this._abacusProperty.orientation = 'vertical';\n      }\n      else{\n        this._abacusProperty.orientation = 'horizontal';\n      }\n    }\n\n    // range\n    if( abacusProperty.range !== undefined ){\n      if( abacusProperty.range === false || abacusProperty.range === true){\n        this._abacusProperty.range = abacusProperty.range;\n      }\n      else if( abacusProperty.range === 'max' ){\n        this._abacusProperty.range = 'max';\n      }\n      else if( abacusProperty.range === 'min' ){\n        this._abacusProperty.range = 'min';\n      }\n    }\n\n    // change\n    if( abacusProperty.change !== undefined ){\n      this._abacusProperty.change = abacusProperty.change;\n    }\n\n    // create\n    if( abacusProperty.create !== undefined ){\n      this._abacusProperty.create = abacusProperty.create;\n    }\n\n    // slide\n    if( abacusProperty.slide !== undefined ){\n      this._abacusProperty.slide = abacusProperty.slide;\n    }\n\n    // start\n    if( abacusProperty.start !== undefined ){\n      this._abacusProperty.start = abacusProperty.start;\n    }\n\n    // stop\n    if( abacusProperty.stop !== undefined ){\n      this._abacusProperty.stop = abacusProperty.stop;\n    }\n\n    if( this._eventTarget ){\n      this._eventTarget.dispatchEvent(this._eventUpdateModel);\n    }\n  }\n\n\n  /**\n   * Сеттер текущего значения слайдера.\n   * @param {number} value - Текущее значение слайдера.\n   */\n  public set value(value : number) {\n    this._abacusProperty.value = this.roundValuePerStep(value);\n    if( this._eventTarget ){\n      this._eventTarget.dispatchEvent(this._eventUpdateModel);\n    }\n  }\n\n  /**\n   * Геттер объекта, который может генерировать события и может иметь подписчиков на эти события.\n   */\n  public get eventTarget(): EventTarget{\n    return this._eventTarget;\n  }\n\n\n  /**\n   * Функция, округляющее переданное значение до ближайшего шага.\n   * @param {number} value - Текущее значение слайдера.\n   * @returns {number} - Значение слайдера, округленное до ближайшего шага.\n   */\n  roundValuePerStep(value: number): number{\n    let result: number = value;\n    const minVal: number = this._abacusProperty.min as number;\n    const maxVal: number = this._abacusProperty.max as number;\n    const step: number = this._abacusProperty.step as number;\n\n    if( value >= maxVal ){\n      return maxVal;\n    }\n    if( value <= minVal ){\n      return minVal;\n    }\n\n    for (let valByStep = minVal; valByStep < maxVal; valByStep += step){\n      if( value > valByStep && value < valByStep + step ){\n        if( valByStep + step > maxVal ){\n          result = maxVal;\n          break;\n        }\n\n        const prevVal: number = valByStep;\n        const\tpositivePrevVal: number = prevVal < 0 ? prevVal * -1 : prevVal;// берем предыдущее значение по модулю\n        const nextVal: number = valByStep + step;\n        const\tpositiveNextVal: number = nextVal < 0 ? nextVal * -1 : nextVal;// берем следующее значение по модулю\n        const positiveValue: number = value < 0 ? value * -1 : value;// берем переданное значение по модулю\n\n        let deltaPrevValue: number;\n        let deltaNextValue: number;\n\n        if( value < 0 ){\n          deltaPrevValue = positivePrevVal - positiveValue;\n          deltaNextValue = positiveValue - positiveNextVal;\n        }\n        else{\n          deltaPrevValue = positiveValue - positivePrevVal;\n          deltaNextValue = positiveNextVal - positiveValue;\n        }\n\n        if( deltaPrevValue < deltaNextValue ){\n          result = prevVal;\n        } else{\n          result = nextVal;\n        }\n        break;\n      }\n    }\n\n    result = Model.round(result, step);\n    return result;\n  }\n\n\n  /**\n   * Функция получения количества знаков после запятой.\n   * @param {number} x - Число, у которого надо узнать количество знаков после запятой.\n   * @returns {number} - Количество знаков после запятой.\n   */\n  static countNumAfterPoint(x: number): number{\n    return ~(x + '').indexOf('.') ? (x + '').split('.')[1].length : 0;\n  }\n\n\n  /**\n   * Функция окргуления числа до того количества знаков после запятой, сколько этих знаков у числа fractionalNum.\n   * @param {number} value - Число, которое надо округлить.\n   * @param {number} fractionalNum - Число, у которого надо узнать количество знаков после запятой.\n   * @returns {number} - Округленное число.\n   */\n  static round(value: number, fractionalNum: number): number{\n    const numbersAfterPoint = Model.countNumAfterPoint(fractionalNum);\n    if( numbersAfterPoint > 0 ){\n      value = parseFloat(value.toFixed(numbersAfterPoint));\n    }\n    else{\n      value = Math.round(value);\n    }\n\n    return value;\n  }\n}","import EventTarget from '@ungap/event-target';\nimport {Model} from './Model';\n\n/**\n * Класс Presenter реализует \"Представителя\" паттерна проектирования MVP.\n * Соответственно, он отвечает за передачу данных от Вида к Модели и обратно.\n */\nexport class Presenter{\n  /**\n   * Ссылка на Модель, которая содержит данные слайдера.\n   * @type {Model}\n   * @private\n   */\n  private _model: Model;\n\n  /**\n   * Объект, который может генерировать события и может иметь подписчиков на эти события.\n   * @type {EventTarget}\n   * @private\n   */\n  private _eventTarget: EventTarget;\n\n  /**\n   * Событие изменения данных в Модели.\n   * @type {CustomEvent}\n   * @private\n   */\n  private _eventUpdateModel: CustomEvent;\n\n  /**\n   * @this Presenter\n   * @param {AbacusOptions} options - Свойства слайдера. Например, минимальное, максимальное и текущее значения.\n   */\n  constructor(options?: AbacusOptions){\n    const presenterInstance = this;\n    this._model = new Model(options);\n\n    this._eventTarget = new EventTarget();\n    this._eventUpdateModel = new CustomEvent('update-model');\n\n    this._model.eventTarget.addEventListener('update-model', (event: Event) => {\n      presenterInstance._eventTarget.dispatchEvent(presenterInstance._eventUpdateModel);\n    });\n  }\n\n\n  /**\n   * Функция получения свойств слайдера, полученные из Модели.\n   * @returns {AbacusOptions} - Свойства слайдера, полученные из Модели.\n   */\n  getModelAbacusProperty(): AbacusOptions{\n    return this._model.abacusProperty;\n  }\n\n\n  /**\n   * Функция получения свойств слайдера, полученные из Модели.\n   * @returns {AbacusOptions} - Свойства слайдера, полученные из Модели.\n   */\n  setModelAbacusProperty(abacusProperty: AbacusOptions): void{\n    this._model.abacusProperty = abacusProperty;\n  }\n\n\n  /**\n   * Функция установки текущего значения слайдера.\n   * @param {number} value - Текущее значение слайдера.\n   */\n  setAbacusValue(value: number): void{\n    this._model.value = value;\n  }\n\n\n  /**\n   * Геттер объекта, который может генерировать события и может иметь подписчиков на эти события.\n   */\n  public get eventTarget(): EventTarget{\n    return this._eventTarget;\n  }\n}","/**\n * Класс \"Range\" является оберткой для HTML-элемента индикатора (progress bar).\n * Также класс является \"subView\", то есть частью Вида (Представления) согласно паттерну проектирования MVP.\n */\nexport class Range{\n  /**\n   * HTML-элемент индикатора.\n   * @type {HTMLElement}\n   * @private\n   */\n  private _htmlElement: HTMLElement;\n\n  /**\n   * Ширина HTML-элемента от 0 до 100 в процентах.\n   * @type {number}\n   * @private\n   */\n  private _width: number = 100;\n\n  /**\n   * Название класса HTML-элемента.\n   * @type {string}\n   * @private\n   */\n  private _className: string;\n\n  /**\n   *\n   * @param className\n   */\n  private _rangeType: RangeType = RangeType.HIDDEN;\n\n  /**\n   * @constructor\n   * @this   {Range}\n   * @param  {AbacusClasses} classes - Объект с названиями классов.\n   * @example new Handle({\n   *  range: 'abacus__range'\n   * });\n   */\n  constructor(classes?: AbacusClasses){\n    this._htmlElement = document.createElement('span');\n    this._className = classes?.range ? classes.range : 'abacus__range';\n    this._htmlElement.classList.add(this._className);\n  }\n\n\n  /**\n   * Геттер ширины HTML-элемента (_htmlElement).\n   */\n  public get width() : number {\n    return this._width;\n  }\n\n  /**\n   * Сеттер ширины HTML-элемента (_htmlElement).\n   * @param {number} width - ширина в процентах от 0 до 100.\n   */\n  public set width(width : number) {\n    if( width < 0 ) width = 0;\n    if( width > 100 ) width = 100;\n\n    this._width = width;\n    this._htmlElement.style.width = width + '%';\n  }\n\n\n  /**\n   * Геттер ссылки на HTML-элемент.\n   */\n  public get htmlElement() : HTMLElement {\n    return this._htmlElement;\n  }\n\n\n  /**\n   * Геттер названия класса HTML-элемента.\n   */\n  public get className() : string {\n    return this._className;\n  }\n\n\n  /**\n   * Сеттер названия класса HTML-элемента. Удаляет предудыщее название у HTML-элемента, а затем ставит новое название.\n   * @param {string} name - Название класса.\n   */\n  public set className(value : string) {\n    this._htmlElement.classList.remove(this._className);\n    this._htmlElement.classList.add(value);\n    this._className = value;\n  }\n\n\n  /**\n   *\n   */\n  public get rangeType() : string {\n    return this._rangeType;\n  }\n\n  /**\n   *\n   */\n  public set rangeType(value : string) {\n    if( value !== 'hidden' && value !== 'min' && value !== 'max' && value !== 'between' ){\n      value = 'hidden';\n    }\n    this._rangeType = value as RangeType;\n  }\n\n}\n\nenum RangeType {\n  HIDDEN = 'hidden',\n  MIN = 'min',\n  MAX = 'max',\n  BETWEEN = 'between'\n}","/**\n * Класс \"Tooltip\" является оберткой для HTML-элемента подсказки со значением ручки слайдера.\n * Также класс является \"subView\", то есть частью Вида (Представления) согласно паттерну проектирования MVP.\n */\nexport class Tooltip{\n  /**\n   * HTML-элемент подсказки со значением ручки слайдера.\n   * @type {HTMLElement}\n   * @private\n   */\n  private _htmlElement: HTMLElement;\n\n  /**\n   * Название класса HTML-элемента.\n   * @type {string}\n   * @private\n   */\n  private _className: string;\n\n\n  /**\n   * Название класса HTML-элемента подсказки, которая находится в состоянии видимости.\n   * @type {string}\n   * @private\n   */\n  private _classNameVisible: string;\n\n\n  /**\n   * Если параметр равен \"true\", то это значит, что подсказка отображается.\n   * @type {boolean}\n   * @private\n   */\n  private _isVisible: boolean = false;\n\n\n  /**\n   * Позиция подсказки в процентах от 0 до 100 по горизонтали от левого края.\n   * @type {number}\n   * @private\n   */\n  private _posLeft: number = 0;\n\n  /**\n    * Позиция подсказки в процентах от 0 до 100 по вертикали от нижнего края.\n    * @type {number}\n    * @private\n    */\n  private _posBottom: number = 0;\n\n\n  /**\n   * @constructor\n   * @this   {Tooltip}\n   * @param  {AbacusClasses} classes - Объект с названиями классов.\n   * @example new Tooltip({\n   *  tooltip: 'abacus__tooltip',\n   *  tooltipVisible: 'abacus__tooltip_visible'\n   * });\n   */\n  constructor(classes?: AbacusClasses){\n    this._htmlElement = document.createElement('span');\n    this._className = classes?.tooltip ? classes.tooltip : 'abacus__tooltip';\n    this._classNameVisible = classes?.tooltipVisible ? classes.tooltipVisible : 'abacus__tooltip_visible';\n    this._htmlElement.classList.add(this._className);\n  }\n\n\n  /**\n   * Геттер ссылки на HTML-элемент.\n   */\n  public get htmlElement() : HTMLElement {\n    return this._htmlElement;\n  }\n\n\n  /**\n   * Геттер названия класса HTML-элемента.\n   */\n  public get className() : string {\n    return this._className;\n  }\n\n\n  /**\n   * Сеттер названия класса HTML-элемента. Удаляет предудыщее название у HTML-элемента, а затем ставит новое название.\n   * @param {string} name - Название класса.\n   */\n  public set className(name : string) {\n    if( this._className ){\n      this._htmlElement.classList.remove(this._className);\n    }\n    if( name ){\n      this._htmlElement.classList.add(name);\n    }\n    this._className = name;\n  }\n\n\n  /**\n   * Геттер названия класса HTML-элемента метки, которая находится в диапозоне.\n   */\n  public get classNameVisible() : string {\n    return this._classNameVisible;\n  }\n\n\n  /**\n   * Сеттер названия класса HTML-элемента метки, которая находится в диапозоне.\n   * Удаляет предудыщее название у HTML-элемента, а затем ставит новое название.\n   * @param {string} name - Название класса.\n   */\n  public set classNameVisible(name : string) {\n    if( !name || typeof name !== 'string' ){\n      return;\n    }\n\n    if( this._htmlElement.classList.contains(this._classNameVisible) ){\n      this._htmlElement.classList.add(name);\n    }\n    if( this._classNameVisible ){\n      this._htmlElement.classList.remove(this._classNameVisible);\n    }\n\n    this._classNameVisible = name;\n  }\n\n\n  /**\n   * Геттер позиции метки в процентах от левого края.\n   * @returns {number} - Позиция метки в процентах от 0 до 100.\n   */\n  public get posLeft() : number {\n    return this._posLeft;\n  }\n  \n  /**\n   * Сеттер позиции метки в процентах от левого края.\n   * @param {number} - Позиция метки в процентах от 0 до 100.\n   */\n  public set posLeft(left : number) {\n    if( left < 0 ) left = 0;\n    if( left > 100 ) left = 100;\n\n    this._posLeft = left;\n    this._htmlElement.style.left = left + '%';\n  }\n\n\n  /**\n   * Функция получения и установки состояния видимости подсказки. \n   * Если функция получила параметр false, то у метки удалаяется класс,\n   * записанный в _classNameVisible.\n   * Если функция получила параметр true, то метке добавляется класс,\n   * записанный в _classNameVisible.\n   * @param {boolean} value - Если передать \"true\", то добавляется класс, иначе удалается класс. Если ничего не передать,\n   * то возвращается текущее состояние.\n   * @returns {boolean} - Текущее состояние метки, а именно, в диапозоне она находится или нет.\n   */\n  isVisible(value?: boolean): boolean{\n    if( value !== undefined && this._classNameVisible){\n      this._isVisible = !!value;\n\n      if( this._isVisible ){\n        this._htmlElement.classList.add(this._classNameVisible);\n      }\n      else{\n        this._htmlElement.classList.remove(this._classNameVisible);\n      }\n    }\n\n    return this._isVisible;\n  }\n}","import { Presenter } from './Presenter';\nimport { WidgetContainer } from './WidgetContainer';\nimport { Handle } from './Handle';\nimport { Range } from './Range';\nimport { Mark } from './Mark';\nimport { Tooltip } from './Tooltip';\n\n/**\n * Класс View реализует \"Представление\" или \"Вид\" паттерна проектирования MVP.\n * Соответственно, он отвечает за отрисовку интерфейса плагина, получение данных от пользователя и отображение данных,\n * находящихся в Модели.\n */\nexport class View{\n  /**\n   * Ссылка на Представителя, который связывает объект класса View с объектом класса Model\n   * по паттерну проектирования MVP.\n   * @type  {Presenter}\n   * @private\n   */\n  private _presenter: Presenter;\n\n  /**\n   * Объект, в котором содержится ссылка на корневой HTML-элемент плагина с дополнительными свойствами.\n   * @type {WidgetContainer}\n   * @private\n   */\n  private _widgetContainer: WidgetContainer;\n\n  /**\n   * Объект, в котором содержится ссылка на HTML-элемент индикатора (progress bar) с дополнительными свойствами.\n   * @type {Range}\n   * @private\n   */\n  private _range: Range;\n\n  /**\n   * Объект, в котором содержится ссылка на HTML-элемент бегунка с дополнительными свойствами.\n   * @type {Handle}\n   * @private\n   */\n  private _handleItem: Handle;\n\n  private _tooltipItem: Tooltip;\n\n  /**\n   * Объект события изменения значения слайдера, как у браузерных полей ввода \"input\".\n   * @type {CustomEvent}\n   * @private\n   */\n  private _customEventChange: CustomEvent;\n\n  /**\n   * Объект события инициализации плагина.\n   * @type {CustomEvent}\n   * @private\n   */\n  private _customEventCreate: CustomEvent;\n\n  /**\n   * Объект события процесса перемещения бегунка.\n   * @type {CustomEvent}\n   * @private\n   */\n  private _customEventSlide: CustomEvent;\n\n  /**\n   * Объект события начала перемещения бегунка.\n   * @type {CustomEvent}\n   * @private\n   */\n  private _customEventStart: CustomEvent;\n\n  /**\n   * Объект события окончания перемещения бегунка.\n   * @type {CustomEvent}\n   * @private\n   */\n  private _customEventStop: CustomEvent;\n\n  /**\n   * Включен или выключен слайдер. Если равен false, то включен.\n   * @type {boolean}\n   * @private\n   */\n  private _isDisabled: boolean = false;\n\n  /**\n   * Перемещается ли бегунок в данный момент с помощью мыши.\n   * @type {boolean}\n   * @private\n   */\n  private _isDragHandle: boolean = false;\n\n\n  /**\n   * Таймер перемещения мыши или пальца на экране.\n   * @type {null | NodeJS.Timeout}\n   * @private\n   */\n  private _handleMovingTimer: null | NodeJS.Timeout = null;\n\n\n  /**\n   * Коллекция меток разметки слайдера.\n   */\n  private _mapScale: Map<number, Mark> = new Map();\n\n\n  /**\n   * Кэш свойств сладйера из Модели.\n   */\n  private _cachedAbacusProperty: AbacusOptions = {};\n\n\n  /**\n   * @constructor\n   * @this   {View}\n   * @param  {HTMLAbacusElement} abacusHtmlContainer - HTML-элемент,\n   * в котором будет находиться инициализированный плагин.\n   * @param  {AbacusOptions} options - Параметры настройки плагина.\n   * @param  {object} data - Другие данные.\n   */\n  constructor(abacusHtmlContainer: HTMLAbacusElement, options?: AbacusOptions, data?: object){\n    const viewInstance = this;\n\n    this._presenter = new Presenter(options);\n    this._presenter.eventTarget.addEventListener('update-model', (event: Event) => {\n      // console.log('Модель обновилась!');\n      viewInstance.updateView();\n    });\n\n    const abacusProperty = this._presenter.getModelAbacusProperty();\n\n    this._widgetContainer = new WidgetContainer(abacusHtmlContainer, abacusProperty.classes);\n    this._widgetContainer.htmlElement.innerHTML = '';\n    this._handleItem = new Handle(abacusProperty.classes);\n    this._range = new Range(abacusProperty.classes);\n    this._tooltipItem = new Tooltip(abacusProperty.classes);\n\n\n    this._customEventChange = new CustomEvent('abacus-change', {\n      bubbles: true,\n      cancelable: true,\n    });\n\n    this._customEventCreate = new CustomEvent('abacus-create', {\n      bubbles: true,\n      cancelable: true,\n    });\n\n    this._customEventSlide = new CustomEvent('abacus-slide', {\n      bubbles: true,\n      cancelable: true,\n    });\n\n    this._customEventStart = new CustomEvent('abacus-start', {\n      bubbles: true,\n      cancelable: true,\n    });\n\n    this._customEventStop = new CustomEvent('abacus-stop', {\n      bubbles: true,\n      cancelable: true,\n    });\n\n    this._bindEventListeners();\n\n    this.updateView();\n\n    this._eventCreateWrapper();\n  }\n\n\n  /**\n   * Геттер (функция получения) ссылки объекта-обертки HTML-элемента контейнера плагина.\n   * @public\n   * @returns {WidgetContainer} Возвращает ссылку на объект-обертку HTML-элемента контейнера плагина.\n   */\n\tpublic get widgetContainer() : WidgetContainer {\n\t\treturn this._widgetContainer;\n\t}\n\n\n  /**\n   * Геттер (функция получения) ссылки объекта-обертки HTML-элемента индикатора (progress bar).\n   * @public\n   * @returns {Range} Возвращает ссылку на объект-обертку HTML-элемента индикатора (progress bar).\n   */\n\tpublic get range() : Range {\n\t\treturn this._range;\n\t}\n\n\n  /**\n   * Геттер (функция получения) ссылки объекта-обертки HTML-элемента бегунка.\n   * @public\n   * @returns {Handle} Возвращает ссылку на объект-обертку HTML-элемента бегунка.\n   */\n\tpublic get handleItem() : Handle {\n\t\treturn this._handleItem;\n\t}\n\n\n  /**\n   * Функция, которая получает на входе координату клика по оси Х относительно окна браузера,\n   * а возвращает количество процентов от начала (левого края) слайдера.\n   * @param {number} clientX - Координата клика по оси Х относительно окна браузера.\n   * @returns {number} - Количество процентов от начала (левого края) слайдера.\n   */\n  getPosLeftPercent(clientX: number): number{\n    let result: number = 0;\n    const posLeftWidget: number = this._widgetContainer.htmlElement.getBoundingClientRect().left;\n    const widthWidget: number = this._widgetContainer.htmlElement.getBoundingClientRect().width;\n    const leftPx: number = clientX - posLeftWidget;\n    result = (leftPx / widthWidget) * 100;\n    if( result < 0 ){\n      result = 0;\n    }\n    if( result > 100 ){\n      result = 100;\n    }\n    return result;\n  }\n\n\n  /**\n   * Функция, которая получает на вход процент от начала слайдера,\n   * а возвращает соответствующее значение кратно заданному шагу.\n   * @deprecated\n   * @param {number} percent - Позиция бегунка в процентах от начала слайдера.\n   * @returns {number} Значение, соответствующее проценту и кратно шагу.\n   */\n  getPosPerStep(percent: number): number{\n    let result: number = 0;\n    const options: AbacusOptions = this._presenter.getModelAbacusProperty();\n    const minVal: number = options.min as number;\n    const maxVal: number = options.max as number;\n    const step: number = options.step as number;\n    const sizeStepPercent: number = (step / (maxVal - minVal)) * 100;\n    result = percent / sizeStepPercent;\n    result = Math.round(result);\n    result = result * sizeStepPercent;\n    return result;\n  }\n\n\n  /**\n   * Функция, которая вычисляет позицию бегунка в процентах от начала слайдера.\n   * @param {number} value - Значение слайдера.\n   * @returns {number} Позиция бегунка в процентах от начала слайдера.\n   */\n  getPosFromValue(value: number): number{\n    let result: number = 0;\n    const options: AbacusOptions = this._presenter.getModelAbacusProperty();\n    const minVal: number = options.min as number;\n    let maxVal: number = options.max as number;\n\n    // если минимальное значение меньше ноля, то\n    // \"сдвигаем\" переданное значение (value) и максимальное значение (maxVal)\n    // на минимальное значение (minVal) по модулю\n    if( minVal < 0 ){\n      maxVal += (minVal * -1);\n      value += (minVal * -1);\n    }\n    result = (value / maxVal) * 100;\n\n    if( result < 0 ){\n      return 0;\n    }\n    if( result > 100 ){\n      return 100;\n    }\n\n    return result;\n  }\n\n\n  /**\n   * Функция, которая получает на вход процент от начала слайдера,\n   * а возвращает соответствующее значение.\n   * @param {number} posPercent - Позиция бегунка в процентах от начала слайдера.\n   * @returns {number} - Значение слайдера.\n   */\n  getValFromPosPercent(posPercent: number): number{\n    let abacusValue: number = 0;\n    const options: AbacusOptions = this._presenter.getModelAbacusProperty();\n    const minVal: number = options.min as number;\n    let maxVal: number = options.max as number;\n\n    // если минимальное значение меньше ноля, то\n    // \"сдвигаем\" переданное значение (value) и максимальное значение (maxVal)\n    // на минимальное значение (minVal) по модулю\n    if( minVal < 0 ){\n      maxVal += (minVal * -1);\n    }\n\n    abacusValue = (maxVal * posPercent) / 100;\n    abacusValue -= (minVal * -1);\n    return abacusValue;\n  }\n\n\n  /**\n   * Функция получения и установки свойств слайдера.\n   * @param {AbacusOptions | string} optionName -\n   * @param {any} value -\n   * @returns {}\n   */\n  option(optionName?: string, value?: AbacusOptions | any): any{\n    if( typeof optionName === 'string' ){\n      switch (optionName) {\n        case 'animate':\n        case 'classes':\n        case 'disabled':\n        case 'max':\n        case 'scale':\n        case 'min':\n        case 'orientation':\n        case 'range':\n        case 'step':\n        case 'tooltip':\n        case 'value':\n        case 'values':\n          if( value !== undefined ){\n            // это условие для установки конкретного свойства слайдера\n            const newProperty = {} as AbacusOptions;\n            newProperty[optionName] = value;\n            this._presenter.setModelAbacusProperty(newProperty);\n          }\n          else{\n            // это условие для получения конкретного свойства слайдера\n            return this._presenter.getModelAbacusProperty()[optionName];\n          }\n          break;\n      }\n    }\n    else if( typeof value === 'object' ){\n      // это условие для установки одного или несколько свойств слайдера в виде объекта\n      this._presenter.setModelAbacusProperty(value as AbacusOptions);\n    }\n    else{\n      // это условие для получения всех свойств слайдера в виде объекта\n      return this._presenter.getModelAbacusProperty();\n    }\n  }\n\n\n  /**\n   * Функция обновления Вида плагина (в том числе пользовательского интерфейса).\n   * @returns\n   */\n  updateView(): void{\n    const abacusProperty: AbacusOptions = this._presenter.getModelAbacusProperty();\n\n    // Добавляем или удалаем элементы инерфейса\n    if( ! this._widgetContainer.htmlElement.contains(this._handleItem.htmlElement) ){\n      this._widgetContainer.htmlElement.append(this._handleItem.htmlElement);\n    }\n\n    if( this._cachedAbacusProperty?.range !== abacusProperty.range ){\n      switch (abacusProperty.range) {\n        case 'max':\n          this._range.rangeType = 'max';\n          this._widgetContainer.htmlElement.prepend(this._range.htmlElement);\n          break;\n\n        case true:\n        case 'min':\n          this._range.rangeType = 'min';\n          this._widgetContainer.htmlElement.prepend(this._range.htmlElement);\n          break;\n\n        default:\n          this._range.rangeType = 'hidden';\n          this._range.htmlElement.remove();\n          break;\n      }\n\n      this._highlightMarks();\n    }\n\n\n    if( this._cachedAbacusProperty?.tooltip !== abacusProperty.tooltip ){\n      if( abacusProperty.tooltip ){\n        this._widgetContainer.htmlElement.append(this._tooltipItem.htmlElement);\n        this._tooltipItem.isVisible(true);\n      }\n      else{\n        this._tooltipItem.htmlElement.remove();\n      }\n    }\n\n\n    if( this._cachedAbacusProperty?.animate !== abacusProperty.animate ){\n      this._setTransition();\n    }\n\n\n    // Обновляем положение бегунка и индикатора\n    if( (this._cachedAbacusProperty?.value !== abacusProperty.value)\n      || (this._cachedAbacusProperty?.range !== abacusProperty.range)\n      || (this._cachedAbacusProperty?.max !== abacusProperty.max)\n      || (this._cachedAbacusProperty?.min !== abacusProperty.min) )\n    {\n      const currentValue: number = abacusProperty.value as number;\n      const posHandle: number = this.getPosFromValue(currentValue);\n      this._handleItem.posLeft = posHandle;\n      this._tooltipItem.posLeft = posHandle;\n\n      if( abacusProperty.value !== undefined ){\n        this._tooltipItem.htmlElement.innerText = abacusProperty.value.toString();\n      }\n\n      switch (this._range.rangeType) {\n        case 'min':\n          this._range.htmlElement.style.left = '0';\n          this._range.htmlElement.style.right = 'auto';\n          this._range.width = posHandle;\n          break;\n\n        case 'max':\n          this._range.htmlElement.style.left = 'auto';\n          this._range.htmlElement.style.right = '0';\n          this._range.width = 100 - posHandle;\n          break;\n      }\n\n      this._highlightMarks();\n    }\n\n\n    // Обновляем названия классов\n    if( abacusProperty.classes?.abacus ){\n      this._widgetContainer.className = abacusProperty.classes?.abacus;\n    }\n    if( abacusProperty.classes?.handle ){\n      this._handleItem.className = abacusProperty.classes?.handle;\n    }\n    if( abacusProperty.classes?.range ){\n      this._range.className = abacusProperty.classes?.range;\n    }\n\n\n    // Включаем или отключаем слайдер\n    if( this._cachedAbacusProperty?.disabled !== abacusProperty.disabled ){\n      this.toggleDisable(abacusProperty.disabled);\n    }\n\n\n    // Создаем шкалу значений\n    if( (this._cachedAbacusProperty?.scale !== abacusProperty.scale)\n      || (this._cachedAbacusProperty?.step !== abacusProperty.step)\n      || (this._cachedAbacusProperty?.max !== abacusProperty.max)\n      || (this._cachedAbacusProperty?.min !== abacusProperty.min) )\n    {\n      if( abacusProperty.scale ){\n        this._createScale();\n      }\n      else{\n        this._removeScale();\n      }\n\n      this._highlightMarks();\n    }\n\n\n    $.extend(this._cachedAbacusProperty, abacusProperty);\n  }\n\n\n  /**\n   * Функция переключает состояние слайдера с активного на неактивный и обратно.\n   * @param {boolean} off - \"true\" значит отключить. \"false\" значит активировать.\n   */\n  toggleDisable(off?: boolean){\n    if( off === undefined || off === null ){\n      this._isDisabled = !this._isDisabled;\n    }\n    else{\n      this._isDisabled = !!off;\n    }\n\n    this._widgetContainer.isDisabled(this._isDisabled);\n  }\n\n\n  /**\n   * Функция упаковывает в объект некоторые данные о слайдере и бегунке для обработчиков событий.\n   * @private\n   * @returns {EventUIData} - Объект класса EventUIData.\n   */\n  private _getEventUIData(): EventUIData{\n    const uiData: EventUIData = {} as EventUIData;\n    uiData.handle = this._handleItem.htmlElement;\n    uiData.handleIndex = this._handleItem.handleIndex;\n\n    const modelData = this._presenter.getModelAbacusProperty();\n    uiData.value = modelData.value as number;\n    uiData.values = modelData.values;\n    return uiData;\n  }\n\n\n  /**\n   * Функция-обертка события \"abacus-change\". Генерирует событие \"abacus-change\" и вызывает callback \"change\".\n   * @private\n   * @param {Event} event - Объект события. По умолчанию равен объекту события изменения значения слайдера.\n   * @returns {boolean} - Возвращаемое значение — false, если событие отменяемое и хотя бы один из обработчиков\n   * этого события вызвал Event.preventDefault(). В ином случае — true.\n   * (Точно также, как у функции EventTarget.dispatchEvent()).\n   */\n  private _eventChangeWrapper(event?: Event): boolean{\n    if( ! event ){\n      event = this._customEventChange;\n    }\n    const dispatchEventResult = this._widgetContainer.htmlElement.dispatchEvent(this._customEventChange);\n    const viewInstance = this;\n    const abacusProperty: AbacusOptions = this._presenter.getModelAbacusProperty();\n    if( typeof abacusProperty?.change === 'function' ){\n      abacusProperty.change(event, viewInstance._getEventUIData());\n    }\n\n    return dispatchEventResult;\n  }\n\n\n  /**\n   * Функция-обертка события \"abacus-create\". Генерирует событие \"abacus-create\" и вызывает callback \"create\".\n   * @private\n   * @param {Event} event - Объект события. По умолчанию равен объекту события инициализации плагина.\n   * @returns {boolean} - Возвращаемое значение — false, если событие отменяемое и хотя бы один из обработчиков\n   * этого события вызвал Event.preventDefault().\n   * В ином случае — true. (Точно также, как у функции EventTarget.dispatchEvent()).\n   */\n  private _eventCreateWrapper(event?: Event): boolean{\n    if( ! event ){\n      event = this._customEventCreate;\n    }\n    const dispatchEventResult = this._widgetContainer.htmlElement.dispatchEvent(this._customEventCreate);\n    const viewInstance = this;\n    const abacusProperty: AbacusOptions = this._presenter.getModelAbacusProperty();\n    if( typeof abacusProperty?.create === 'function' ){\n      abacusProperty.create(event, viewInstance._getEventUIData());\n    }\n\n    return dispatchEventResult;\n  }\n\n\n  /**\n   * Функция-обертка события \"abacus-slide\". Генерирует событие \"abacus-slide\" и вызывает callback \"slide\".\n   * @private\n   * @param {Event} event - Объект события. По умолчанию равен объекту события перемещения бегунка слайдера.\n   * @returns {boolean} - Возвращаемое значение — false, если событие отменяемое и хотя бы один из обработчиков\n   * этого события вызвал Event.preventDefault().\n   * В ином случае — true. (Точно также, как у функции EventTarget.dispatchEvent()).\n   */\n  private _eventSlideWrapper(event?: Event): boolean{\n    if( ! event ){\n      event = this._customEventSlide;\n    }\n    const dispatchEventResult = this._widgetContainer.htmlElement.dispatchEvent(this._customEventSlide);\n    const viewInstance = this;\n    const abacusProperty: AbacusOptions = this._presenter.getModelAbacusProperty();\n    if( typeof abacusProperty?.slide === 'function' ){\n      abacusProperty.slide(event, viewInstance._getEventUIData());\n    }\n\n    return dispatchEventResult;\n  }\n\n\n  /**\n   * Функция-обертка события \"abacus-start\". Генерирует событие \"abacus-start\" и вызывает callback \"start\".\n   * @private\n   * @param {Event} event - Объект события. По умолчанию равен объекту события начала перемещения бегунка слайдера.\n   * @returns {boolean} - Возвращаемое значение — false, если событие отменяемое и хотя бы один из обработчиков\n   * этого события вызвал Event.preventDefault().\n   * В ином случае — true. (Точно также, как у функции EventTarget.dispatchEvent()).\n   */\n  private _eventStartWrapper(event?: Event): boolean{\n    if( ! event ){\n      event = this._customEventStart;\n    }\n    const dispatchEventResult = this._widgetContainer.htmlElement.dispatchEvent(this._customEventStart);\n    const viewInstance = this;\n    const abacusProperty: AbacusOptions = this._presenter.getModelAbacusProperty();\n    if( typeof abacusProperty?.start === 'function' ){\n      abacusProperty.start(event, viewInstance._getEventUIData());\n    }\n\n    return dispatchEventResult;\n  }\n\n\n  /**\n   * Функция-обертка события \"abacus-stop\". Генерирует событие \"abacus-stop\" и вызывает callback \"stop\".\n   * @private\n   * @param {Event} event - Объект события. По умолчанию равен объекту события окончания перемещения бегунка слайдера.\n   * @returns {boolean} - Возвращаемое значение — false, если событие отменяемое и хотя бы один из обработчиков\n   * этого события вызвал Event.preventDefault().\n   * В ином случае — true. (Точно также, как у функции EventTarget.dispatchEvent()).\n   */\n  private _eventStopWrapper(event?: Event): boolean{\n    if( ! event ){\n      event = this._customEventStop;\n    }\n    const dispatchEventResult = this._widgetContainer.htmlElement.dispatchEvent(this._customEventStop);\n    const viewInstance = this;\n    const abacusProperty: AbacusOptions = this._presenter.getModelAbacusProperty();\n    if( typeof abacusProperty?.stop === 'function' ){\n      abacusProperty.stop(event, viewInstance._getEventUIData());\n    }\n\n    return dispatchEventResult;\n  }\n\n\n  /**\n   * Функция, обрабатывающая позицию мыши.\n   * @param {MouseEvent} event - Объект события мыши.\n   */\n  private _mouseHandler(event: MouseEvent | TouchEvent): void{\n    const viewInstance = this;\n    const abacusProperty = viewInstance._presenter.getModelAbacusProperty();\n    const oldValue = abacusProperty.value;\n\n    let left: number = 0;\n    if( event instanceof MouseEvent ){\n      left = this.getPosLeftPercent(event.clientX);\n    }\n    else if(event instanceof TouchEvent){\n      left = this.getPosLeftPercent(event.changedTouches[0].screenX);\n    }\n\n    const newAbacusValue: number = this.getValFromPosPercent(left);\n    viewInstance._presenter.setAbacusValue(newAbacusValue);\n    if( oldValue !== abacusProperty.value ){\n      viewInstance.updateView();\n      viewInstance._eventChangeWrapper(event);\n    }\n  }\n\n\n  /**\n   * Установка обработчиков событий.\n   */\n  private _bindEventListeners(): void{\n    const viewInstance = this;\n\n    viewInstance._widgetContainer.htmlElement.addEventListener(\n      'click',\n      viewInstance._handlerWidgetContainerClick.bind(viewInstance)\n    );\n    viewInstance._widgetContainer.htmlElement.addEventListener(\n      'touchend',\n      viewInstance._handlerWidgetContainerClick.bind(viewInstance)\n    );\n\n    viewInstance._handleItem.htmlElement.addEventListener(\n      'mousedown',\n      viewInstance._handlerHandleItemClickStart.bind(viewInstance)\n    );\n    viewInstance._handleItem.htmlElement.addEventListener(\n      'touchstart',\n      viewInstance._handlerHandleItemClickStart.bind(viewInstance),\n      {passive: true}\n    );\n\n    document.addEventListener(\n      'mousemove',\n      viewInstance._handlerHandleItemClickMove.bind(viewInstance),\n      {passive: true}\n    );\n    document.addEventListener(\n      'touchmove',\n      viewInstance._handlerHandleItemClickMove.bind(viewInstance),\n      {passive: true}\n    );\n\n    document.addEventListener(\n      'mouseup',\n      viewInstance._handlerHandleItemClickStop.bind(viewInstance)\n    );\n    document.addEventListener(\n      'touchend',\n      viewInstance._handlerHandleItemClickStop.bind(viewInstance)\n    );\n    document.addEventListener(\n      'touchcancel',\n      viewInstance._handlerHandleItemClickStop.bind(viewInstance)\n    );\n  }\n\n\n  /**\n   * Обработчик клика по слайдеру. По клику перемещает ручку слайдера.\n   */\n  private _handlerWidgetContainerClick(event: MouseEvent | TouchEvent): void{\n    event.preventDefault();\n    const viewInstance = this;\n    if( viewInstance._isDisabled || event.target === this._handleItem.htmlElement ){\n      return;\n    }\n    viewInstance._mouseHandler(event);\n  }\n\n\n  /**\n   * Обработчик клика по ручке слайдера. Фиксирует нажатие на ручку и генерирует событие \"start\".\n   */\n  private _handlerHandleItemClickStart(event: MouseEvent | TouchEvent): void{\n    event.preventDefault();\n    const viewInstance = this;\n    if( viewInstance._isDisabled ){\n      return;\n    }\n    viewInstance._isDragHandle = true;\n    viewInstance._eventStartWrapper(event);\n  }\n\n\n  /**\n   * Обработчик пересещения курсора или пальца по экрану.\n   * Нужен для того, чтобы вычислить, куда переместить ручку слайдера. Генерирует событие \"slide\".\n   */\n  private _handlerHandleItemClickMove(event: MouseEvent | TouchEvent): void{\n    event.preventDefault();\n    const viewInstance = this;\n    if( viewInstance._isDisabled ){\n      return;\n    }\n\n    if(viewInstance._handleMovingTimer !== null) {\n      clearTimeout(viewInstance._handleMovingTimer);\n    }\n    viewInstance._handleMovingTimer = setTimeout(() => {\n      if( viewInstance._isDragHandle ){\n        viewInstance._mouseHandler(event);\n        viewInstance._eventSlideWrapper(event);\n      }\n    }, 15);\n  }\n\n\n  /**\n   * Обработчик окончание пересещения курсора или пальца по экрану. \n   * Генерирует событие \"stop\".\n   */\n  private _handlerHandleItemClickStop(event: MouseEvent | TouchEvent): void{\n    event.preventDefault();\n    const viewInstance = this;\n    if( viewInstance._isDragHandle ){\n      viewInstance._eventStopWrapper(event);\n    }\n    viewInstance._isDragHandle = false;\n  }\n\n\n  /**\n   * Создает шкалу значений и добавляет ее в слайдер.\n   */\n  private _createScale(): void{\n    if( this._mapScale.size ){\n      this._removeScale();\n    }\n\n    const abacusProperty = this._presenter.getModelAbacusProperty();\n    if( abacusProperty.min !== undefined && abacusProperty.max !== undefined && abacusProperty.step !== undefined ){\n      let value = abacusProperty.min;\n      for (; value <= abacusProperty.max; value += abacusProperty.step) {\n        value = View.round(value, abacusProperty.step);\n\n        const mark = new Mark(abacusProperty.classes);\n        const left = this.getPosFromValue(value);\n        mark.posLeft = left;\n        mark.htmlElement.innerText = value.toString();\n        this._mapScale.set(value, mark);\n      }\n      if( value !== abacusProperty.max ){\n        const mark = new Mark(abacusProperty.classes);\n        const left = this.getPosFromValue(abacusProperty.max);\n        mark.posLeft = left;\n        mark.htmlElement.innerText = abacusProperty.max.toString();\n        this._mapScale.set(value, mark);\n      }\n    }\n\n    if( this._widgetContainer.htmlElement.contains(this._handleItem.htmlElement) ){\n      for(let mark of this._mapScale.values()){\n        this._handleItem.htmlElement.before(mark.htmlElement);\n      }\n    }\n    else{\n      for(let mark of this._mapScale.values()){\n        this._widgetContainer.htmlElement.append(mark.htmlElement);\n      }\n    }\n\n    this._thinOutScale();\n  }\n\n\n  /**\n   * Удаляет шкалу значений.\n   */\n  private _removeScale(): void{\n    for(let mark of this._mapScale.values()){\n      mark.htmlElement.remove();\n    }\n    this._mapScale.clear();\n  }\n\n\n  private _thinOutScale(): void{\n    const widthWidget: number = this._widgetContainer.htmlElement.offsetWidth;\n    const k = 7; // Минимальное расстояние между метка шкалы.\n    let widthMarks: number = 0;\n    for(let mark of this._mapScale.values()){\n      widthMarks += mark.htmlElement.offsetWidth + k;\n    }\n\n    if( widthWidget < widthMarks ){\n      const abacusProperty = this._presenter.getModelAbacusProperty();\n      if( abacusProperty.min !== undefined && abacusProperty.max !== undefined && abacusProperty.step !== undefined ){\n        let isDelete: boolean = false;\n        for (const mark of this._mapScale) {\n          if( mark[0] === abacusProperty.min || mark[0] === abacusProperty.max || isDelete ){\n            isDelete = false;\n            continue;\n          }\n\n          mark[1]?.htmlElement.remove();\n          this._mapScale.delete(mark[0]);\n          isDelete = true;\n        }\n      }\n    }\n\n    widthMarks = 0;\n    for(let mark of this._mapScale.values()){\n      widthMarks += mark.htmlElement.offsetWidth + k;\n    }\n    if( widthWidget < widthMarks ){\n      this._thinOutScale();\n    }\n  }\n\n\n  /**\n   * Функция меняет состояния меток в шкале значений.\n   */\n  private _highlightMarks(): void{\n    if( ! this._mapScale.size ){\n      return;\n    }\n\n    const abacusProperty = this._presenter.getModelAbacusProperty();\n    const rangeType = abacusProperty.range;\n\n    if( abacusProperty.min !== undefined\n      && abacusProperty.max !== undefined\n      && abacusProperty.step !== undefined\n      && abacusProperty.value !== undefined )\n    {\n      for (const markItem of this._mapScale) {\n        if( (rangeType === 'min' || rangeType === true) && markItem[0] <= abacusProperty.value){\n          markItem[1].isInrange(true);\n        }\n        else if( rangeType === 'max' && markItem[0] >= abacusProperty.value){\n          markItem[1].isInrange(true);\n        }\n        else{\n          markItem[1].isInrange(false);\n        }\n\n        if( markItem[0] === abacusProperty.value){\n          markItem[1].isSelected(true);\n        }\n        else{\n          markItem[1].isSelected(false);\n        }\n      }\n    }\n  }\n\n\n  /**\n   * Установка css-свойства \"transition\" элементам интерфейса слайдера.\n   * Первоначальное значение береться из model.abacusProperty.aniamte.\n   */\n  private _setTransition(): void{\n    let duration: string = '';\n    const animate = this._presenter.getModelAbacusProperty().animate;\n    if( typeof animate === 'number' && animate > 0 ){\n      duration = animate.toString();\n    } \n    else if( animate === true ){\n      duration = '400';\n    } \n    else if( animate === 'slow' ){\n      duration = '600';\n    }\n    else if( animate === 'fast' ){\n      duration = '200';\n    }\n\n    duration = duration ? duration + 'ms' : '';\n    this._handleItem.htmlElement.style.transition = duration;\n    this._tooltipItem.htmlElement.style.transition = duration;\n    this._range.htmlElement.style.transition = duration;\n    if( this._mapScale ){\n      for (const markItem of this._mapScale) {\n        markItem[1].htmlElement.style.transition = duration;\n      }\n    }\n  }\n\n\n  /**\n   * Функция получения количества знаков после запятой.\n   * @param {number} x - Число, у которого надо узнать количество знаков после запятой.\n   * @returns {number} - Количество знаков после запятой.\n   */\n  static countNumAfterPoint(x: number): number{\n    return ~(x + '').indexOf('.') ? (x + '').split('.')[1].length : 0;\n  }\n\n\n  /**\n   * Функция окргуления числа до того количества знаков после запятой, сколько этих знаков у числа fractionalNum.\n   * @param {number} value - Число, которое надо округлить.\n   * @param {number} fractionalNum - Число, у которого надо узнать количество знаков после запятой.\n   * @returns {number} - Округленное число.\n   */\n  static round(value: number, fractionalNum: number): number{\n    const numbersAfterPoint = View.countNumAfterPoint(fractionalNum);\n    if( numbersAfterPoint > 0 ){\n      value = parseFloat(value.toFixed(numbersAfterPoint));\n    }\n    else{\n      value = Math.round(value);\n    }\n\n    return value;\n  }\n}","/**\n * Класс \"WidgetContainer\" является оберткой для HTML-элемента, в котором содержатся элементы слайдера.\n * Также класс является \"subView\", то есть частью Вида (Представления) согласно паттерну проектирования MVP.\n */\nexport class WidgetContainer{\n  /**\n   * HTML-элемент, в котором содержатся элементы слайдера.\n   * @type {HTMLAbacusElement}\n   * @private\n   */\n  private _htmlElement: HTMLAbacusElement;\n\n  /**\n   * Ширина HTML-элемента от 0 до 100 в процентах.\n   * @type {number}\n   * @private\n   */\n  private _width: number = 100;\n\n  /**\n   * Название класса HTML-элемента.\n   * @type {string}\n   * @private\n   */\n  private _className: string;\n\n  /**\n   * Название класса HTML-элемента.\n   * @type {string}\n   * @private\n   */\n  private _classNameDisabled: string;\n\n\n  /**\n   * @constructor\n   * @this   {WidgetContainer}\n   * @param  {HTMLAbacusElement} htmlElement - HTML-элемент, в котором будут элементы слайдера.\n   * @param  {AbacusClasses} classes - Объект с названиями классов.\n   * @example new WidgetContainer({\n   *  abacus: 'abacus',\n   *  disabled: 'abacus_disabled'\n   * });\n   */\n  constructor(htmlElement: HTMLAbacusElement, classes?: AbacusClasses){\n    this._htmlElement = htmlElement;\n\t\tthis._className = classes?.abacus ? classes.abacus : 'abacus';\n\t\tthis._classNameDisabled = classes?.disabled ? classes.disabled : 'abacus_disabled';\n    this._htmlElement.classList.add(this._className);\n  }\n\n\n  /**\n   * Геттер ширины HTML-элемента (_htmlElement).\n   */\n  public get width() : number {\n    return this._width;\n  }\n\n  /**\n   * Сеттер ширины HTML-элемента (_htmlElement).\n   * @param {number} width - ширина в процентах от 0 до 100.\n   */\n  public set width(width : number) {\n    this._width = width;\n  }\n\n\n  /**\n   * Геттер ссылки на HTML-элемент.\n   */\n  public get htmlElement() : HTMLAbacusElement {\n    return this._htmlElement;\n  }\n\n\n  /**\n   * Геттер названия класса HTML-элемента.\n   */\n  public get className() : string {\n    return this._className;\n  }\n\n\n  /**\n   * Сеттер названия класса HTML-элемента. Удаляет предудыщее название у HTML-элемента, а затем ставит новое название.\n   * @param {string} name - Название класса.\n   */\n  public set className(name : string) {\n    this._htmlElement.classList.remove(this._className);\n    this._htmlElement.classList.add(name);\n    this._className = name;\n  }\n\n\n  /**\n   * Геттер названия класса HTML-элемента в состоянии \"выключен\".\n   */\n  public get classNameDisabled() : string {\n    return this._classNameDisabled;\n  }\n\n\n  /**\n   * Сеттер названия класса HTML-элемента в состоянии \"выключен\".\n   * Удаляет предудыщее название у HTML-элемента, а затем ставит новое название.\n   * @param {string} name - Название класса.\n   */\n  public set classNameDisabled(name : string) {\n    if( !name || typeof name !== 'string' ){\n      return;\n    }\n\n    if( this._htmlElement.classList.contains(this._classNameDisabled) ){\n      this._htmlElement.classList.add(name);\n    }\n    if( this._classNameDisabled ){\n      this._htmlElement.classList.remove(this._classNameDisabled);\n    }\n\n    this._classNameDisabled = name;\n  }\n\n\n  /**\n   * Функция получения и установки активного/неактивного состояния. \n   * Если функция получила параметр false, то у HTML-элемента слайдера удалаяется класс,\n   * записанный в _classNameDisabled.\n   * Если функция получила параметр true, то HTML-элементу слайдера добавляется класс,\n   * записанный в _classNameDisabled.\n   * @param {boolean} value - Если передать \"true\", то добавляется класс, иначе удалается класс.\n   */\n  isDisabled(value: boolean): void{\n    if( value !== undefined && this._classNameDisabled){\n\n      if( !!value ){\n        this._htmlElement.classList.add(this._classNameDisabled);\n      }\n      else{\n        this._htmlElement.classList.remove(this._classNameDisabled);\n      }\n    }\n  }\n}","/**\n * @fileoverview\n */\n\nimport $ from 'jquery';\nimport {View} from './View';\n\n$.fn.abacus = function (paramOptions ? : AbacusOptions | string, option ? : any, optionValue ? : any): JQuery {\n  let returnResult: any = this;\n\n  this.each(function () {\n    const instanceHTMLAbacus: HTMLAbacusElement = this;\n    let view: View;\n\n    // получение или инициализация плагина\n    if( instanceHTMLAbacus.jqueryAbacusInstance instanceof View ){\n      view = instanceHTMLAbacus.jqueryAbacusInstance;\n    }\n    else{\n      if (typeof paramOptions === 'object') {\n        view = new View(instanceHTMLAbacus, paramOptions);\n      }\n      else{\n        view = new View(instanceHTMLAbacus);\n      }\n\n      instanceHTMLAbacus.jqueryAbacusInstance = view;\n    }\n\n    if( typeof paramOptions === 'string' ){\n      let resultOption: any;\n\n      switch (paramOptions) {\n        case 'destroy':\n          break;\n\n\n        case 'disable':\n          view.option('disabled', true);\n          break;\n\n\n        case 'enable':\n          view.option('disabled', false);\n          break;\n\n\n        case 'instance':\n          returnResult = view;\n          break;\n\n\n        case 'option':\n          if( typeof option === 'object'){\n            resultOption = view.option(undefined, option);\n          }\n          else{\n            resultOption = view.option(option, optionValue);\n          }\n\n          if( typeof resultOption !== undefined ){\n            returnResult = resultOption;\n          }\n          break;\n\n\n        case 'value':\n          resultOption = view.option('value', optionValue);\n\n          if( typeof resultOption !== undefined ){\n            returnResult = resultOption;\n          }\n          break;\n\n\n        case 'values':\n          break;\n\n\n        case 'widget':\n          break;\n      }\n    }\n\n    // instanceHTMLAbacus.addEventListener('change', (event: Event) => {\n    //   let input = event.currentTarget as HTMLInputElement;\n    //   let value: string = input.value;\n    //   console.log('value == ' + value);\n    // });\n  });\n\n  return returnResult;\n};","module.exports = jQuery;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module\n// This entry module is referenced by other modules so it can't be inlined\n__webpack_require__(\"./src/scripts/abacus.ts\");\n__webpack_require__(\"./src/styles/abacus.scss\");\n"],"sourceRoot":""}