{"version":3,"sources":["webpack://abacus/./node_modules/@ungap/event-target/cjs/index.js","webpack://abacus/./src/styles/abacus.scss?2ebf","webpack://abacus/./src/scripts/AbacusOrientationType.ts","webpack://abacus/./src/scripts/Handle/Handle.ts","webpack://abacus/./src/scripts/Mark/Mark.ts","webpack://abacus/./src/scripts/Model/Model.ts","webpack://abacus/./src/scripts/Presenter/Presenter.ts","webpack://abacus/./src/scripts/Range/Range.ts","webpack://abacus/./src/scripts/Tooltip/Tooltip.ts","webpack://abacus/./src/scripts/View/View.ts","webpack://abacus/./src/scripts/WidgetContainer/WidgetContainer.ts","webpack://abacus/./src/scripts/abacus.ts","webpack://abacus/external \"jQuery\"","webpack://abacus/webpack/bootstrap","webpack://abacus/webpack/runtime/make namespace object","webpack://abacus/webpack/startup"],"names":[],"mappings":"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","file":"abacus.js?v=14056417501dae2deb4a","sourcesContent":["/*! (c) Andrea Giammarchi - ISC */\nvar self = {};\ntry {\n  self.EventTarget = (new EventTarget).constructor;\n} catch(EventTarget) {\n  (function (Object, wm) {\n    var create = Object.create;\n    var defineProperty = Object.defineProperty;\n    var proto = EventTarget.prototype;\n    define(proto, 'addEventListener', function (type, listener, options) {\n      for (var\n        secret = wm.get(this),\n        listeners = secret[type] || (secret[type] = []),\n        i = 0, length = listeners.length; i < length; i++\n      ) {\n        if (listeners[i].listener === listener)\n          return;\n      }\n      listeners.push({target: this, listener: listener, options: options});\n    });\n    define(proto, 'dispatchEvent', function (event) {\n      var secret = wm.get(this);\n      var listeners = secret[event.type];\n      if (listeners) {\n        define(event, 'target', this);\n        define(event, 'currentTarget', this);\n        listeners.slice(0).forEach(dispatch, event);\n        delete event.currentTarget;\n        delete event.target;\n      }\n      return true;\n    });\n    define(proto, 'removeEventListener', function (type, listener) {\n      for (var\n        secret = wm.get(this),\n        /* istanbul ignore next */\n        listeners = secret[type] || (secret[type] = []),\n        i = 0, length = listeners.length; i < length; i++\n      ) {\n        if (listeners[i].listener === listener) {\n          listeners.splice(i, 1);\n          return;\n        }\n      }\n    });\n    self.EventTarget = EventTarget;\n    function EventTarget() {'use strict';\n      wm.set(this, create(null));\n    }\n    function define(target, name, value) {\n      defineProperty(\n        target,\n        name,\n        {\n          configurable: true,\n          writable: true,\n          value: value\n        }\n      );\n    }\n    function dispatch(info) {\n      var options = info.options;\n      if (options && options.once)\n        info.target.removeEventListener(this.type, info.listener);\n      if (typeof info.listener === 'function')\n        info.listener.call(info.target, this);\n      else\n        info.listener.handleEvent(this);\n    }\n  }(Object, new WeakMap));\n}\nmodule.exports = self.EventTarget;\n","// extracted by mini-css-extract-plugin\nexport {};","enum AbacusOrientationType {\n  HORIZONTAL = 'horizontal',\n  VERTICAL = 'vertical',\n}\n\nexport default AbacusOrientationType;\n","/**\n * Класс \"Handle\" является оберткой для HTML-элемента бегунка.\n * Также класс является \"subView\", то есть частью Вида (Представления) согласно паттерну проектирования MVP.\n */\nexport default class Handle {\n  /**\n   * HTML-элемент бегунка.\n   * @type {HTMLElement}\n   * @private\n   */\n  private _htmlElement: HTMLElement;\n\n  /**\n   * Позиция бегунка в процентах от 0 до 100 по горизонтали от левого края.\n   * @type {number}\n   * @private\n   */\n  private _posLeft: number | null = null;\n\n  /**\n   * Позиция бегунка в процентах от 0 до 100 по вертикали от нижнего края.\n   * @type {number}\n   * @private\n   */\n  private _posBottom: number | null = null;\n\n  /**\n   * Номер (индекс) бегунка. Может принимать значение 0 или 1.\n   * @type {number}\n   * @private\n   */\n  private _handleIndex = 0;\n\n  /**\n   * Название класса HTML-элемента.\n   * @type {string}\n   * @private\n   */\n  private _className: string;\n\n  /**\n   * @constructor\n   * @this   {Handle}\n   * @param  {AbacusClasses} classes Объект с названиями классов.\n   * @example new Handle({\n   *  handle: 'abacus__handle'\n   * });\n   */\n  constructor(classes?: AbacusClasses, handleIndex?: number) {\n    this._htmlElement = document.createElement('span');\n    this._className = classes?.handle ? classes.handle : 'abacus__handle';\n    this._htmlElement.classList.add(this._className);\n\n    if (handleIndex !== undefined && !Number.isNaN(handleIndex)) {\n      this._handleIndex = handleIndex;\n    }\n  }\n\n  /**\n   * Геттер позиции бегунка в процентах от левого края.\n   * @returns {number} Позиция бегунка в процентах от 0 до 100.\n   */\n  public get posLeft() : number | null {\n    return this._posLeft;\n  }\n\n  /**\n   * Сеттер позиции бегунка в процентах от левого края.\n   * @param {number | null} left Позиция бегунка в процентах от 0 до 100.\n   * Или null, если координты по горизонтиле быть не должно.\n   */\n  public set posLeft(left : number | null) {\n    if (left === null) {\n      this._posLeft = left;\n      this._htmlElement.style.left = '';\n    } else {\n      let newLeft = left;\n      if (left < 0) newLeft = 0;\n      if (left > 100) newLeft = 100;\n\n      this._posLeft = newLeft;\n      this._htmlElement.style.left = `${newLeft.toString()}%`;\n    }\n  }\n\n  /**\n   * Геттер позиции бегунка в процентах от нижнего края.\n   * @returns {number | null} Позиция бегунка в процентах от 0 до 100.\n   */\n  public get posBottom() : number | null {\n    return this._posBottom;\n  }\n\n  /**\n   * Сеттер позиции бегунка в процентах от нижнего края.\n   * @param {number | null} bottom Позиция бегунка в процентах от 0 до 100.\n   * Или null, если координты по вертикале быть не должно.\n   */\n  public set posBottom(bottom : number | null) {\n    if (bottom === null) {\n      this._posBottom = bottom;\n      this._htmlElement.style.bottom = '';\n    } else {\n      let newBottom = bottom;\n      if (bottom < 0) newBottom = 0;\n      if (bottom > 100) newBottom = 100;\n\n      this._posBottom = newBottom;\n      this._htmlElement.style.bottom = `${newBottom.toString()}%`;\n    }\n  }\n\n  /**\n   * Геттер ссылки на HTML-элемент.\n   */\n  public get htmlElement() : HTMLElement {\n    return this._htmlElement;\n  }\n\n  /**\n   * Геттер номера (индекса) бегунка.\n   */\n  public get handleIndex() : number {\n    return this._handleIndex;\n  }\n\n  /**\n   * Геттер названия класса HTML-элемента.\n   */\n  public get className() : string {\n    return this._className;\n  }\n\n  /**\n   * Сеттер названия класса HTML-элемента. Удаляет предудыщее название у HTML-элемента, а затем ставит новое название.\n   * @param {string} value Название класса.\n   */\n  public set className(value : string) {\n    this._htmlElement.classList.remove(this._className);\n    this._htmlElement.classList.add(value);\n    this._className = value;\n  }\n}\n","/**\n * Класс \"Mark\" является оберткой для HTML-элемента метки шкалы значений слайдера.\n * Также класс является \"subView\", то есть частью Вида (Представления) согласно паттерну проектирования MVP.\n */\nexport default class Mark {\n  /**\n   * HTML-элемент метки шкалы значений слайдера.\n   * @type {HTMLElement}\n   * @private\n   */\n  private _htmlElement: HTMLElement;\n\n  /**\n   * Название класса HTML-элемента.\n   * @type {string}\n   * @private\n   */\n  private _className: string;\n\n  /**\n   * Название класса HTML-элемента метки, которая находится в диапозоне.\n   * @type {string}\n   * @private\n   */\n  private _classNameInrange: string;\n\n  /**\n   * Если параметр равен \"true\", то это значит, что метка находится в диапозоне.\n   * @type {boolean}\n   * @private\n   */\n  private _isInrange = false;\n\n  /**\n   * Название класса HTML-элемента метки, которая соответствует текущему значению слайдера.\n   * @type {string}\n   * @private\n   */\n  private _classNameSelected = '';\n\n  /**\n   * Если параметр равен \"true\", то это значит, что метка соответствует текущему значению слайдера.\n   * @type {boolean}\n   * @private\n   */\n  private _isSelected = false;\n\n  /**\n   * Позиция метки в процентах от 0 до 100 по горизонтали от левого края.\n   * @type {number | null}\n   * @private\n   */\n  private _posLeft: number | null = null;\n\n  /**\n   * Позиция метки в процентах от 0 до 100 по вертикали от нижнего края.\n   * @type {number | null}\n   * @private\n   */\n  private _posBottom: number | null = null;\n\n  /**\n   * \n   * @type {number}\n   * @private\n   */\n  private _associatedValue: number;\n\n  /**\n   * @constructor\n   * @this   {Mark}\n   * @param  {AbacusClasses} classes Объект с названиями классов.\n   * @example new Mark({\n   *  mark: 'abacus__mark',\n   *  markInrange: 'abacus__mark_inrange',\n   *  markSelected: 'abacus__mark_selected'\n   * });\n   */\n  constructor(associatedValue: number, classes?: AbacusClasses) {\n    this._htmlElement = document.createElement('span');\n    this._className = classes?.mark ? classes.mark : 'abacus__mark';\n    this._classNameInrange = classes?.markInrange ? classes.markInrange : 'abacus__mark_inrange';\n    this._classNameSelected = classes?.markSelected ? classes.markSelected : 'abacus__mark_selected';\n    this._htmlElement.classList.add(this._className);\n\n    this._associatedValue = associatedValue;\n    this._htmlElement.innerText = associatedValue.toString();\n  }\n\n  /**\n   * Геттер ссылки на HTML-элемент.\n   */\n  public get htmlElement() : HTMLElement {\n    return this._htmlElement;\n  }\n\n  /**\n   * Геттер названия класса HTML-элемента.\n   */\n  public get className() : string {\n    return this._className;\n  }\n\n  /**\n   * Сеттер названия класса HTML-элемента. Удаляет предудыщее название у HTML-элемента, а затем ставит новое название.\n   * @param {string} name Название класса.\n   */\n  public set className(name : string) {\n    if (this._className) {\n      this._htmlElement.classList.remove(this._className);\n    }\n    if (name) {\n      this._htmlElement.classList.add(name);\n    }\n    this._className = name;\n  }\n\n  /**\n   * Геттер названия класса HTML-элемента метки, которая находится в диапозоне.\n   */\n  public get classNameInrange() : string {\n    return this._classNameInrange;\n  }\n\n  /**\n   * Сеттер названия класса HTML-элемента метки, которая находится в диапозоне.\n   * Удаляет предудыщее название у HTML-элемента, а затем ставит новое название.\n   * @param {string} name Название класса.\n   */\n  public set classNameInrange(name : string) {\n    if (!name || typeof name !== 'string') {\n      return;\n    }\n\n    if (this._htmlElement.classList.contains(this._classNameInrange)) {\n      this._htmlElement.classList.add(name);\n    }\n    if (this._classNameInrange) {\n      this._htmlElement.classList.remove(this._classNameInrange);\n    }\n\n    this._classNameInrange = name;\n  }\n\n  /**\n   * Геттер названия класса HTML-элемента метки, которая соответствует текущему значению слайдера.\n   */\n  public get classNameSelected() : string {\n    return this._classNameSelected;\n  }\n\n  /**\n   * Сеттер названия класса HTML-элемента метки, которая соответствует текущему значению слайдера.\n   * Удаляет предудыщее название у HTML-элемента, а затем ставит новое название.\n   * @param {string} name Название класса.\n   */\n  public set classNameSelected(name : string) {\n    if (!name || typeof name !== 'string') {\n      return;\n    }\n\n    if (this._htmlElement.classList.contains(this._classNameSelected)) {\n      this._htmlElement.classList.add(name);\n    }\n    if (this._classNameSelected) {\n      this._htmlElement.classList.remove(this._classNameSelected);\n    }\n\n    this._classNameSelected = name;\n  }\n\n  /**\n   * Геттер позиции метки в процентах от левого края.\n   * @returns {number | null} Позиция метки в процентах от 0 до 100.\n   * Или null, если координты по вертикале быть не должно.\n   */\n  public get posLeft() : number | null {\n    return this._posLeft;\n  }\n\n  /**\n   * Сеттер позиции метки в процентах от левого края.\n   * @param {number | null} left Позиция метки в процентах от 0 до 100.\n   */\n  public set posLeft(left : number | null) {\n    if (left === null) {\n      this._posLeft = left;\n      this._htmlElement.style.left = '';\n    } else {\n      let newLeft = left;\n      if (left < 0) newLeft = 0;\n      if (left > 100) newLeft = 100;\n\n      this._posLeft = newLeft;\n      this._htmlElement.style.left = `${newLeft.toString()}%`;\n    }\n  }\n\n  /**\n   * Геттер позиции метки в процентах от нижнего края.\n   * @returns {number | null} Позиция метки в процентах от 0 до 100.\n   */\n  public get posBottom() : number | null {\n    return this._posBottom;\n  }\n\n  /**\n   * Сеттер позиции метки в процентах от нижнего края.\n   * @param {number | null} bottom Позиция метки в процентах от 0 до 100.\n   * Или null, если координты по вертикале быть не должно.\n   */\n  public set posBottom(bottom : number | null) {\n    if (bottom === null) {\n      this._posBottom = bottom;\n      this._htmlElement.style.bottom = '';\n    } else {\n      let newBottom = bottom;\n      if (bottom < 0) newBottom = 0;\n      if (bottom > 100) newBottom = 100;\n\n      this._posBottom = newBottom;\n      this._htmlElement.style.bottom = `${newBottom.toString()}%`;\n    }\n  }\n\n  /**\n   * Геттер значения, ассоциированное с этом меткой.\n   * @returns {number} Значение, связанное с этой меткой.\n   */\n  public get associatedValue() : number {\n      return this._associatedValue;\n    }\n  \n  /**\n   * Сеттер значения, ассоциированное с этом меткой.\n   * @param {number} bottom Позиция метки в процентах от 0 до 100.\n   * Или null, если координты по вертикале быть не должно.\n   */\n  public set associatedValue(value : number) {\n    this._associatedValue = value;\n    this._htmlElement.innerText = value.toString();\n  }\n\n  /**\n   * Функция получения и установки состояния \"в диапозоне\".\n   * Если функция получила параметр false, то у метки удалаяется класс,\n   * записанный в _classNameInrange.\n   * Если функция получила параметр true, то метке добавляется класс,\n   * записанный в _classNameInrange.\n   * @param {boolean} value Если передать \"true\", то добавляется класс, иначе удалается класс.\n   * Если ничего не передать, то возвращается текущее состояние.\n   * @returns {boolean} Текущее состояние метки, а именно, в диапозоне она находится или нет.\n   */\n  isInrange(value?: boolean): boolean {\n    if (value !== undefined && this._classNameInrange) {\n      this._isInrange = !!value;\n\n      if (this._isInrange) {\n        this._htmlElement.classList.add(this._classNameInrange);\n      } else {\n        this._htmlElement.classList.remove(this._classNameInrange);\n      }\n    }\n\n    return this._isInrange;\n  }\n\n  /**\n   * Функция получения и установки состояния \"выбранная\".\n   * Это значит, что напротив этой метки установлена одна из ручек слайдера.\n   * Если функция получила параметр false, то у метки удалаяется класс,\n   * записанный в _classNameSelected.\n   * Если функция получила параметр true, то метке добавляется класс,\n   * записанный в _classNameSelected.\n   * @param {boolean} value Если передать \"true\", то добавляется класс, иначе удалается класс.\n   * Если ничего не передать, то возвращается текущее состояние.\n   * @returns {boolean} Текущее состояние метки.\n   */\n  isSelected(value?: boolean): boolean {\n    if (value !== undefined && this._classNameSelected) {\n      this._isSelected = !!value;\n\n      if (this._isSelected) {\n        this._htmlElement.classList.add(this._classNameSelected);\n      } else {\n        this._htmlElement.classList.remove(this._classNameSelected);\n      }\n    }\n\n    return this._isSelected;\n  }\n}\n","import EventTarget from '@ungap/event-target';\nimport AbacusOrientationType from '../AbacusOrientationType';\n\n/**\n * Класс Model реализует \"Модель\" паттерна проектирования MVP.\n * В этом классе хранится данные слайдера, а также бизнес логика работы с этими данными.\n */\nexport default class Model {\n  /**\n   * Свойства слайдера.\n   * @private\n   */\n  private _abacusProperty: AbacusProperty = {\n    animate: false,\n    classes: {\n      abacus: 'abacus',\n      vertical: 'abacus_vertical',\n      disabled: 'abacus_disabled',\n      handle: 'abacus__handle',\n      range: 'abacus__range',\n      mark: 'abacus__mark',\n      markSelected: 'abacus__mark_selected',\n      markInrange: 'abacus__mark_inrange',\n      tooltip: 'abacus__tooltip',\n      tooltipVisible: 'abacus__tooltip_visible',\n    },\n    disabled: false,\n    max: 100,\n    min: 0,\n    orientation: AbacusOrientationType.HORIZONTAL,\n    range: false,\n    scale: false,\n    step: 1,\n    tooltip: false,\n    value: 0,\n    values: [0],\n  };\n\n  /**\n   * Объект, который может генерировать события и может иметь подписчиков на эти события.\n   * @private\n   */\n  private _eventTarget: EventTarget;\n\n  /**\n   * Событие изменения данных в Модели.\n   * @private\n   */\n  private _eventUpdateModel: CustomEvent;\n\n  /**\n   * @this Model\n   * @param {AbacusOptions} data Свойства слайдера.\n   */\n  constructor(data?: AbacusOptions) {\n    if (data) {\n      this.setAbacusProperty(data);\n    }\n\n    this._eventTarget = new EventTarget();\n    this._eventUpdateModel = new CustomEvent('update-model');\n  }\n\n  /**\n   * Геттер свойств слайдера.\n   * @returns {AbacusProperty} Свойства слайдера, хранящиеся в Модели.\n   */\n  public get abacusProperty() : AbacusProperty {\n    return this._abacusProperty;\n  }\n\n  /**\n   * @param {AbacusOptions} abacusProperty Свойства слайдера, которые нужно добавить в Модель.\n   */\n  public setAbacusProperty(newAbacusProperty: AbacusOptions | AbacusProperty) {\n    const abacusProperty = newAbacusProperty;\n\n    // animate\n    if (abacusProperty.animate !== undefined) {\n      const isAnimatePropFastOrSlow = abacusProperty.animate === 'fast' || abacusProperty.animate === 'slow';\n      const isAnimatePropBoolean = typeof abacusProperty.animate === 'boolean';\n      const isAnimatePropResult = isAnimatePropFastOrSlow || isAnimatePropBoolean;\n      if (isAnimatePropResult) {\n        this._abacusProperty.animate = abacusProperty.animate;\n      } else if (abacusProperty.animate == null) {\n        this._abacusProperty.animate = false;\n      } else if (!Number.isNaN(abacusProperty.animate as number)) {\n        this._abacusProperty.animate = parseInt(abacusProperty.animate as string, 10);\n      }\n    }\n\n    // classes\n    if (typeof abacusProperty.classes === 'object') {\n      if (!this._abacusProperty.classes) {\n        this._abacusProperty.classes = {} as AbacusClasses;\n      }\n\n      if (typeof abacusProperty.classes.abacus === 'string' && abacusProperty.classes.abacus) {\n        this._abacusProperty.classes.abacus = abacusProperty.classes.abacus;\n      }\n      if (typeof abacusProperty.classes.disabled === 'string' && abacusProperty.classes.disabled) {\n        this._abacusProperty.classes.disabled = abacusProperty.classes.disabled;\n      }\n      if (typeof abacusProperty.classes.range === 'string' && abacusProperty.classes.range) {\n        this._abacusProperty.classes.range = abacusProperty.classes.range;\n      }\n      if (typeof abacusProperty.classes.handle === 'string' && abacusProperty.classes.handle) {\n        this._abacusProperty.classes.handle = abacusProperty.classes.handle;\n      }\n      if (typeof abacusProperty.classes.mark === 'string' && abacusProperty.classes.mark) {\n        this._abacusProperty.classes.mark = abacusProperty.classes.mark;\n      }\n      if (typeof abacusProperty.classes.markSelected === 'string' && abacusProperty.classes.markSelected) {\n        this._abacusProperty.classes.markSelected = abacusProperty.classes.markSelected;\n      }\n      if (typeof abacusProperty.classes.markInrange === 'string' && abacusProperty.classes.markInrange) {\n        this._abacusProperty.classes.markInrange = abacusProperty.classes.markInrange;\n      }\n      if (typeof abacusProperty.classes.tooltip === 'string' && abacusProperty.classes.tooltip) {\n        this._abacusProperty.classes.tooltip = abacusProperty.classes.tooltip;\n      }\n      if (typeof abacusProperty.classes.tooltipVisible === 'string' && abacusProperty.classes.tooltipVisible) {\n        this._abacusProperty.classes.tooltipVisible = abacusProperty.classes.tooltipVisible;\n      }\n    }\n\n    // disabled\n    if (abacusProperty.disabled !== undefined) {\n      this._abacusProperty.disabled = !!abacusProperty.disabled;\n    }\n\n    // max\n    if (abacusProperty.max !== undefined && abacusProperty.max !== null) {\n      if (!Number.isNaN(abacusProperty.max)) {\n        if (typeof abacusProperty.max === 'string') {\n          this._abacusProperty.max = parseFloat(abacusProperty.max);\n        } else {\n          this._abacusProperty.max = abacusProperty.max;\n        }\n      }\n    }\n\n    // scale\n    if (abacusProperty.scale !== undefined) {\n      this._abacusProperty.scale = !!abacusProperty.scale;\n    }\n\n    // min\n    if (abacusProperty.min !== undefined && abacusProperty.min !== null) {\n      if (!Number.isNaN(abacusProperty.min)) {\n        if (typeof abacusProperty.min === 'string') {\n          this._abacusProperty.min = parseFloat(abacusProperty.min);\n        } else {\n          this._abacusProperty.min = abacusProperty.min;\n        }\n      }\n    }\n\n    if ((this._abacusProperty.max as number) < (this._abacusProperty.min as number)) {\n      const tmpMax = this._abacusProperty.max;\n      this._abacusProperty.max = this._abacusProperty.min;\n      this._abacusProperty.min = tmpMax;\n    }\n\n    // step\n    if (abacusProperty.step !== undefined && abacusProperty.step !== null) {\n      if (!Number.isNaN(abacusProperty.step)) {\n        if (typeof abacusProperty.step === 'string') {\n          this._abacusProperty.step = parseFloat(abacusProperty.step);\n        } else {\n          this._abacusProperty.step = abacusProperty.step;\n        }\n      }\n    }\n\n    // tooltip\n    if (abacusProperty.tooltip !== undefined) {\n      this._abacusProperty.tooltip = !!abacusProperty.tooltip;\n    }\n\n    // range\n    if (abacusProperty.range !== undefined) {\n      if (abacusProperty.range === false || abacusProperty.range === true) {\n        this._abacusProperty.range = abacusProperty.range;\n      } else if (abacusProperty.range === 'max') {\n        this._abacusProperty.range = 'max';\n      } else if (abacusProperty.range === 'min') {\n        this._abacusProperty.range = 'min';\n      }\n    }\n\n    // value\n    if (abacusProperty.value !== undefined && abacusProperty.value !== null) {\n      if (!Number.isNaN(abacusProperty.value)) {\n        if (typeof abacusProperty.value === 'string') {\n          abacusProperty.value = parseFloat(abacusProperty.value);\n        }\n        abacusProperty.value = this.roundValuePerStep(abacusProperty.value);\n        this._abacusProperty.value = abacusProperty.value;\n\n        if (!this._abacusProperty.values?.length) {\n          this._abacusProperty.values = [];\n        }\n        this._abacusProperty.values[0] = abacusProperty.value;\n      }\n    }\n\n    // values\n    if (abacusProperty.values?.length) {\n      this._abacusProperty.values = [];\n\n      for (let i = 0; i < abacusProperty.values.length; i += 1) {\n        if (typeof abacusProperty.values[i] === 'string') {\n          abacusProperty.values[i] = parseFloat(abacusProperty.values[i].toString());\n        }\n        abacusProperty.values[i] = this.roundValuePerStep(abacusProperty.values[i]);\n        this._abacusProperty.values[i] = abacusProperty.values[i];\n\n        if (i === 0) {\n          this._abacusProperty.value = abacusProperty.values[i];\n        }\n\n        if (i > 1) break;\n      }\n\n      this._abacusProperty.values.sort((a, b) => {\n        if (a > b) return 1;\n        if (a === b) return 0;\n        return -1;\n      });\n    }\n\n    if (this._abacusProperty.range === true) {\n      if (!this._abacusProperty.values?.length) {\n        this._abacusProperty.values = [];\n        this._abacusProperty.values[0] = this._abacusProperty.min ? this._abacusProperty.min : 0;\n        this._abacusProperty.values[1] = this._abacusProperty.max ? this._abacusProperty.max : 100;\n      } else if (this._abacusProperty.values?.length === 1) {\n        this._abacusProperty.values[1] = this._abacusProperty.max ? this._abacusProperty.max : 100;\n      }\n    } else {\n      this._abacusProperty.values = this._abacusProperty.values?.slice(0, 1);\n    }\n\n    // orientation\n    if (abacusProperty.orientation !== undefined) {\n      if (abacusProperty.orientation === 'vertical' || abacusProperty.orientation === AbacusOrientationType.VERTICAL) {\n        this._abacusProperty.orientation = AbacusOrientationType.VERTICAL;\n      } else {\n        this._abacusProperty.orientation = AbacusOrientationType.HORIZONTAL;\n      }\n    }\n\n    // change\n    if (abacusProperty.change !== undefined) {\n      this._abacusProperty.change = abacusProperty.change;\n    }\n\n    // create\n    if (abacusProperty.create !== undefined) {\n      this._abacusProperty.create = abacusProperty.create;\n    }\n\n    // slide\n    if (abacusProperty.slide !== undefined) {\n      this._abacusProperty.slide = abacusProperty.slide;\n    }\n\n    // start\n    if (abacusProperty.start !== undefined) {\n      this._abacusProperty.start = abacusProperty.start;\n    }\n\n    // stop\n    if (abacusProperty.stop !== undefined) {\n      this._abacusProperty.stop = abacusProperty.stop;\n    }\n\n    if (this._eventTarget) {\n      this._eventTarget.dispatchEvent(this._eventUpdateModel);\n    }\n  }\n\n  /**\n   * Сеттер текущего значения слайдера.\n   * @param {number} value Текущее значение слайдера.\n   */\n  public set value(value : number) {\n    this._abacusProperty.value = this.roundValuePerStep(value);\n    if (!this._abacusProperty.values?.length) {\n      this._abacusProperty.values = [];\n    }\n    this._abacusProperty.values[0] = this._abacusProperty.value;\n\n    if (this._eventTarget) {\n      this._eventTarget.dispatchEvent(this._eventUpdateModel);\n    }\n  }\n\n  /**\n   * Геттер объекта, который может генерировать события и может иметь подписчиков на эти события.\n   */\n  public get eventTarget(): EventTarget {\n    return this._eventTarget;\n  }\n\n  /**\n   * Функция, округляющее переданное значение до ближайшего шага.\n   * @param {number} value Текущее значение слайдера.\n   * @returns {number} Значение слайдера, округленное до ближайшего шага.\n   */\n  roundValuePerStep(value: number): number {\n    let result: number = value;\n    const minVal: number = this._abacusProperty.min as number;\n    const maxVal: number = this._abacusProperty.max as number;\n    const step: number = this._abacusProperty.step as number;\n\n    if (value >= maxVal) {\n      return maxVal;\n    }\n    if (value <= minVal) {\n      return minVal;\n    }\n\n    for (let valByStep = minVal; valByStep < maxVal; valByStep += step) {\n      if (value > valByStep && value < valByStep + step) {\n        if (valByStep + step > maxVal) {\n          result = maxVal;\n          break;\n        }\n\n        const prevVal: number = valByStep;\n        const positivePrevVal: number = prevVal < 0 ? prevVal * -1 : prevVal;// берем предыдущее значение по модулю\n        const nextVal: number = valByStep + step;\n        const positiveNextVal: number = nextVal < 0 ? nextVal * -1 : nextVal;// берем следующее значение по модулю\n        const positiveValue: number = value < 0 ? value * -1 : value;// берем переданное значение по модулю\n\n        let deltaPrevValue: number;\n        let deltaNextValue: number;\n\n        if (value < 0) {\n          deltaPrevValue = positivePrevVal - positiveValue;\n          deltaNextValue = positiveValue - positiveNextVal;\n        } else {\n          deltaPrevValue = positiveValue - positivePrevVal;\n          deltaNextValue = positiveNextVal - positiveValue;\n        }\n\n        if (deltaPrevValue < deltaNextValue) {\n          result = prevVal;\n        } else {\n          result = nextVal;\n        }\n        break;\n      }\n    }\n\n    result = Model.round(result, step);\n    return result;\n  }\n\n  /**\n   * Функция получения количества знаков после запятой.\n   * @param {number} x Число, у которого надо узнать количество знаков после запятой.\n   * @returns {number} Количество знаков после запятой.\n   */\n  static countNumAfterPoint(x: number): number {\n    const xStr = x.toString();\n    return (`${xStr}`).indexOf('.') >= 0 ? (`${xStr}`).split('.')[1].length : 0;\n  }\n\n  /**\n   * Функция окргуления числа до того количества знаков после запятой, сколько этих знаков у числа fractionalNum.\n   * @param {number} value Число, которое надо округлить.\n   * @param {number} fractionalNum Число, у которого надо узнать количество знаков после запятой.\n   * @returns {number} Округленное число.\n   */\n  static round(value: number, fractionalNum: number): number {\n    const numbersAfterPoint = Model.countNumAfterPoint(fractionalNum);\n    let roundedValue = value;\n    if (numbersAfterPoint > 0) {\n      roundedValue = parseFloat(value.toFixed(numbersAfterPoint));\n    } else {\n      roundedValue = Math.round(value);\n    }\n\n    return roundedValue;\n  }\n}\n","import EventTarget from '@ungap/event-target';\nimport Model from '../Model/Model';\n\n/**\n * Класс Presenter реализует \"Представителя\" паттерна проектирования MVP.\n * Соответственно, он отвечает за передачу данных от Вида к Модели и обратно.\n */\nexport default class Presenter {\n  /**\n   * Ссылка на Модель, которая содержит данные слайдера.\n   * @type {Model}\n   * @private\n   */\n  private _model: Model;\n\n  /**\n   * Объект, который может генерировать события и может иметь подписчиков на эти события.\n   * @type {EventTarget}\n   * @private\n   */\n  private _eventTarget: EventTarget;\n\n  /**\n   * Событие изменения данных в Модели.\n   * @type {CustomEvent}\n   * @private\n   */\n  private _eventUpdateModel: CustomEvent;\n\n  /**\n   * @this Presenter\n   * @param {AbacusOptions} options Свойства слайдера. Например, минимальное, максимальное и текущее значения.\n   */\n  constructor(options?: AbacusOptions) {\n    this._model = new Model(options);\n    this._eventTarget = new EventTarget();\n    this._eventUpdateModel = new CustomEvent('update-model');\n    this._bindEventListeners();\n  }\n\n  /**\n   * Функция получения свойств слайдера, полученные из Модели.\n   * @returns {AbacusProperty} Свойства слайдера, полученные из Модели.\n   */\n  getModelAbacusProperty(): AbacusProperty {\n    return this._model.abacusProperty;\n  }\n\n  /**\n   * Функция установки свойств слайдера.\n   */\n  setModelAbacusProperty(abacusProperty: AbacusOptions | AbacusProperty): void{\n    this._model.setAbacusProperty(abacusProperty);\n  }\n\n  /**\n   * Установка обработчиков событий.\n   * @private\n   */\n  private _bindEventListeners(): void{\n    this._model.eventTarget.addEventListener('update-model', this._updateModelHandler.bind(this));\n  }\n\n  /**\n   * Обработчик обновления модели.\n   * @private\n   * @param {Event} event Объект события.\n   */\n  private _updateModelHandler(): void{\n    this._eventTarget.dispatchEvent(this._eventUpdateModel);\n  }\n\n  /**\n   * Геттер объекта, который может генерировать события и может иметь подписчиков на эти события.\n   */\n  public get eventTarget(): EventTarget {\n    return this._eventTarget;\n  }\n}\n","enum RangeType {\n  HIDDEN = 'hidden',\n  MIN = 'min',\n  MAX = 'max',\n  BETWEEN = 'between',\n}\n\n/**\n * Класс \"Range\" является оберткой для HTML-элемента индикатора (progress bar).\n * Также класс является \"subView\", то есть частью Вида (Представления) согласно паттерну проектирования MVP.\n */\nexport default class Range {\n  /**\n   * HTML-элемент индикатора.\n   * @type {HTMLElement}\n   * @private\n   */\n  private _htmlElement: HTMLElement;\n\n  /**\n   * Ширина HTML-элемента от 0 до 100 в процентах.\n   * @type {number | null}\n   * @private\n   */\n  private _width: number | null = 100;\n\n  /**\n   * Ширина HTML-элемента от 0 до 100 в процентах.\n   * @type {number | null }\n   * @private\n   */\n  private _height: number | null = 100;\n\n  /**\n   * Название класса HTML-элемента.\n   * @type {string}\n   * @private\n   */\n  private _className: string;\n\n  /**\n   *\n   * @param className\n   */\n  private _rangeType: RangeType = RangeType.HIDDEN;\n\n  /**\n   * @constructor\n   * @this   {Range}\n   * @param  {AbacusClasses} classes Объект с названиями классов.\n   * @example new Handle({\n   *  range: 'abacus__range'\n   * });\n   */\n  constructor(classes?: AbacusClasses) {\n    this._htmlElement = document.createElement('span');\n    this._className = classes?.range ? classes.range : 'abacus__range';\n    this._htmlElement.classList.add(this._className);\n  }\n\n  /**\n   * Геттер ширины HTML-элемента (_htmlElement).\n   */\n  public get width() : number | null {\n    return this._width;\n  }\n\n  /**\n   * Сеттер ширины HTML-элемента (_htmlElement).\n   * @param {number | null} width ширина в процентах от 0 до 100.\n   */\n  public set width(width : number | null) {\n    if (width === null) {\n      this._width = width;\n      this._htmlElement.style.width = '';\n    } else {\n      let newWidth = width;\n      if (width < 0) newWidth = 0;\n      if (width > 100) newWidth = 100;\n\n      this._width = newWidth;\n      this._htmlElement.style.width = `${newWidth.toString()}%`;\n    }\n  }\n\n  /**\n   * Геттер высоты HTML-элемента (_htmlElement).\n   */\n  public get height() : number | null {\n    return this._height;\n  }\n\n  /**\n   * Сеттер высоты HTML-элемента (_htmlElement).\n   * @param {number | null} height высота в процентах от 0 до 100.\n   */\n  public set height(height : number | null) {\n    if (height === null) {\n      this._height = height;\n      this._htmlElement.style.height = '';\n    } else {\n      let newHeight = height;\n      if (height < 0) newHeight = 0;\n      if (height > 100) newHeight = 100;\n\n      this._height = newHeight;\n      this._htmlElement.style.height = `${newHeight.toString()}%`;\n    }\n  }\n\n  /**\n   * Геттер ссылки на HTML-элемент.\n   */\n  public get htmlElement() : HTMLElement {\n    return this._htmlElement;\n  }\n\n  /**\n   * Геттер названия класса HTML-элемента.\n   */\n  public get className() : string {\n    return this._className;\n  }\n\n  /**\n   * Сеттер названия класса HTML-элемента. Удаляет предудыщее название у HTML-элемента, а затем ставит новое название.\n   * @param {string} value Название класса.\n   */\n  public set className(value : string) {\n    this._htmlElement.classList.remove(this._className);\n    this._htmlElement.classList.add(value);\n    this._className = value;\n  }\n\n  /**\n   * Получение типа диапозона слайдера.\n   */\n  public get rangeType() : string {\n    return this._rangeType;\n  }\n\n  /**\n   * Установка типа диапозона слайдера.\n   */\n  public set rangeType(value : string) {\n    const isValueEqualRangeType = value !== 'hidden' && value !== 'min' && value !== 'max' && value !== 'between';\n    if (isValueEqualRangeType) {\n      this._rangeType = RangeType.HIDDEN;\n    }\n    this._rangeType = value as RangeType;\n  }\n}\n","/**\n * Класс \"Tooltip\" является оберткой для HTML-элемента подсказки со значением ручки слайдера.\n * Также класс является \"subView\", то есть частью Вида (Представления) согласно паттерну проектирования MVP.\n */\nexport default class Tooltip {\n  /**\n   * HTML-элемент подсказки со значением ручки слайдера.\n   * @type {HTMLElement}\n   * @private\n   */\n  private _htmlElement: HTMLElement;\n\n  /**\n   * Номер (индекс) подсказки. Может принимать значение 0 или 1.\n   * @type {number}\n   * @private\n   */\n  private _tooltipIndex = 0;\n\n  /**\n   * Название класса HTML-элемента.\n   * @type {string}\n   * @private\n   */\n  private _className: string;\n\n  /**\n   * Название класса HTML-элемента подсказки, которая находится в состоянии видимости.\n   * @type {string}\n   * @private\n   */\n  private _classNameVisible: string;\n\n  /**\n   * Если параметр равен \"true\", то это значит, что подсказка отображается.\n   * @type {boolean}\n   * @private\n   */\n  private _isVisible = false;\n\n  /**\n   * Позиция подсказки в процентах от 0 до 100 по горизонтали от левого края.\n   * @type {number}\n   * @private\n   */\n  private _posLeft: number | null = null;\n\n  /**\n    * Позиция подсказки в процентах от 0 до 100 по вертикали от нижнего края.\n    * @type {number}\n    * @private\n    */\n  private _posBottom: number | null = null;\n\n  /**\n   * @constructor\n   * @this   {Tooltip}\n   * @param  {AbacusClasses} classes Объект с названиями классов.\n   * @example new Tooltip({\n   *  tooltip: 'abacus__tooltip',\n   *  tooltipVisible: 'abacus__tooltip_visible'\n   * });\n   */\n  constructor(classes?: AbacusClasses, tooltipIndex?: number) {\n    this._htmlElement = document.createElement('span');\n    this._className = classes?.tooltip ? classes.tooltip : 'abacus__tooltip';\n    this._classNameVisible = classes?.tooltipVisible ? classes.tooltipVisible : 'abacus__tooltip_visible';\n    this._htmlElement.classList.add(this._className);\n\n    if (tooltipIndex !== undefined && !Number.isNaN(tooltipIndex)) {\n      this._tooltipIndex = tooltipIndex;\n    }\n  }\n\n  /**\n   * Геттер ссылки на HTML-элемент.\n   */\n  public get htmlElement() : HTMLElement {\n    return this._htmlElement;\n  }\n\n  /**\n   * Геттер названия класса HTML-элемента.\n   */\n  public get className() : string {\n    return this._className;\n  }\n\n  /**\n   * Сеттер названия класса HTML-элемента. Удаляет предудыщее название у HTML-элемента, а затем ставит новое название.\n   * @param {string} name Название класса.\n   */\n  public set className(name : string) {\n    if (this._className) {\n      this._htmlElement.classList.remove(this._className);\n    }\n    if (name) {\n      this._htmlElement.classList.add(name);\n    }\n    this._className = name;\n  }\n\n  /**\n   * Геттер названия класса HTML-элемента метки, которая находится в диапозоне.\n   */\n  public get classNameVisible() : string {\n    return this._classNameVisible;\n  }\n\n  /**\n   * Сеттер названия класса HTML-элемента метки, которая находится в диапозоне.\n   * Удаляет предудыщее название у HTML-элемента, а затем ставит новое название.\n   * @param {string} name Название класса.\n   */\n  public set classNameVisible(name : string) {\n    if (!name || typeof name !== 'string') {\n      return;\n    }\n\n    if (this._htmlElement.classList.contains(this._classNameVisible)) {\n      this._htmlElement.classList.add(name);\n    }\n    if (this._classNameVisible) {\n      this._htmlElement.classList.remove(this._classNameVisible);\n    }\n\n    this._classNameVisible = name;\n  }\n\n  /**\n   * Геттер позиции подсказки в процентах от левого края.\n   * @returns {number} Позиция подсказки в процентах от 0 до 100.\n   */\n  public get posLeft() : number | null {\n    return this._posLeft;\n  }\n\n  /**\n   * Сеттер позиции подсказки в процентах от левого края.\n   * @param {number | null} left Позиция подсказки в процентах от 0 до 100.\n   * Или null, если координты по горизонтиле быть не должно.\n   */\n  public set posLeft(left : number | null) {\n    if (left === null) {\n      this._posLeft = left;\n      this._htmlElement.style.left = '';\n    } else {\n      let newLeft = left;\n      if (left < 0) newLeft = 0;\n      if (left > 100) newLeft = 100;\n\n      this._posLeft = newLeft;\n      this._htmlElement.style.left = `${newLeft.toString()}%`;\n    }\n  }\n\n  /**\n   * Геттер позиции подсказки в процентах от нижнего края.\n   * @returns {number | null} Позиция подсказки в процентах от 0 до 100.\n   */\n  public get posBottom() : number | null {\n    return this._posBottom;\n  }\n\n  /**\n   * Сеттер позиции подсказки в процентах от нижнего края.\n   * @param {number | null} bottom Позиция подсказки в процентах от 0 до 100.\n   * Или null, если координты по вертикале быть не должно.\n   */\n  public set posBottom(bottom : number | null) {\n    if (bottom === null) {\n      this._posBottom = bottom;\n      this._htmlElement.style.bottom = '';\n    } else {\n      let newBottom = bottom;\n      if (bottom < 0) newBottom = 0;\n      if (bottom > 100) newBottom = 100;\n\n      this._posBottom = newBottom;\n      this._htmlElement.style.bottom = `${newBottom.toString()}%`;\n    }\n  }\n\n  /**\n   * Функция получения и установки состояния видимости подсказки.\n   * Если функция получила параметр false, то у метки удалаяется класс,\n   * записанный в _classNameVisible.\n   * Если функция получила параметр true, то метке добавляется класс,\n   * записанный в _classNameVisible.\n   * @param {boolean} value Если передать \"true\", то добавляется класс, иначе удалается класс.\n   * Если ничего не передать, то возвращается текущее состояние.\n   * @returns {boolean} Текущее состояние метки, а именно, в диапозоне она находится или нет.\n   */\n  isVisible(value?: boolean): boolean {\n    if (value !== undefined && this._classNameVisible) {\n      this._isVisible = !!value;\n\n      if (this._isVisible) {\n        this._htmlElement.classList.add(this._classNameVisible);\n      } else {\n        this._htmlElement.classList.remove(this._classNameVisible);\n      }\n    }\n\n    return this._isVisible;\n  }\n}\n","import Presenter from '../Presenter/Presenter';\nimport WidgetContainer from '../WidgetContainer/WidgetContainer';\nimport Handle from '../Handle/Handle';\nimport Range from '../Range/Range';\nimport Mark from '../Mark/Mark';\nimport Tooltip from '../Tooltip/Tooltip';\nimport AbacusOrientationType from '../AbacusOrientationType';\n\n/**\n * Класс View реализует \"Представление\" или \"Вид\" паттерна проектирования MVP.\n * Соответственно, он отвечает за отрисовку интерфейса плагина, получение данных от пользователя и отображение данных,\n * находящихся в Модели.\n */\nexport default class View {\n  /**\n   * Ссылка на Представителя, который связывает объект класса View с объектом класса Model\n   * по паттерну проектирования MVP.\n   * @type  {Presenter}\n   * @private\n   */\n  private _presenter: Presenter;\n\n  /**\n   * Объект, в котором содержится ссылка на корневой HTML-элемент плагина с дополнительными свойствами.\n   * @type {WidgetContainer}\n   * @private\n   */\n  private _widgetContainer: WidgetContainer;\n\n  /**\n   * Объект, в котором содержится ссылка на HTML-элемент индикатора (progress bar) с дополнительными свойствами.\n   * @type {Range}\n   * @private\n   */\n  private _range: Range;\n\n  /**\n   * Массив, в котором содержатся объекты ручек (Handle) слайдера.\n   * @type {Handle[]}\n   * @private\n   */\n  private _handles: Handle[] = [];\n\n  /**\n   * Массив, в котором содержатся объекты подсказок (Tooltip) слайдера.\n   * @type {Tooltip[]}\n   * @private\n   */\n  private _tooltips: Tooltip[] = [];\n\n  /**\n   * Объект события изменения значения слайдера, как у браузерных полей ввода \"input\".\n   * @type {CustomEvent}\n   * @private\n   */\n  private _customEventChange: CustomEvent;\n\n  /**\n   * Объект события инициализации плагина.\n   * @type {CustomEvent}\n   * @private\n   */\n  private _customEventCreate: CustomEvent;\n\n  /**\n   * Объект события процесса перемещения бегунка.\n   * @type {CustomEvent}\n   * @private\n   */\n  private _customEventSlide: CustomEvent;\n\n  /**\n   * Объект события начала перемещения бегунка.\n   * @type {CustomEvent}\n   * @private\n   */\n  private _customEventStart: CustomEvent;\n\n  /**\n   * Объект события окончания перемещения бегунка.\n   * @type {CustomEvent}\n   * @private\n   */\n  private _customEventStop: CustomEvent;\n\n  /**\n   * Включен или выключен слайдер. Если равен false, то включен.\n   * @type {boolean}\n   * @private\n   */\n  private _isDisabled = false;\n\n  /**\n   * Перемещается ли бегунок в данный момент с помощью мыши.\n   * @type {boolean}\n   * @private\n   */\n  private _isDragHandle = false;\n\n  /**\n   * Таймер перемещения мыши или пальца на экране.\n   * @type {null | NodeJS.Timeout}\n   * @private\n   */\n  private _handleMovingTimer: null | NodeJS.Timeout = null;\n\n  /**\n   * Коллекция меток разметки слайдера.\n   */\n  private _collectionMarks: Set<Mark> = new Set();\n\n  /**\n   * Кэш свойств сладйера из Модели.\n   */\n  private _cachedAbacusProperty?: AbacusProperty;\n\n  /**\n   * Если значение равно \"true\", то значит слайдер находиться в вертикальном состоянии.\n   */\n  private _isVertical = false;\n\n  private _currentHandle?: Handle;\n\n  /**\n   * @constructor\n   * @this   {View}\n   * @param  {HTMLAbacusElement} abacusHtmlContainer HTML-элемент,\n   * в котором будет находиться инициализированный плагин.\n   * @param  {AbacusOptions} options Параметры настройки плагина.\n   */\n  constructor(abacusHtmlContainer: HTMLAbacusElement, options?: AbacusOptions) {\n    this._presenter = new Presenter(options);\n\n    const abacusProperty = this._presenter.getModelAbacusProperty();\n\n    this._widgetContainer = new WidgetContainer(abacusHtmlContainer, abacusProperty.classes);\n    this._widgetContainer.htmlElement.innerHTML = '';\n\n    this._range = new Range(abacusProperty.classes);\n    this._tooltips[0] = new Tooltip(abacusProperty.classes, 0);\n\n    this._customEventChange = new CustomEvent('abacus-change', {\n      bubbles: true,\n      cancelable: true,\n    });\n\n    this._customEventCreate = new CustomEvent('abacus-create', {\n      bubbles: true,\n      cancelable: true,\n    });\n\n    this._customEventSlide = new CustomEvent('abacus-slide', {\n      bubbles: true,\n      cancelable: true,\n    });\n\n    this._customEventStart = new CustomEvent('abacus-start', {\n      bubbles: true,\n      cancelable: true,\n    });\n\n    this._customEventStop = new CustomEvent('abacus-stop', {\n      bubbles: true,\n      cancelable: true,\n    });\n\n    this.updateView();\n    this._bindEventListeners();\n\n    this._eventCreateWrapper();\n  }\n\n  /**\n   * Функция, которая получает на входе координату клика по оси Х относительно окна браузера,\n   * а возвращает количество процентов от начала (левого края) слайдера.\n   * @param {number} coordXY Координата клика по оси Х относительно окна браузера.\n   * @returns {number} Количество процентов от начала (левого края) слайдера.\n   */\n  getPosPercent(coordXY: number): number {\n    let result = 0;\n    if (this._isVertical) {\n      const posTopWidget: number = this._widgetContainer.htmlElement.getBoundingClientRect().top;\n      const heigthWidget: number = this._widgetContainer.htmlElement.getBoundingClientRect().height;\n      const topPx: number = coordXY - posTopWidget;\n      result = (topPx / heigthWidget) * 100;\n      result = 100 - result;\n    } else {\n      const posLeftWidget: number = this._widgetContainer.htmlElement.getBoundingClientRect().left;\n      const widthWidget: number = this._widgetContainer.htmlElement.getBoundingClientRect().width;\n      const leftPx: number = coordXY - posLeftWidget;\n      result = (leftPx / widthWidget) * 100;\n    }\n    if (result < 0) {\n      result = 0;\n    }\n    if (result > 100) {\n      result = 100;\n    }\n    return result;\n  }\n\n  /**\n   * Функция, которая получает на вход процент от начала слайдера,\n   * а возвращает соответствующее значение кратно заданному шагу.\n   * @deprecated\n   * @param {number} percent Позиция бегунка в процентах от начала слайдера.\n   * @returns {number} Значение, соответствующее проценту и кратно шагу.\n   */\n  getPosPerStep(percent: number): number {\n    let result = 0;\n    const options: AbacusOptions = this._presenter.getModelAbacusProperty();\n    const minVal: number = options.min as number;\n    const maxVal: number = options.max as number;\n    const step: number = options.step as number;\n    const sizeStepPercent: number = (step / (maxVal - minVal)) * 100;\n    result = percent / sizeStepPercent;\n    result = Math.round(result);\n    result *= sizeStepPercent;\n    return result;\n  }\n\n  /**\n   * Функция, которая вычисляет позицию бегунка в процентах от начала слайдера.\n   * @param {number} value Значение слайдера.\n   * @returns {number} Позиция бегунка в процентах от начала слайдера.\n   */\n  getPosFromValue(value: number): number {\n    let result = 0;\n    const options: AbacusOptions = this._presenter.getModelAbacusProperty();\n    const minVal: number = options.min as number;\n    let maxVal: number = options.max as number;\n    let valueAbacus = value;\n\n    // если минимальное значение меньше ноля, то\n    // \"сдвигаем\" переданное значение (value) и максимальное значение (maxVal)\n    // на минимальное значение (minVal) по модулю\n    if (minVal < 0) {\n      maxVal += (minVal * -1);\n      valueAbacus += (minVal * -1);\n    }\n    result = (valueAbacus / maxVal) * 100;\n\n    if (result < 0) {\n      return 0;\n    }\n    if (result > 100) {\n      return 100;\n    }\n\n    return result;\n  }\n\n  /**\n   * Функция, которая получает на вход процент от начала слайдера,\n   * а возвращает соответствующее значение.\n   * @param {number} posPercent Позиция бегунка в процентах от начала слайдера.\n   * @returns {number} Значение слайдера.\n   */\n  getValFromPosPercent(posPercent: number): number {\n    let abacusValue = 0;\n    const options: AbacusOptions = this._presenter.getModelAbacusProperty();\n    const minVal: number = options.min as number;\n    let maxVal: number = options.max as number;\n\n    // если минимальное значение меньше ноля, то\n    // \"сдвигаем\" переданное значение (value) и максимальное значение (maxVal)\n    // на минимальное значение (minVal) по модулю\n    if (minVal < 0) {\n      maxVal += (minVal * -1);\n    }\n\n    abacusValue = (maxVal * posPercent) / 100;\n    abacusValue -= (minVal * -1);\n    return abacusValue;\n  }\n\n  /**\n   * Функция получения и установки свойств слайдера.\n   * @param {string} optionName Название свойства, значение которого надо получить или изменить.\n   * @param {any} propValue Значение свойства.\n   * @returns {AbacusProperty | number | string | number[] | boolean | AbacusClasses | undefined}\n   */\n  option(\n    optionName?: string,\n    propValue?: any,\n  ): AbacusProperty | number | string | number[] | boolean | AbacusClasses | undefined {\n    if (typeof optionName === 'string') {\n      switch (optionName) {\n        case 'animate':\n        case 'classes':\n        case 'disabled':\n        case 'max':\n        case 'scale':\n        case 'min':\n        case 'orientation':\n        case 'range':\n        case 'step':\n        case 'tooltip':\n        case 'value':\n        case 'values':\n          if (propValue !== undefined) {\n            // это условие для установки конкретного свойства слайдера\n            const newProperty = {} as AbacusOptions;\n            newProperty[optionName] = propValue;\n            this._presenter.setModelAbacusProperty(newProperty);\n          } else {\n            // это условие для получения конкретного свойства слайдера\n            return this._presenter.getModelAbacusProperty()[optionName];\n          }\n          break;\n\n        default:\n          break;\n      }\n    } else if (typeof propValue === 'object') {\n      // это условие для установки одного или несколько свойств слайдера в виде объекта\n      this._presenter.setModelAbacusProperty(propValue as AbacusOptions);\n    } else {\n      // это условие для получения всех свойств слайдера в виде объекта\n      return this._presenter.getModelAbacusProperty();\n    }\n\n    return undefined;\n  }\n\n  /**\n   * Функция обновления Вида плагина (в том числе пользовательского интерфейса).\n   */\n  updateView(): void{\n    const abacusProperty: AbacusProperty = this._presenter.getModelAbacusProperty();\n\n    const hasRangeChanged = this._cachedAbacusProperty?.range !== abacusProperty.range;\n    const hasOrientationChanged = this._cachedAbacusProperty?.orientation !== abacusProperty.orientation;\n    const hasTooltipChanged = this._cachedAbacusProperty?.tooltip !== abacusProperty.tooltip;\n    const hasAnimateChanged = this._cachedAbacusProperty?.animate !== abacusProperty.animate;\n    const hasMaxChanged = this._cachedAbacusProperty?.max !== abacusProperty.max;\n    const hasMinChanged = this._cachedAbacusProperty?.min !== abacusProperty.min;\n    const hasValuesChanged = !View.arrayCompare(this._cachedAbacusProperty?.values, abacusProperty.values);\n    const hasDisabledChanged = this._cachedAbacusProperty?.disabled !== abacusProperty.disabled;\n    const hasScaleChanged = this._cachedAbacusProperty?.scale !== abacusProperty.scale;\n    const hasStepChanged = this._cachedAbacusProperty?.step !== abacusProperty.step;\n\n    if (hasRangeChanged) {\n      this._createViewHandles(abacusProperty);\n      this._createViewRange(abacusProperty);\n    }\n\n    if (hasOrientationChanged) {\n      if (abacusProperty.orientation === AbacusOrientationType.VERTICAL) {\n        this._isVertical = true;\n        this._widgetContainer.isVertical(true);\n      } else {\n        this._isVertical = false;\n        this._widgetContainer.isVertical(false);\n      }\n    }\n\n    const resultTooltipRangeChanged = hasTooltipChanged || hasRangeChanged;\n    if (resultTooltipRangeChanged) {\n      this._createViewTooltips(abacusProperty);\n      this._updateViewTooltips(abacusProperty);\n      this._setTransition();\n    }\n\n    if (hasAnimateChanged) {\n      this._setTransition();\n    }\n\n    // Обновляем положение бегунка и индикатора\n    const resultRangeMaxMinOrientationValuesChanged = hasRangeChanged\n                                                      || hasMaxChanged\n                                                      || hasMinChanged\n                                                      || hasOrientationChanged\n                                                      || hasValuesChanged;\n    if (resultRangeMaxMinOrientationValuesChanged) {\n      this._updateViewHandles(abacusProperty);\n      this._updateViewTooltips(abacusProperty);\n      this._updateViewRange(abacusProperty);\n      this._highlightMarks();\n    }\n\n    if (hasValuesChanged) {\n      this._findMovedHandle();\n      this._eventChangeWrapper();\n    }\n\n    // Обновляем названия классов\n    if (abacusProperty.classes) {\n      this._updateClassNames(abacusProperty.classes);\n    }\n\n    // Включаем или отключаем слайдер\n    if (hasDisabledChanged) {\n      this.toggleDisable(abacusProperty.disabled);\n    }\n\n    // Создаем шкалу значений\n    const resultScaleStepMaxMinOrientationChanged = hasScaleChanged\n                                                    || hasStepChanged\n                                                    || hasMaxChanged\n                                                    || hasMinChanged\n                                                    || hasOrientationChanged;\n    if (resultScaleStepMaxMinOrientationChanged) {\n      if (abacusProperty.scale) {\n        this._createScale();\n        this._setTransition();\n      } else {\n        this._removeScale();\n      }\n\n      this._highlightMarks();\n    }\n\n    this._cachedAbacusProperty = View.getCloneAbacusProperty(abacusProperty);\n  }\n\n  /**\n   * Функция создания или удаления ручек слайдера.\n   * @private\n   * @param {AbacusProperty} abacusProperty Свойства плагина.\n   */\n  private _createViewHandles(abacusProperty: AbacusProperty): void{\n    const viewInstance = this;\n    const handleIndexes: number[] = []; // массив с индексами ручек слайдера.\n    if (!viewInstance._handles?.length) {\n      viewInstance._handles = [];\n      viewInstance._handles[0] = new Handle(abacusProperty.classes, 0);\n      const [firstHandle] = viewInstance._handles;\n      viewInstance._widgetContainer.htmlElement.append(firstHandle.htmlElement);\n      viewInstance._currentHandle = firstHandle;\n      handleIndexes.push(0);\n    }\n\n    const [firstHandle] = viewInstance._handles;\n\n    switch (abacusProperty.range) {\n      case true:\n        viewInstance._handles[1] = new Handle(abacusProperty.classes, 1);\n        viewInstance._widgetContainer.htmlElement.append(viewInstance._handles[1].htmlElement);\n        handleIndexes.push(1);\n        break;\n\n      case 'max':\n      case 'min':\n      default:\n        if (viewInstance._handles[1]) {\n          viewInstance._handles[1].htmlElement.remove();\n          viewInstance._handles = viewInstance._handles.slice(0, 1);\n        }\n        viewInstance._currentHandle = firstHandle;\n        break;\n    }\n\n    for (let i = 0; i < handleIndexes.length; i += 1) {\n      const handleIndex = handleIndexes[i];\n      viewInstance._handles[handleIndex].htmlElement.addEventListener(\n        'mousedown',\n        // viewInstance._handlerHandleItemClickStart.bind(viewInstance)\n        (event: MouseEvent) => {\n          event.preventDefault();\n          if (viewInstance._isDisabled) {\n            return;\n          }\n          viewInstance._isDragHandle = true;\n          viewInstance._currentHandle = viewInstance._handles[handleIndex];\n          viewInstance._eventStartWrapper(event);\n        },\n      );\n\n      viewInstance._handles[handleIndex].htmlElement.addEventListener(\n        'touchstart',\n        // viewInstance._handlerHandleItemClickStart.bind(viewInstance),\n        (event: TouchEvent) => {\n          event.preventDefault();\n          if (viewInstance._isDisabled) {\n            return;\n          }\n          viewInstance._isDragHandle = true;\n          viewInstance._currentHandle = viewInstance._handles[handleIndex];\n          viewInstance._eventStartWrapper(event);\n        },\n        { passive: true },\n      );\n    }\n  }\n\n  /**\n   * Функция обновления ручек слайдера, а именно их местоположение.\n   * @private\n   * @param {AbacusProperty} abacusProperty Свойства плагина.\n   */\n  private _updateViewHandles(abacusProperty: AbacusProperty): void{\n    if (!abacusProperty.values) {\n      return;\n    }\n\n    for (let i = 0; i < abacusProperty.values.length; i += 1) {\n      const currentValue: number = abacusProperty.values[i];\n      const posHandle = this.getPosFromValue(currentValue);\n\n      if (this._handles[i]) {\n        if (this._isVertical) {\n          this._handles[i].posLeft = null;\n          this._handles[i].posBottom = posHandle;\n        } else {\n          this._handles[i].posBottom = null;\n          this._handles[i].posLeft = posHandle;\n        }\n      }\n    }\n  }\n\n  /**\n   * Функция создания или удаления подсказок слайдера.\n   * @private\n   * @param {AbacusProperty} abacusProperty Свойства плагина.\n   */\n  private _createViewTooltips(abacusProperty: AbacusProperty): void{\n    for (let i = 0; i < this._tooltips.length; i += 1) {\n      this._tooltips[i].htmlElement.remove();\n    }\n    this._tooltips = [];\n\n    if (abacusProperty.tooltip) {\n      const countTooltips = abacusProperty.range === true ? 2 : 1;\n      for (let i = 0; i < countTooltips; i += 1) {\n        this._tooltips[i] = new Tooltip(abacusProperty.classes, i);\n        this._widgetContainer.htmlElement.append(this._tooltips[i].htmlElement);\n        this._tooltips[i].isVisible(true);\n      }\n    }\n  }\n\n  /**\n   * Функция обновления подсказок слайдера, а именно местоположение и текст.\n   * @private\n   * @param {AbacusProperty} abacusProperty Свойства плагина.\n   */\n  private _updateViewTooltips(abacusProperty: AbacusProperty): void{\n    if (!abacusProperty.values || !abacusProperty.tooltip) {\n      return;\n    }\n\n    for (let i = 0; i < abacusProperty.values.length; i += 1) {\n      const currentValue: number = abacusProperty.values[i];\n      const posHandle = this.getPosFromValue(currentValue);\n\n      if (this._tooltips[i]) {\n        if (this._isVertical) {\n          this._tooltips[i].posLeft = null;\n          this._tooltips[i].posBottom = posHandle;\n        } else {\n          this._tooltips[i].posBottom = null;\n          this._tooltips[i].posLeft = posHandle;\n        }\n\n        this._tooltips[i].htmlElement.innerText = abacusProperty.values[i].toString();\n      }\n    }\n  }\n\n  /**\n   * Функция создания или удаления индикатора (progress bar) слайдера.\n   * @private\n   * @param {AbacusProperty} abacusProperty Свойства плагина.\n   */\n  private _createViewRange(abacusProperty: AbacusProperty): void{\n    switch (abacusProperty.range) {\n      case 'max':\n        this._range.rangeType = 'max';\n        this._widgetContainer.htmlElement.prepend(this._range.htmlElement);\n        break;\n\n      case true:\n        this._range.rangeType = 'between';\n        this._widgetContainer.htmlElement.prepend(this._range.htmlElement);\n        break;\n\n      case 'min':\n        this._range.rangeType = 'min';\n        this._widgetContainer.htmlElement.prepend(this._range.htmlElement);\n        break;\n\n      default:\n        this._range.rangeType = 'hidden';\n        this._range.htmlElement.remove();\n        break;\n    }\n  }\n\n  /**\n   * Функция обновления индикатора (progress bar) слайдера, а именно местоположение и размер.\n   * @private\n   * @param {AbacusProperty} abacusProperty Свойства плагина.\n   */\n  private _updateViewRange(abacusProperty: AbacusProperty): void{\n    if (!abacusProperty.values?.length) {\n      return;\n    }\n\n    const posHandle0 = this.getPosFromValue(abacusProperty.values[0]);\n    const posHandle1 = this.getPosFromValue(abacusProperty.values[1]);\n\n    if (this._isVertical) {\n      this._range.htmlElement.style.left = '';\n      this._range.htmlElement.style.right = '';\n      this._range.width = null;\n\n      switch (this._range.rangeType) {\n        case 'min':\n          this._range.htmlElement.style.top = 'auto';\n          this._range.htmlElement.style.bottom = '0';\n          this._range.height = posHandle0;\n          break;\n\n        case 'max':\n          this._range.htmlElement.style.top = '0';\n          this._range.htmlElement.style.bottom = 'auto';\n          this._range.height = 100 - posHandle0;\n          break;\n\n        case 'between':\n          this._range.htmlElement.style.bottom = `${posHandle0.toString()}%`;\n          this._range.htmlElement.style.top = '';\n          this._range.height = posHandle1 - posHandle0;\n          break;\n\n        default:\n          break;\n      }\n    } else {\n      this._range.htmlElement.style.top = '';\n      this._range.htmlElement.style.bottom = '';\n      this._range.height = null;\n\n      switch (this._range.rangeType) {\n        case 'min':\n          this._range.htmlElement.style.left = '0';\n          this._range.htmlElement.style.right = 'auto';\n          this._range.width = posHandle0;\n          break;\n\n        case 'max':\n          this._range.htmlElement.style.left = 'auto';\n          this._range.htmlElement.style.right = '0';\n          this._range.width = 100 - posHandle0;\n          break;\n\n        case 'between':\n          this._range.htmlElement.style.left = `${posHandle0.toString()}%`;\n          this._range.htmlElement.style.right = '';\n          this._range.width = posHandle1 - posHandle0;\n          break;\n\n        default:\n          break;\n      }\n    }\n  }\n\n  /**\n   * Функция обновления индикатора (progress bar) слайдера, а именно местоположение и размер.\n   * @private\n   * @param {AbacusClasses} abacusClasses Объект с классами элементов плагина.\n   */\n  private _updateClassNames(abacusClasses: AbacusClasses) {\n    if (this._cachedAbacusProperty?.classes?.abacus !== abacusClasses?.abacus) {\n      this._widgetContainer.className = abacusClasses?.abacus;\n    }\n    if (this._cachedAbacusProperty?.classes?.vertical !== abacusClasses?.vertical) {\n      this._widgetContainer.classNameVertical = abacusClasses?.vertical;\n    }\n    if (this._cachedAbacusProperty?.classes?.disabled !== abacusClasses?.disabled) {\n      this._widgetContainer.classNameDisabled = abacusClasses?.disabled;\n    }\n\n    if (this._cachedAbacusProperty?.classes?.handle !== abacusClasses?.handle) {\n      for (let i = 0; i < this._handles.length; i += 1) {\n        this._handles[i].className = abacusClasses?.handle;\n      }\n    }\n\n    if (this._cachedAbacusProperty?.classes?.range !== abacusClasses?.range) {\n      this._range.className = abacusClasses?.range;\n    }\n\n    this._collectionMarks.forEach((mapItem) => {\n      const mark = mapItem;\n\n      if (this._cachedAbacusProperty?.classes?.mark !== abacusClasses?.mark) {\n        if (abacusClasses?.mark) {\n          mark.className = abacusClasses.mark;\n        }\n      }\n\n      if (this._cachedAbacusProperty?.classes?.markSelected !== abacusClasses?.markSelected) {\n        if (abacusClasses?.markInrange) {\n          mark.classNameSelected = abacusClasses.markSelected;\n        }\n      }\n\n      if (this._cachedAbacusProperty?.classes?.markInrange !== abacusClasses?.markInrange) {\n        if (abacusClasses?.markInrange) {\n          mark.classNameInrange = abacusClasses.markInrange;\n        }\n      }\n    });\n  }\n\n  /**\n   * Функция переключает состояние слайдера с активного на неактивный и обратно.\n   * @param {boolean} off \"true\" значит отключить. \"false\" значит активировать.\n   */\n  toggleDisable(off?: boolean): void{\n    if (off === undefined || off === null) {\n      this._isDisabled = !this._isDisabled;\n    } else {\n      this._isDisabled = !!off;\n    }\n\n    this._widgetContainer.isDisabled(this._isDisabled);\n  }\n\n  /**\n   * Функция упаковывает в объект некоторые данные о слайдере и бегунке для обработчиков событий.\n   * @private\n   * @returns {EventUIData} Объект класса EventUIData.\n   */\n  private _getEventUIData(): EventUIData {\n    const uiData: EventUIData = {} as EventUIData;\n    if (this._currentHandle) {\n      uiData.handle = this._currentHandle.htmlElement;\n      uiData.handleIndex = this._currentHandle.handleIndex;\n    }\n\n    const modelData = this._presenter.getModelAbacusProperty();\n    uiData.abacusProperty = View.getCloneAbacusProperty(modelData);\n    return uiData;\n  }\n\n  /**\n   * Функция-обертка события \"abacus-change\". Генерирует событие \"abacus-change\" и вызывает callback \"change\".\n   * @private\n   * @param {Event} event Объект события. По умолчанию равен объекту события изменения значения слайдера.\n   * @returns {boolean} Возвращаемое значение — false, если событие отменяемое и хотя бы один из обработчиков\n   * этого события вызвал Event.preventDefault(). В ином случае — true.\n   * (Точно также, как у функции EventTarget.dispatchEvent()).\n   */\n  private _eventChangeWrapper(event: Event = this._customEventChange): boolean {\n    const dispatchEventResult = this._widgetContainer.htmlElement.dispatchEvent(this._customEventChange);\n    const abacusProperty = this._presenter.getModelAbacusProperty();\n    if (typeof abacusProperty?.change === 'function') {\n      abacusProperty.change(event, this._getEventUIData());\n    }\n\n    return dispatchEventResult;\n  }\n\n  /**\n   * Функция-обертка события \"abacus-create\". Генерирует событие \"abacus-create\" и вызывает callback \"create\".\n   * @private\n   * @param {Event} event Объект события. По умолчанию равен объекту события инициализации плагина.\n   * @returns {boolean} Возвращаемое значение — false, если событие отменяемое и хотя бы один из обработчиков\n   * этого события вызвал Event.preventDefault().\n   * В ином случае — true. (Точно также, как у функции EventTarget.dispatchEvent()).\n   */\n  private _eventCreateWrapper(event: Event = this._customEventCreate): boolean {\n    const dispatchEventResult = this._widgetContainer.htmlElement.dispatchEvent(this._customEventCreate);\n    const abacusProperty = this._presenter.getModelAbacusProperty();\n    if (typeof abacusProperty?.create === 'function') {\n      abacusProperty.create(event, this._getEventUIData());\n    }\n\n    return dispatchEventResult;\n  }\n\n  /**\n   * Функция-обертка события \"abacus-slide\". Генерирует событие \"abacus-slide\" и вызывает callback \"slide\".\n   * @private\n   * @param {Event} event Объект события. По умолчанию равен объекту события перемещения бегунка слайдера.\n   * @returns {boolean} Возвращаемое значение — false, если событие отменяемое и хотя бы один из обработчиков\n   * этого события вызвал Event.preventDefault().\n   * В ином случае — true. (Точно также, как у функции EventTarget.dispatchEvent()).\n   */\n  private _eventSlideWrapper(event: Event = this._customEventSlide): boolean {\n    const dispatchEventResult = this._widgetContainer.htmlElement.dispatchEvent(this._customEventSlide);\n    const abacusProperty = this._presenter.getModelAbacusProperty();\n    if (typeof abacusProperty?.slide === 'function') {\n      abacusProperty.slide(event, this._getEventUIData());\n    }\n\n    return dispatchEventResult;\n  }\n\n  /**\n   * Функция-обертка события \"abacus-start\". Генерирует событие \"abacus-start\" и вызывает callback \"start\".\n   * @private\n   * @param {Event} event Объект события. По умолчанию равен объекту события начала перемещения бегунка слайдера.\n   * @returns {boolean} Возвращаемое значение — false, если событие отменяемое и хотя бы один из обработчиков\n   * этого события вызвал Event.preventDefault().\n   * В ином случае — true. (Точно также, как у функции EventTarget.dispatchEvent()).\n   */\n  private _eventStartWrapper(event: Event = this._customEventStart): boolean {\n    const dispatchEventResult = this._widgetContainer.htmlElement.dispatchEvent(this._customEventStart);\n    const abacusProperty = this._presenter.getModelAbacusProperty();\n    if (typeof abacusProperty?.start === 'function') {\n      abacusProperty.start(event, this._getEventUIData());\n    }\n\n    return dispatchEventResult;\n  }\n\n  /**\n   * Функция-обертка события \"abacus-stop\". Генерирует событие \"abacus-stop\" и вызывает callback \"stop\".\n   * @private\n   * @param {Event} event Объект события. По умолчанию равен объекту события окончания перемещения бегунка слайдера.\n   * @returns {boolean} Возвращаемое значение — false, если событие отменяемое и хотя бы один из обработчиков\n   * этого события вызвал Event.preventDefault().\n   * В ином случае — true. (Точно также, как у функции EventTarget.dispatchEvent()).\n   */\n  private _eventStopWrapper(event: Event = this._customEventStop): boolean {\n    const dispatchEventResult = this._widgetContainer.htmlElement.dispatchEvent(this._customEventStop);\n    const abacusProperty = this._presenter.getModelAbacusProperty();\n    if (typeof abacusProperty?.stop === 'function') {\n      abacusProperty.stop(event, this._getEventUIData());\n    }\n\n    return dispatchEventResult;\n  }\n\n  /**\n   * Функция, обрабатывающая позицию мыши или касания и вычисляющая, какию ручку перемещать.\n   * @private\n   * @param {MouseEvent | TouchEvent} event Объект события мыши или касания.\n   */\n  private _mouseHandler(event: MouseEvent | TouchEvent): void{\n    const viewInstance = this;\n    const abacusProperty = viewInstance._presenter.getModelAbacusProperty();\n    if (!abacusProperty.values?.length || !viewInstance._currentHandle) {\n      return;\n    }\n\n    let coordinate = 0;\n    if (event instanceof MouseEvent) {\n      coordinate = this._isVertical ? event.clientY : event.clientX;\n    } else if (event instanceof TouchEvent) {\n      coordinate = this._isVertical ? event.changedTouches[0].screenY : event.changedTouches[0].screenX;\n    }\n\n    const percent = this.getPosPercent(coordinate);\n    const valueUnrounded: number = this.getValFromPosPercent(percent);\n\n    const newValues: number[] = abacusProperty.values?.slice(0);\n    const [firstHandle, secondHandle] = viewInstance._handles;\n    const [firstValue, secondValue] = abacusProperty.values;\n\n    if (viewInstance._currentHandle.handleIndex === 0) {\n      if (valueUnrounded >= secondValue) {\n        newValues[0] = secondValue;\n        viewInstance._currentHandle = secondHandle;\n      } else {\n        newValues[0] = valueUnrounded;\n      }\n    }\n\n    if (viewInstance._currentHandle.handleIndex === 1) {\n      if (valueUnrounded <= firstValue) {\n        newValues[1] = firstValue;\n        viewInstance._currentHandle = firstHandle;\n      } else {\n        newValues[1] = valueUnrounded;\n      }\n    }\n\n    viewInstance._presenter.setModelAbacusProperty({\n      values: newValues,\n    } as AbacusOptions);\n  }\n\n  /**\n   * Функция, которая вычисляет, какие значения были изменены, и передает их через Представителя в Модель.\n   * @private\n   * @param {number} valueUnrounded Значение, полученное из позиции клика мыши или касания.\n   */\n  private _calcHandleValues(valueUnrounded: number): void{\n    if (Number.isNaN(valueUnrounded)) {\n      return;\n    }\n\n    const viewInstance = this;\n    const abacusProperty = viewInstance._presenter.getModelAbacusProperty();\n    if (!abacusProperty.values?.length) {\n      return;\n    }\n\n    let newValues: number[] = [];\n    if (abacusProperty.values) {\n      newValues = abacusProperty.values?.slice(0);\n    }\n\n    const checkNecessaryProps = abacusProperty.range === true && abacusProperty.values?.length && abacusProperty.step;\n    if (checkNecessaryProps) {\n      let deltaMin = abacusProperty.values[0] - valueUnrounded;\n      deltaMin = deltaMin < 0 ? deltaMin *= -1 : deltaMin;\n      let deltaMax = abacusProperty.values[1] - valueUnrounded;\n      deltaMax = deltaMax < 0 ? deltaMax *= -1 : deltaMax;\n\n      if (deltaMax < deltaMin) {\n        newValues[1] = valueUnrounded;\n      } else {\n        newValues[0] = valueUnrounded;\n      }\n    } else {\n      newValues[0] = valueUnrounded;\n    }\n\n    viewInstance._presenter.setModelAbacusProperty({\n      values: newValues,\n    } as AbacusOptions);\n  }\n\n  /**\n   * Установка обработчиков событий.\n   * @private\n   */\n  private _bindEventListeners(): void{\n    const viewInstance = this;\n\n    viewInstance._presenter.eventTarget.addEventListener('update-model', this._updateModelHandler.bind(this));\n\n    viewInstance._widgetContainer.htmlElement.addEventListener(\n      'click',\n      viewInstance._handlerWidgetContainerClick.bind(viewInstance),\n    );\n    viewInstance._widgetContainer.htmlElement.addEventListener(\n      'touchend',\n      viewInstance._handlerWidgetContainerClick.bind(viewInstance),\n    );\n\n    document.addEventListener(\n      'mousemove',\n      viewInstance._handlerHandleItemClickMove.bind(viewInstance),\n      { passive: true },\n    );\n    document.addEventListener(\n      'touchmove',\n      viewInstance._handlerHandleItemClickMove.bind(viewInstance),\n      { passive: true },\n    );\n\n    document.addEventListener(\n      'mouseup',\n      viewInstance._handlerHandleItemClickStop.bind(viewInstance),\n    );\n    document.addEventListener(\n      'touchend',\n      viewInstance._handlerHandleItemClickStop.bind(viewInstance),\n    );\n    document.addEventListener(\n      'touchcancel',\n      viewInstance._handlerHandleItemClickStop.bind(viewInstance),\n    );\n  }\n\n  /**\n   * Обработчик обновления модели.\n   * @private\n   * @param {Event} event Объект события.\n   */\n  private _updateModelHandler(): void{\n    this.updateView();\n  }\n\n  /**\n   * Обработчик клика по слайдеру. По клику перемещает ручку слайдера.\n   * @private\n   */\n  private _handlerWidgetContainerClick(event: MouseEvent | TouchEvent): void{\n    event.preventDefault();\n    const viewInstance = this;\n    const abacusProperty = viewInstance._presenter.getModelAbacusProperty();\n    const eventTarget = event.target as HTMLElement;\n    const handleClass = abacusProperty.classes?.handle ? abacusProperty.classes?.handle : '';\n    const markClass = abacusProperty.classes?.mark ? abacusProperty.classes?.mark : '';\n\n    const condition = viewInstance._isDisabled\n                    || eventTarget.classList.contains(handleClass)\n                    || eventTarget.classList.contains(markClass);\n    if (condition) {\n      return;\n    }\n\n    // viewInstance._mouseHandler(event);\n\n    let coordinate = 0;\n    if (event instanceof MouseEvent) {\n      coordinate = this._isVertical ? event.clientY : event.clientX;\n    } else if (event instanceof TouchEvent) {\n      coordinate = this._isVertical ? event.changedTouches[0].screenY : event.changedTouches[0].screenX;\n    }\n\n    const percent = this.getPosPercent(coordinate);\n    const valueUnrounded: number = this.getValFromPosPercent(percent);\n    viewInstance._calcHandleValues(valueUnrounded);\n  }\n\n  /**\n   * Обработчик клика по ручке слайдера. Фиксирует нажатие на ручку и генерирует событие \"start\".\n   * @private\n   */\n  private _handlerHandleItemClickStart(event: MouseEvent | TouchEvent): void{\n    event.preventDefault();\n    // console.log('_handlerHandleItemClickStart');\n    const viewInstance = this;\n    if (viewInstance._isDisabled) {\n      return;\n    }\n    viewInstance._isDragHandle = true;\n    viewInstance._eventStartWrapper(event);\n  }\n\n  /**\n   * Обработчик пересещения курсора или пальца по экрану.\n   * Нужен для того, чтобы вычислить, куда переместить ручку слайдера. Генерирует событие \"slide\".\n   * @private\n   */\n  private _handlerHandleItemClickMove(event: MouseEvent | TouchEvent): void{\n    const viewInstance = this;\n    if (viewInstance._isDisabled) {\n      return;\n    }\n\n    if (viewInstance._handleMovingTimer !== null) {\n      clearTimeout(viewInstance._handleMovingTimer);\n    }\n    viewInstance._handleMovingTimer = setTimeout(() => {\n      if (viewInstance._isDragHandle) {\n        // console.log('_handlerHandleItemClickMove');\n        viewInstance._mouseHandler(event);\n        // let coordinate = 0;\n        // if( event instanceof MouseEvent ){\n        //   coordinate = this._isVertical ? event.clientY : event.clientX;\n        // }\n        // else if(event instanceof TouchEvent){\n        //   coordinate = this._isVertical ? event.changedTouches[0].screenY : event.changedTouches[0].screenX;\n        // }\n\n        // const percent = this.getPosPercent(coordinate);\n        // const valueUnrounded: number = this.getValFromPosPercent(percent);\n        // viewInstance._calcHandleValues(valueUnrounded);\n\n        // viewInstance._eventSlideWrapper(event);\n      }\n    }, 5);\n  }\n\n  /**\n   * Обработчик окончание пересещения курсора или пальца по экрану.\n   * Генерирует событие \"stop\".\n   * @private\n   */\n  private _handlerHandleItemClickStop(event: MouseEvent | TouchEvent): void{\n    const viewInstance = this;\n    if (viewInstance._isDragHandle) {\n      // console.log('_handlerHandleItemClickStop');\n      viewInstance._eventStopWrapper(event);\n    }\n    viewInstance._isDragHandle = false;\n  }\n\n  /**\n   * Создает шкалу значений и добавляет ее в слайдер.\n   * @private\n   */\n  private _createScale(): void{\n    if (this._collectionMarks.size) {\n      this._removeScale();\n    }\n\n    const abacusProperty = this._presenter.getModelAbacusProperty();\n\n    let value = abacusProperty.min;\n    for (; value <= abacusProperty.max; value += abacusProperty.step) {\n      value = View.round(value, abacusProperty.step);\n      const mark = new Mark(value, abacusProperty.classes);\n      const left = this.getPosFromValue(value);\n\n      if (this._isVertical) mark.posBottom = left;\n      else mark.posLeft = left;\n\n      this._collectionMarks.add(mark);\n    }\n\n    if (value !== abacusProperty.max) {\n      const mark = new Mark(abacusProperty.max, abacusProperty.classes);\n      const left = this.getPosFromValue(abacusProperty.max);\n\n      if (this._isVertical) mark.posBottom = left;\n      else mark.posLeft = left;\n\n      this._collectionMarks.add(mark);\n    }\n\n    this._collectionMarks.forEach((mapItem) => {\n      const mark = mapItem;\n      if (this._widgetContainer.htmlElement.contains(this._handles[0].htmlElement)) {\n        this._handles[0].htmlElement.before(mark.htmlElement);\n      } else {\n        this._widgetContainer.htmlElement.append(mark.htmlElement);\n      }\n    });\n\n    this._thinOutScale();\n    this._bindEventListenersOnMarks();\n  }\n\n  /**\n   * Удаляет шкалу значений.\n   * @private\n   */\n  private _removeScale(): void{\n    this._collectionMarks.forEach((mapItem) => {\n      const mark = mapItem;\n      mark.htmlElement.remove();\n    });\n    this._collectionMarks.clear();\n  }\n\n  /**\n   * Функция удаления лишних меток на шкале значений для того, чтобы они не \"слипались\" друг с другом.\n   * @private\n   */\n  private _thinOutScale(): void{\n    let sizeWidget: number;\n    if (this._isVertical) {\n      sizeWidget = this._widgetContainer.htmlElement.offsetHeight;\n    } else {\n      sizeWidget = this._widgetContainer.htmlElement.offsetWidth;\n    }\n\n    const k = 7; // Минимальное расстояние между метка шкалы.\n    let sizeMarks = 0;\n    this._collectionMarks.forEach((mapItem) => {\n      const mark = mapItem;\n      if (this._isVertical) {\n        sizeMarks += mark.htmlElement.offsetHeight + k;\n      } else {\n        sizeMarks += mark.htmlElement.offsetWidth + k;\n      }\n    });\n\n    if (sizeWidget < sizeMarks) {\n      const abacusProperty = this._presenter.getModelAbacusProperty();\n\n      let isDelete = false;\n      this._collectionMarks.forEach((mapItem) => {\n        const mark = mapItem;\n        const dontDeleteMark = mark.associatedValue === abacusProperty.min || mark.associatedValue === abacusProperty.max || isDelete;\n        if (dontDeleteMark) {\n          isDelete = false;\n        } else {\n          mark?.htmlElement.remove();\n          this._collectionMarks.delete(mark);\n          isDelete = true;\n        }\n      });\n    }\n\n    sizeMarks = 0;\n\n    this._collectionMarks.forEach((mapItem) => {\n      const mark = mapItem;\n      if (this._isVertical) {\n        sizeMarks += mark.htmlElement.offsetHeight + k;\n      } else {\n        sizeMarks += mark.htmlElement.offsetWidth + k;\n      }\n    });\n\n    if (sizeWidget < sizeMarks) {\n      this._thinOutScale();\n    }\n  }\n\n  /**\n   * Функция меняет состояния меток в шкале значений.\n   * @private\n   */\n  private _highlightMarks(): void{\n    if (!this._collectionMarks.size) {\n      return;\n    }\n\n    const abacusProperty = this._presenter.getModelAbacusProperty();\n    const rangeType = abacusProperty.range;\n\n    this._collectionMarks.forEach((mapItem) => {\n      const mark = mapItem;\n      const isValBetween0And1 = mark.associatedValue >= abacusProperty.values[0] \n                                && mark.associatedValue <= abacusProperty.values[1];\n      if (rangeType === 'min' && mark.associatedValue <= abacusProperty.values[0]) {\n        mark.isInrange(true);\n      } else if (rangeType === 'max' && mark.associatedValue >= abacusProperty.values[0]) {\n        mark.isInrange(true);\n      } else if (rangeType === true && isValBetween0And1) {\n        mark.isInrange(true);\n      } else {\n        mark.isInrange(false);\n      }\n\n      if (mark.associatedValue === abacusProperty.values[0] || mark.associatedValue === abacusProperty.values[1]) {\n        mark.isSelected(true);\n      } else {\n        mark.isSelected(false);\n      }\n    });\n  }\n\n  /**\n   * Функция установки обработчиков на метки шкалы значений.\n   * @private\n   */\n  private _bindEventListenersOnMarks(): void{\n    this._collectionMarks.forEach((mapItem) => {\n      const mark = mapItem;\n\n      mark.htmlElement.addEventListener('click', () => {\n        const viewInstance = this;\n        if (viewInstance._isDisabled) {\n          return;\n        }\n\n        const value = mark.associatedValue;\n        if (viewInstance._cachedAbacusProperty?.value !== value) {\n          viewInstance._calcHandleValues(value);\n        }\n      });\n\n      mark.htmlElement.addEventListener('touchend', () => {\n        const viewInstance = this;\n        if (viewInstance._isDisabled) {\n          return;\n        }\n\n        const value = mark.associatedValue;\n        if (viewInstance._cachedAbacusProperty?.value !== value) {\n          viewInstance._calcHandleValues(value);\n        }\n      });\n    });\n  }\n\n  /**\n   * Установка css-свойства \"transition\" элементам интерфейса слайдера.\n   * Первоначальное значение береться из model.abacusProperty.aniamte.\n   * @private\n   */\n  private _setTransition(): void{\n    let duration = '';\n    const { animate } = this._presenter.getModelAbacusProperty();\n    if (typeof animate === 'number' && animate > 0) {\n      duration = animate.toString();\n    } else if (animate === true) {\n      duration = '400';\n    } else if (animate === 'slow') {\n      duration = '600';\n    } else if (animate === 'fast') {\n      duration = '200';\n    }\n\n    duration = duration ? `${duration}ms` : '';\n\n    for (let i = 0; i < this._handles.length; i += 1) {\n      this._handles[i].htmlElement.style.transition = duration;\n      if (this._tooltips[i]) {\n        this._tooltips[i].htmlElement.style.transition = duration;\n      }\n    }\n\n    this._range.htmlElement.style.transition = duration;\n\n    this._collectionMarks.forEach((mapItem) => {\n      const mark = mapItem;\n      mark.htmlElement.style.transition = duration;\n    });\n  }\n\n  /**\n   *\n   * @param abacusProperty\n   * @returns\n   */\n  static getCloneAbacusProperty(abacusProperty: AbacusProperty): AbacusProperty {\n    const cloneProperty = {} as AbacusProperty;\n    Object.assign(cloneProperty, abacusProperty);\n    cloneProperty.values = abacusProperty.values?.slice(0);\n    Object.assign(cloneProperty.classes, abacusProperty.classes);\n    return cloneProperty;\n  }\n\n  /**\n   *\n   * @returns\n   */\n  private _findMovedHandle(): Handle {\n    const abacusProperty = this._presenter.getModelAbacusProperty();\n    const [firstHandle, secondHandle] = this._handles;\n    this._currentHandle = firstHandle;\n\n    if (this._cachedAbacusProperty) {\n      if (this._cachedAbacusProperty.values[1] !== abacusProperty.values[1]) {\n        this._currentHandle = secondHandle;\n      }\n    }\n\n    return this._currentHandle;\n  }\n\n  /**\n   * Функция получения количества знаков после запятой.\n   * @static\n   * @param {number} x Число, у которого надо узнать количество знаков после запятой.\n   * @returns {number} Количество знаков после запятой.\n   */\n  static countNumAfterPoint(x: number): number {\n    const xStr = x.toString();\n    return (`${xStr}`).indexOf('.') >= 0 ? (`${xStr}`).split('.')[1].length : 0;\n  }\n\n  /**\n   * Функция окргуления числа до того количества знаков после запятой, сколько этих знаков у числа fractionalNum.\n   * @static\n   * @param {number} value Число, которое надо округлить.\n   * @param {number} fractionalNum Число, у которого надо узнать количество знаков после запятой.\n   * @returns {number} Округленное число.\n   */\n  static round(value: number, fractionalNum: number): number {\n    const numbersAfterPoint = View.countNumAfterPoint(fractionalNum);\n    let roundedValue = value;\n    if (numbersAfterPoint > 0) {\n      roundedValue = parseFloat(value.toFixed(numbersAfterPoint));\n    } else {\n      roundedValue = Math.round(value);\n    }\n\n    return roundedValue;\n  }\n\n  /**\n   * Функция сравнения двух массивов с произвольними примитивными значениями.\n   * @static\n   * @param {Array<any>} a Массив\n   * @param {Array<any>} b Массив\n   * @returns {boolean} Возвращает \"true\" если массивы одинаковые. Иначе \"false\".\n   */\n  static arrayCompare(a?: Array<any>, b?: Array<any>): boolean {\n    if (!a || !b) return false;\n\n    if (a?.length !== b?.length) return false;\n\n    for (let i = 0; i < a.length; i += 1) {\n      if (a[i] !== b[i]) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n}\n","/**\n * Класс \"WidgetContainer\" является оберткой для HTML-элемента, в котором содержатся элементы слайдера.\n * Также класс является \"subView\", то есть частью Вида (Представления) согласно паттерну проектирования MVP.\n */\nexport default class WidgetContainer {\n  /**\n   * HTML-элемент, в котором содержатся элементы слайдера.\n   * @type {HTMLAbacusElement}\n   * @private\n   */\n  private _htmlElement: HTMLAbacusElement;\n\n  /**\n   * Ширина HTML-элемента от 0 до 100 в процентах.\n   * @type {number}\n   * @private\n   */\n  private _width = 100;\n\n  /**\n   * Название класса HTML-элемента.\n   * @type {string}\n   * @private\n   */\n  private _className: string;\n\n  /**\n   * Название класса HTML-элемента в заблокированном (неактивном) состоянии.\n   * @type {string}\n   * @private\n   */\n  private _classNameDisabled: string;\n\n  /**\n   * Название класса HTML-элемента в заблокированном (неактивном) состоянии.\n   * @type {string}\n   * @private\n   */\n  private _classNameVertical: string;\n\n  /**\n   * @constructor\n   * @this   {WidgetContainer}\n   * @param  {HTMLAbacusElement} htmlElement - HTML-элемент, в котором будут элементы слайдера.\n   * @param  {AbacusClasses} classes - Объект с названиями классов.\n   * @example new WidgetContainer({\n   *  abacus: 'abacus',\n   *  disabled: 'abacus_disabled'\n   * });\n   */\n  constructor(htmlElement: HTMLAbacusElement, classes?: AbacusClasses) {\n    this._htmlElement = htmlElement;\n    this._className = classes?.abacus ? classes.abacus : 'abacus';\n    this._classNameDisabled = classes?.disabled ? classes.disabled : 'abacus_disabled';\n    this._classNameVertical = classes?.vertical ? classes.vertical : 'abacus_vertical';\n    this._htmlElement.classList.add(this._className);\n    this._htmlElement.classList.add(`js-${this._className}`);\n  }\n\n  /**\n   * Геттер ширины HTML-элемента (_htmlElement).\n   */\n  public get width() : number {\n    return this._width;\n  }\n\n  /**\n   * Сеттер ширины HTML-элемента (_htmlElement).\n   * @param {number} width - ширина в процентах от 0 до 100.\n   */\n  public set width(width : number) {\n    this._width = width;\n  }\n\n  /**\n   * Геттер ссылки на HTML-элемент.\n   */\n  public get htmlElement() : HTMLAbacusElement {\n    return this._htmlElement;\n  }\n\n  /**\n   * Геттер названия класса HTML-элемента.\n   */\n  public get className() : string {\n    return this._className;\n  }\n\n  /**\n   * Сеттер названия класса HTML-элемента. Удаляет предудыщее название у HTML-элемента, а затем ставит новое название.\n   * @param {string} name - Название класса.\n   */\n  public set className(name : string) {\n    this._htmlElement.classList.remove(this._className);\n    this._htmlElement.classList.add(name);\n    this._className = name;\n  }\n\n  /**\n   * Геттер названия класса HTML-элемента в состоянии \"выключен\".\n   */\n  public get classNameDisabled() : string {\n    return this._classNameDisabled;\n  }\n\n  /**\n   * Сеттер названия класса HTML-элемента в состоянии \"выключен\".\n   * Удаляет предудыщее название у HTML-элемента, а затем ставит новое название.\n   * @param {string} name - Название класса.\n   */\n  public set classNameDisabled(name : string) {\n    if (!name || typeof name !== 'string') {\n      return;\n    }\n\n    if (this._htmlElement.classList.contains(this._classNameDisabled)) {\n      this._htmlElement.classList.add(name);\n    }\n    if (this._classNameDisabled) {\n      this._htmlElement.classList.remove(this._classNameDisabled);\n    }\n\n    this._classNameDisabled = name;\n  }\n\n  /**\n   * Геттер названия класса HTML-элемента в состоянии \"выключен\".\n   */\n  public get classNameVertical() : string {\n    return this._classNameVertical;\n  }\n\n  /**\n   * Сеттер названия класса HTML-элемента в состоянии \"выключен\".\n   * Удаляет предудыщее название у HTML-элемента, а затем ставит новое название.\n   * @param {string} name - Название класса.\n   */\n  public set classNameVertical(name : string) {\n    if (!name || typeof name !== 'string') {\n      return;\n    }\n\n    if (this._htmlElement.classList.contains(this._classNameVertical)) {\n      this._htmlElement.classList.add(name);\n    }\n    if (this._classNameVertical) {\n      this._htmlElement.classList.remove(this._classNameVertical);\n    }\n\n    this._classNameVertical = name;\n  }\n\n  /**\n   * Функция получения и установки активного/неактивного состояния.\n   * Если функция получила параметр false, то у HTML-элемента слайдера удалаяется класс,\n   * записанный в _classNameDisabled.\n   * Если функция получила параметр true, то HTML-элементу слайдера добавляется класс,\n   * записанный в _classNameDisabled.\n   * @param {boolean} value - Если передать \"true\", то добавляется класс, иначе удалается класс.\n   */\n  isDisabled(value: boolean): void{\n    if (value !== undefined && this._classNameDisabled) {\n      if (value) {\n        this._htmlElement.classList.add(this._classNameDisabled);\n      } else {\n        this._htmlElement.classList.remove(this._classNameDisabled);\n      }\n    }\n  }\n\n  /**\n   * Функция получения и установки активного/неактивного состояния.\n   * Если функция получила параметр false, то у HTML-элемента слайдера удалаяется класс,\n   * записанный в _classNameDisabled.\n   * Если функция получила параметр true, то HTML-элементу слайдера добавляется класс,\n   * записанный в _classNameDisabled.\n   * @param {boolean} value - Если передать \"true\", то добавляется класс, иначе удалается класс.\n   */\n  isVertical(value: boolean): void{\n    if (value !== undefined && this._classNameVertical) {\n      if (value) {\n        this._htmlElement.classList.add(this._classNameVertical);\n      } else {\n        this._htmlElement.classList.remove(this._classNameVertical);\n      }\n    }\n  }\n}\n","/**\n * @fileoverview\n */\n\nimport $ from 'jquery';\nimport View from './View/View';\n\n$.fn.abacus = function (\n  paramOptions ? : AbacusOptions | string,\n  param1 ? : AbacusOptions | number | string | number[],\n  param2 ? : number | string | boolean | null | AbacusClasses,\n) {\n  let returnResult: JQuery |\n  AbacusProperty |\n  number |\n  number[] |\n  boolean |\n  null |\n  undefined |\n  AbacusClasses |\n  View |\n  string = this;\n\n  this.each(function () {\n    const instanceHTMLAbacus: HTMLAbacusElement = this;\n    let view: View;\n\n    // получение или инициализация плагина\n    if (instanceHTMLAbacus.jqueryAbacusInstance instanceof View) {\n      view = instanceHTMLAbacus.jqueryAbacusInstance;\n    } else {\n      if (typeof paramOptions === 'object') {\n        view = new View(instanceHTMLAbacus, paramOptions);\n      } else {\n        view = new View(instanceHTMLAbacus);\n      }\n\n      instanceHTMLAbacus.jqueryAbacusInstance = view;\n    }\n\n    if (typeof paramOptions === 'string') {\n      let resultOption: AbacusProperty | number | string | number[] | boolean | null | AbacusClasses | undefined;\n\n      switch (paramOptions) {\n        case 'destroy':\n          break;\n\n        case 'disable':\n          view.option('disabled', true);\n          break;\n\n        case 'enable':\n          view.option('disabled', false);\n          break;\n\n        case 'instance':\n          returnResult = view;\n          break;\n\n        case 'option':\n          if (typeof param1 === 'object') {\n            resultOption = view.option(undefined, param1);\n          } else if (typeof param1 === 'string') {\n            resultOption = view.option(param1, param2);\n          } else {\n            resultOption = view.option();\n          }\n\n          if (typeof resultOption !== undefined) {\n            returnResult = resultOption;\n          }\n          break;\n\n        case 'value':\n          resultOption = view.option('value', param2);\n\n          if (typeof resultOption !== undefined) {\n            returnResult = resultOption;\n          }\n          break;\n\n        case 'values':\n          break;\n\n        case 'widget':\n          break;\n\n        default:\n          break;\n      }\n    }\n  });\n\n  return returnResult;\n};\n","module.exports = jQuery;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module\n// This entry module is referenced by other modules so it can't be inlined\n__webpack_require__(\"./src/scripts/abacus.ts\");\n__webpack_require__(\"./src/styles/abacus.scss\");\n"],"sourceRoot":""}